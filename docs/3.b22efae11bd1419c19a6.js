(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"3b8F":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var o=n("TYT/"),i=n("Np2A"),r=n("7o2P"),a=n("MnXN"),c=n("Valr"),l=n("3rkx");function u(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275text"](1,"Audit History"),o["\u0275\u0275elementEnd"]())}function s(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",8),o["\u0275\u0275elementStart"](1,"button",9),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().toggleShowAudit()})),o["\u0275\u0275element"](2,"i",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function d(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",11),o["\u0275\u0275elementStart"](1,"div",12),o["\u0275\u0275elementStart"](2,"div",13),o["\u0275\u0275elementStart"](3,"div",14),o["\u0275\u0275text"](4,"\xa0"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",15),o["\u0275\u0275text"](6,"\xa0"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"h5",16),o["\u0275\u0275elementStart"](8,"span",17),o["\u0275\u0275text"](9,"\xa0"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div",13),o["\u0275\u0275elementStart"](11,"div",14),o["\u0275\u0275text"](12,"\xa0"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"div",15),o["\u0275\u0275text"](14,"\xa0"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"div",18),o["\u0275\u0275elementStart"](16,"div",19),o["\u0275\u0275elementStart"](17,"div",0),o["\u0275\u0275elementStart"](18,"div",20),o["\u0275\u0275elementStart"](19,"strong",21),o["\u0275\u0275text"](20),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](21),o["\u0275\u0275elementStart"](22,"p",22),o["\u0275\u0275text"](23),o["\u0275\u0275pipe"](24,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](25,"p",23),o["\u0275\u0275text"](26),o["\u0275\u0275elementStart"](27,"span",24),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var t=e.$implicit,i=o["\u0275\u0275nextContext"](),r=o["\u0275\u0275reference"](7);return i.open(r,t.id)})),o["\u0275\u0275text"](28,"Details.."),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){var i=e.$implicit;o["\u0275\u0275advance"](20),o["\u0275\u0275textInterpolate"](i.user),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",i.activity," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](24,4,i.timestamp)),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"]("",i.message," ")}}function p(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275element"](1,"app-spinner-wrapper",25),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("showSpinner",n.showAuditProgress)}}function f(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"p"),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n)}}function v(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",26),o["\u0275\u0275elementStart"](1,"h4",27),o["\u0275\u0275text"](2,"Audit history"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"button",28),o["\u0275\u0275listener"]("click",(function(){return e.$implicit.dismiss("Cross click")})),o["\u0275\u0275elementStart"](4,"span",29),o["\u0275\u0275text"](5,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",30),o["\u0275\u0275template"](7,f,2,1,"p",31),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",32),o["\u0275\u0275elementStart"](9,"button",33),o["\u0275\u0275listener"]("click",(function(){return e.$implicit.close("ok")})),o["\u0275\u0275text"](10,"Ok"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngForOf",n.auditEventDetail)}}var m=function(){function t(t,e,n){this.auditService=t,this.commonService=e,this.modalService=n,this.showHeader=!0,this.closeIt=new o.EventEmitter,this.show=!0}return t.prototype.ngOnInit=function(){var t=this;this.showAuditProgress=!0,this.auditService.getAuditTrails(this.resourceType,this.resourceId).subscribe((function(e){t.audits=e.events,t.showAuditProgress=!1}))},t.prototype.open=function(t,e){var n=this;this.commonService.loadingData=!0,this.auditService.getAuditEventDetail(e).subscribe((function(e){n.auditEventDetail=e.changeDetails,n.commonService.loadingData=!1,n.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then((function(t){console.log(t)}),(function(t){console.log("Err!",t)}))}),(function(t){console.log(t)}))},t.prototype.toggleShowAudit=function(){this.closeIt.emit(!0)},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](r.a),o["\u0275\u0275directiveInject"](a.l))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-audit-history"]],inputs:{resourceType:"resourceType",resourceId:"resourceId",showHeader:"showHeader"},outputs:{closeIt:"closeIt"},decls:8,vars:4,consts:[[1,"card-body"],[1,"row","no-margin"],["class","card-title col-sm-6",4,"ngIf"],["class","col-sm-6 align-items-center justify-content-center",4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[4,"ngIf"],["eventDetail",""],[1,"card-title","col-sm-6"],[1,"col-sm-6","align-items-center","justify-content-center"],[1,"btn","float-right","pt-1","bg-transparent",3,"click"],[1,"fas","fa-times"],[1,"row"],[1,"col-auto","text-center","flex-column","d-none","d-sm-flex"],[1,"row","h-50"],[1,"col","border-right"],[1,"col"],[1,"m-2"],[1,"badge","badge-pill","bg-primary"],[1,"col","py-2"],[1,"card","border-success","shadow"],[1,"mb-1"],["_ngcontent-qsh-c199","",1,"mr-1"],[1,"text-muted"],[1,"card-text"],[1,"text-primary","pointer",3,"click"],[3,"showSpinner"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark","btn-rounded",3,"click"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275template"](2,u,2,0,"div",2),o["\u0275\u0275template"](3,s,3,0,"div",3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](4,d,29,6,"div",4),o["\u0275\u0275template"](5,p,2,1,"div",5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](6,v,11,1,"ng-template",null,6,o["\u0275\u0275templateRefExtractor"])),2&t&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.showHeader),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.showHeader),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",e.audits),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.showAuditProgress))},directives:[c.p,c.o,l.a],pipes:[c.f],styles:[""]}),t}()},"4iqE":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var o=function(t){return t[t.ADD=0]="ADD",t[t.EDIT=1]="EDIT",t[t.READ_ONLY=2]="READ_ONLY",t[t.CLONE=3]="CLONE",t}({}),i=function(t){return t[t.CREATE=0]="CREATE",t[t.UPDATE=1]="UPDATE",t[t.SUBMIT=2]="SUBMIT",t[t.APPROVE=3]="APPROVE",t[t.REJECT=4]="REJECT",t[t.DELETE=5]="DELETE",t[t.CANCEL=6]="CANCEL",t[t.DISCARD=7]="DISCARD",t}({})},"7o2P":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("TYT/"),i=function(){function t(){}return t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}()},H2Tg:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n("Valr"),i=n("jgPy"),r=n("QJY3"),a=n("TYT/"),c=function(){function t(){}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[o.c,i.a,r.FormsModule,r.ReactiveFormsModule]]}),t}()},Iab2:function(t,e,n){var o,i;void 0===(i="function"==typeof(o=function(){"use strict";function e(t,e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){r(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(t,r,a){var c=i.URL||i.webkitURL,l=document.createElement("a");l.download=r=r||t.name||"download",l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?o(l):n(l.href)?e(t,r,a):o(l,l.target="_blank")):(l.href=c.createObjectURL(t),setTimeout((function(){c.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,r){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,r),i);else if(n(t))e(t,i,r);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout((function(){o(a)}))}}:function(t,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,o);var a="application/octet-stream"===t.type,c=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&c)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var s=i.URL||i.webkitURL,d=s.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){s.revokeObjectURL(d)}),4e4)}});i.saveAs=r.saveAs=r,t.exports=r})?o.apply(e,[]):o)||(t.exports=i)},Np2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("dzgT"),i=n("F/XL"),r=n("0o5J"),a=n("TYT/"),c=n("cUzu"),l=function(){function t(t,e){this.http=t,this.webApiProvider=e}return t.prototype.loadAuditData=function(){var t=this;return Object(o.a)(this.getAllAudits(),(function(e){t.audits=e}))},t.prototype.checkAuth=function(){},t.prototype.getuser=function(){return Object(i.a)({})},t.prototype.getAllAudits=function(){return this.http.get("api/audits")},t.prototype.getAuditTrails=function(t,e){return this.webApiProvider.get("audit-trail/v1/"+t+"/"+e)},t.prototype.getAuditEventDetail=function(t){return this.webApiProvider.get("audit-trail/v1/"+t)},t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](c.c),a["\u0275\u0275inject"](r.c))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},he9t:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("TYT/"),i=function(){function t(){this.crudStatus=[{code:"ACTIVE",display:"Active"},{code:"INACTIVE",display:"Inactive"}],this.clientTypes=[{code:"MAIN_CLIENT",display:"Main client"},{code:"SUB_CLIENT",display:"Sub client"},{code:"MAIN_SUB_CLIENT",display:"Main and sub client"}],this.yesNoConstants=[{code:!0,display:"Yes"},{code:!1,display:"No"}],this.waybillStatus=[{code:"CREATED",display:"Created"},{code:"CANCELED",display:"Cancelled"},{code:"DELIVERED ",display:"Delivered"}],this.pageSize=8,this.dispatchPageSize=6}return t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}()},kJ0Q:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o,i=n("MnXN"),r=n("TYT/"),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DELIMITER="-",e}return a(e,t),e.prototype.fromModel=function(t){if(t){var e=t.split(this.DELIMITER);return{day:parseInt(e[2],10),month:parseInt(e[1],10),year:parseInt(e[0],10)}}return null},e.prototype.toModel=function(t){return t?t.year+this.DELIMITER+t.month+this.DELIMITER+t.day:null},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return l(t||e)}}),e}(i.g),l=r["\u0275\u0275getInheritedFactory"](c)},"no7+":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var o,i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(){return function(){}}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r)},oR8h:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("26FU"),i=n("67Y/"),r=n("0o5J"),a=n("TYT/"),c=n("qT8p"),l=function(){function t(t,e){this.toastr=t,this.webApiProvider=e,this.onClientSelected=new o.a(null),this.onAdvancedSearchApplied=new o.a(null),this.onClearSearchApplied=new o.a(null)}return t.prototype.loadClientData=function(t,e){return this.getAllClients(t-1,e)},t.prototype.create=function(t){return this.webApiProvider.post("client/v1/",t,!0)},t.prototype.update=function(t){return this.webApiProvider.put("client/v1/"+t.id,t)},t.prototype.delete=function(t){return this.webApiProvider.delete("client/v1/"+t,!0)},t.prototype.getAllClients=function(t,e){return this.webApiProvider.get("client/v1/list/"+t+"/"+e,!0)},t.prototype.getMainAndSubClientsNoPagination=function(){return this.webApiProvider.get("client/v1/list?includeSubClients=true",!0)},t.prototype.getAllClientsNoPagination=function(){return this.webApiProvider.get("client/v1/list",!0)},t.prototype.getAllSubClientsForGivenMainClient=function(t){return this.webApiProvider.get("client/v1/list/"+t)},t.prototype.getDepotForClient=function(t){return this.webApiProvider.post("depot/v1/userdepots?clientId="+t,null,!0)},t.prototype.getClientById=function(t){var e=this;return this.loadingData=!0,this.getAllClienById(t).pipe(Object(i.a)((function(t){return e.onClientSelected.next({client:t}),e.loadingData=!1,t})))},t.prototype.selectClient=function(t){return e=this,void 0,o=function(){return function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}(this,(function(e){switch(e.label){case 0:return this.loadingCollection=!0,this.loadingData=!0,[4,this.delay(1e3)];case 1:return e.sent(),this.onClientSelected.next({client:t}),this.loadingData=!1,[2]}}))},new((n=void 0)||(n=Promise))((function(t,i){function r(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof n?o:new n((function(t){t(o)}))).then(r,a)}c((o=o.apply(e,[])).next())}));var e,n,o},t.prototype.delay=function(t){return new Promise((function(e){return setTimeout(e,t)}))},t.prototype.getAllClienById=function(t){return this.webApiProvider.get("client/v1/"+t)},t.prototype.getAllClientAssociationGroup=function(){return this.webApiProvider.get("client-assoc-grp/v1/list")},t.prototype.performAdvancedSearch=function(t){var e=this;this.loadingCollection=!0,this.webApiProvider.getwithSearchParam("client/v1/list/0/6",t.params).subscribe((function(t){t&&(e.onAdvancedSearchApplied.next({clients:t}),e.loadingCollection=!1)}),(function(t){e.toastr.error(t.errorMessage,"Failed"),e.loadingCollection=!1}))},t.prototype.getAllMainClients=function(){return this.webApiProvider.get("client/v1/list",!0)},t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](c.b),a["\u0275\u0275inject"](r.c))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"y/l7":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n("0o5J"),i=n("TYT/"),r=function(){function t(t){this.webApiProvider=t}return t.prototype.download=function(t){return this.webApiProvider.get("attachment/v1/"+t)},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](o.c))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);