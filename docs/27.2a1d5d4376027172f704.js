(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{EKcg:function(e,t,n){"use strict";n.r(t);var o,r=n("Valr"),i=n("DUip"),a=n("7o2P"),l=n("TYT/"),s=n("o8Qb"),p=n("MnXN"),d=n("4cXr"),c=n("cUzu"),u=n("qT8p"),m=function(){function e(e,t,n){this.http=e,this.toastr=t,this.webApiProvider=n}return e.prototype.getEodJobStatusForDepot=function(e){return this.webApiProvider.get("eod/v1/job/status/"+e,!0)},e.prototype.searchJobHisotry=function(e,t,n){return this.webApiProvider.get("eod/v1/history/list/"+e+"/"+t+n,!0)},e.prototype.searchEodBalance=function(e,t,n){return this.webApiProvider.get("eod/v1/balance/list/"+e+"/"+t+n,!0)},e.prototype.run=function(e,t){return this.webApiProvider.get("eod/v1/run/"+e+"?forDate="+t)},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](c.c),l["\u0275\u0275inject"](u.b),l["\u0275\u0275inject"](d.a))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),v=n("Jq/4"),h=n("QJY3"),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DELIMITER="/",t}return f(t,e),t.prototype.fromModel=function(e){if(e){var t=e.split(this.DELIMITER);return{day:parseInt(t[0],10),month:parseInt(t[1],10),year:parseInt(t[2],10)}}return null},t.prototype.toModel=function(e){return e?e.day+this.DELIMITER+e.month+this.DELIMITER+e.year:null},t.\u0275prov=l["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac=function(e){return g(e||t)}}),t}(p.g),g=l["\u0275\u0275getInheritedFactory"](y),S=function(){function e(e,t){this.ts=e,this.activeModal=t,this.eodDate=new h.FormControl}return e.prototype.ngOnInit=function(){},e.prototype.confirm=function(){this.activeModal.close({status:!0,eodDate:this.eodDate.value})},e.prototype.cancel=function(){this.activeModal.close({status:!1})},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](s.d),l["\u0275\u0275directiveInject"](p.b))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-date-modal"]],features:[l["\u0275\u0275ProvidersFeature"]([{provide:p.g,useClass:y}])],decls:23,vars:13,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"form-group"],["for","picker1"],[1,"input-group"],["id","picker1","placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"formControl"],["dp","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"icon-regular","i-Calendar-4"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","btn-rounded",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger","btn-rounded",3,"click"]],template:function(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"h4",1),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",2),l["\u0275\u0275elementStart"](5,"form"),l["\u0275\u0275elementStart"](6,"div",3),l["\u0275\u0275elementStart"](7,"label",4),l["\u0275\u0275text"](8),l["\u0275\u0275pipe"](9,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"div",5),l["\u0275\u0275element"](11,"input",6,7),l["\u0275\u0275elementStart"](13,"div",8),l["\u0275\u0275elementStart"](14,"button",9),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275reference"](12).toggle()})),l["\u0275\u0275element"](15,"i",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"div",11),l["\u0275\u0275elementStart"](17,"button",12),l["\u0275\u0275listener"]("click",(function(){return t.cancel()})),l["\u0275\u0275text"](18),l["\u0275\u0275pipe"](19,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"button",13),l["\u0275\u0275listener"]("click",(function(){return t.confirm()})),l["\u0275\u0275text"](21),l["\u0275\u0275pipe"](22,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](3,5,"eod.modal.title")),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](9,7,"eod.modal.eodDateLabel")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("formControl",t.eodDate),l["\u0275\u0275advance"](7),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](19,9,"common.button.cancel")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](22,11,"common.button.ok")))},directives:[h["\u0275angular_packages_forms_forms_y"],h.NgControlStatusGroup,h.NgForm,p.l,h.DefaultValueAccessor,h.NgControlStatus,h.FormControlDirective],pipes:[s.c],styles:[""]}),e}(),b=n("1PnN"),E=n("3rkx");function C(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",8),l["\u0275\u0275elementStart"](1,"button",9),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().executeRun()})),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](3,1,"eod.button.runLabel")))}var I=function(e){return{"text-success":e}};function A(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td",14),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"td"),l["\u0275\u0275text"](6),l["\u0275\u0275pipe"](7,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"td"),l["\u0275\u0275text"](9),l["\u0275\u0275pipe"](10,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.name," "),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](11,I,"SUCCESS"===n.jobStatus)),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",n.jobStatus," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](7,5,n.startedAt,"medium")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](10,8,n.completedAt,"medium")," ")}}function w(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",10),l["\u0275\u0275elementStart"](1,"table",11),l["\u0275\u0275elementStart"](2,"thead"),l["\u0275\u0275elementStart"](3,"tr"),l["\u0275\u0275elementStart"](4,"th",12),l["\u0275\u0275text"](5,"Job"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"th",12),l["\u0275\u0275text"](7,"Status"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"th",12),l["\u0275\u0275text"](9,"Started At"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"th",12),l["\u0275\u0275text"](11,"Completed At"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"tbody"),l["\u0275\u0275template"](13,A,11,13,"tr",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](13),l["\u0275\u0275property"]("ngForOf",n.statuses)}}function x(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-spinner-wrapper",15),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("showSpinner",n.showProgress)}}var D=function(){function e(e,t,n,o,r){this.eodService=e,this.depotService=t,this.modalService=n,this.ts=o,this.toastr=r,this.showProgress=!1,this.statuses=[],this.depots=[]}return e.prototype.ngOnInit=function(){var e=this;this.showProgress=!0,this.depotService.getAllDepotsNoPagination().subscribe((function(t){e.depots=t.data.depots,e.showProgress=!1}),(function(t){e.showProgress=!1,console.log(t)}))},e.prototype.loadJobStatusForDepot=function(e){var t,n=this;(null===(t=e)||void 0===t?void 0:t.id)?(this.selectedDepot=e.id,this.showProgress=!0,this.eodService.getEodJobStatusForDepot(e.id).subscribe((function(e){n.statuses=e,n.showProgress=!1}),(function(e){console.log(e),n.showProgress=!1}))):this.statuses=[]},e.prototype.executeRun=function(){var e=this;this.modalService.open(S,{ariaLabelledBy:"modal-basic-title",centered:!0}).result.then((function(t){t.status?(e.showProgress=!0,e.eodService.run(e.selectedDepot,t.eodDate.toString()).subscribe((function(t){e.toastr.success("{{'eod.run.submitSuccessMsg'|translate}}","Success",{timeOut:4e3}),e.showProgress=!1}),(function(t){var n=JSON.parse(t.error);e.toastr.error(n.errorMessage,"Failed",{timeOut:4e3}),e.showProgress=!1}))):console.log("Modal closed")}))},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](m),l["\u0275\u0275directiveInject"](v.a),l["\u0275\u0275directiveInject"](p.m),l["\u0275\u0275directiveInject"](s.d),l["\u0275\u0275directiveInject"](u.b))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["eod-run"]],decls:9,vars:8,consts:[[1,"row","mt-3"],[1,"card","card-body"],[1,"row","mb-3","pl-10"],[1,"col-md-3"],["bindLabel","name","bindValue","id",3,"items","multiple","placeholder","change"],["class","col-6",4,"ngIf"],["class","col-md-12 mt-5",4,"ngIf"],[4,"ngIf"],[1,"col-6"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-12","mt-5"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"ngClass"],[3,"showSpinner"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"ng-select",4),l["\u0275\u0275listener"]("change",(function(e){return t.loadJobStatusForDepot(e)})),l["\u0275\u0275pipe"](5,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](6,C,4,3,"div",5),l["\u0275\u0275template"](7,w,14,1,"div",6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](8,x,2,1,"div",7),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](4),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](5,6,"common.placeHolder.selectDepot")),l["\u0275\u0275property"]("items",t.depots)("multiple",!1),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.selectedDepot),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.statuses.length>0),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.showProgress))},directives:[b.a,r.p,r.o,r.n,E.a],pipes:[s.c,r.f],styles:[""]}),e}(),P=n("he9t"),T=n("kJ0Q"),R=function(e){return{"text-success":e}};function j(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"td",24),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"td"),l["\u0275\u0275text"](8),l["\u0275\u0275pipe"](9,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"td"),l["\u0275\u0275text"](11),l["\u0275\u0275pipe"](12,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"td"),l["\u0275\u0275text"](14),l["\u0275\u0275pipe"](15,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,o=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.name," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",o.getJobTypeText(n.jobType)," "),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](16,R,"SUCCESS"===n.jobStatus)),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",n.jobStatus," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](9,7,n.startedAt,"medium")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](12,10,n.completedAt,"medium")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](15,13,n.eodDate,"medium")," ")}}function N(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",17),l["\u0275\u0275elementStart"](1,"table",18),l["\u0275\u0275elementStart"](2,"thead"),l["\u0275\u0275elementStart"](3,"tr"),l["\u0275\u0275elementStart"](4,"th",19),l["\u0275\u0275text"](5,"Job name"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"th",19),l["\u0275\u0275text"](7,"Job type"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"th",19),l["\u0275\u0275text"](9,"Status"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"th",19),l["\u0275\u0275text"](11,"Started At"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"th",19),l["\u0275\u0275text"](13,"Completed At"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"th",19),l["\u0275\u0275text"](15,"EOD date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"tbody"),l["\u0275\u0275template"](17,j,16,18,"tr",20),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](18,"div",21),l["\u0275\u0275elementStart"](19,"div",22),l["\u0275\u0275elementStart"](20,"ngb-pagination",23),l["\u0275\u0275listener"]("pageChange",(function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().page=e}))("pageChange",(function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().getPageFromService(e)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var o=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](17),l["\u0275\u0275property"]("ngForOf",o.jobHistories),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("collectionSize",o.collectionSize)("page",o.page)("pageSize",o.pageSize)("maxSize",4)("ellipses",!0)("boundaryLinks",!0)}}function F(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275elementStart"](1,"p",25),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](3,1,"common.messages.noRecordFound")," "))}function k(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-spinner-wrapper",26),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("showSpinner",n.showProgress)}}var L=function(){function e(e,t,n,o){this.constants=e,this.depotService=t,this.eodService=n,this.ts=o,this.showProgress=!1,this.noRecordFound=!1,this.page=1,this.pageSize=this.constants.pageSize,this.depots=[],this.jobHistories=[],this.jobTypes=this.constants.eodJobTypes,this.depotControl=new h.FormControl,this.eodDateControl=new h.FormControl,this.jobControl=new h.FormControl}return e.prototype.ngOnInit=function(){var e=this;this.showProgress=!0,this.depotService.getAllDepotsNoPagination().subscribe((function(t){e.depots=t.data.depots,e.showProgress=!1}),(function(t){e.showProgress=!1,console.log(t)}))},e.prototype.search=function(){var e=this;this.showProgress=!0;var t=this.getQueryParam(this.depotControl.value,this.eodDateControl.value,this.jobControl.value);this.eodService.searchJobHisotry(this.page-1,this.pageSize,t).subscribe((function(t){e.jobHistories=t.content,e.noRecordFound=0==e.jobHistories.length,e.collectionSize=t.totalElements,e.showProgress=!1}),(function(t){e.showProgress=!1,console.log(t)}))},e.prototype.clear=function(){this.depotControl.setValue(null),this.jobControl.setValue(null),this.eodDateControl.setValue(null),this.noRecordFound=!1},e.prototype.getPageFromService=function(e){var t=this;this.showProgress=!0;var n=this.getQueryParam(this.depotControl.value,this.eodDateControl.value,this.jobControl.value);this.eodService.searchJobHisotry(e-1,this.pageSize,n).subscribe((function(e){t.jobHistories=e.content,t.collectionSize=e.totalElements,t.showProgress=!1}),(function(e){console.log(e.error),t.showProgress=!1}))},e.prototype.getJobTypeText=function(e){var t="";return this.jobTypes.forEach((function(n){n.value===e&&(t=n.display)})),t},e.prototype.getQueryParam=function(e,t,n){var o="?depotId="+(e||"");return t&&(o=o+"&eodDate="+(t?t.toString():"")),n&&(o=o+"&jobType="+(n||"")),o},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](P.a),l["\u0275\u0275directiveInject"](v.a),l["\u0275\u0275directiveInject"](m),l["\u0275\u0275directiveInject"](s.d))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["eod-history"]],features:[l["\u0275\u0275ProvidersFeature"]([{provide:p.g,useClass:T.a}])],decls:27,vars:25,consts:[[1,"row","mt-3"],[1,"card","card-body"],[1,"row","mb-3","pl-10"],[1,"col-md-3"],["bindLabel","name","bindValue","id",3,"items","formControl","multiple","placeholder"],["bindLabel","display","bindValue","value",3,"items","formControl","multiple","placeholder"],[1,"col-md-3","input-group"],["id","picker2","name","dp2","ngbDatepicker","",1,"form-control",3,"placeholder","formControl"],["dp2","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"icon-regular","i-Calendar-4"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-search"],["type","button",1,"btn","btn-outline-primary","ml-3",3,"click"],["class","col-md-12 mt-5",4,"ngIf"],[4,"ngIf"],[1,"col-md-12","mt-5"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"separator-breadcrumb","border-top"],[1,"row","no-margin","pagination-div","border-rightr","justify-content-center"],["aria-label","Default pagination",3,"collectionSize","page","pageSize","maxSize","ellipses","boundaryLinks","pageChange"],[3,"ngClass"],[1,"text-primary"],[3,"showSpinner"]],template:function(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275element"](4,"ng-select",4),l["\u0275\u0275pipe"](5,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",3),l["\u0275\u0275element"](7,"ng-select",5),l["\u0275\u0275pipe"](8,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"div",6),l["\u0275\u0275element"](10,"input",7,8),l["\u0275\u0275pipe"](12,"translate"),l["\u0275\u0275elementStart"](13,"div",9),l["\u0275\u0275elementStart"](14,"button",10),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275reference"](11).toggle()})),l["\u0275\u0275element"](15,"i",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"div",6),l["\u0275\u0275elementStart"](17,"button",12),l["\u0275\u0275listener"]("click",(function(){return t.search()})),l["\u0275\u0275element"](18,"i",13),l["\u0275\u0275text"](19),l["\u0275\u0275pipe"](20,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"button",14),l["\u0275\u0275listener"]("click",(function(){return t.clear()})),l["\u0275\u0275text"](22),l["\u0275\u0275pipe"](23,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](24,N,21,7,"div",15),l["\u0275\u0275template"](25,F,4,3,"div",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](26,k,2,1,"div",16),l["\u0275\u0275elementEnd"]()}2&e&&(l["\u0275\u0275advance"](4),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](5,15,"common.placeHolder.selectDepot")),l["\u0275\u0275property"]("items",t.depots)("formControl",t.depotControl)("multiple",!1),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](8,17,"common.placeHolder.selectJobType")),l["\u0275\u0275property"]("items",t.jobTypes)("formControl",t.jobControl)("multiple",!1),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](12,19,"eod.placeHolder.selectEODDate")),l["\u0275\u0275property"]("formControl",t.eodDateControl),l["\u0275\u0275advance"](9),l["\u0275\u0275textInterpolate1"]("\xa0\xa0",l["\u0275\u0275pipeBind1"](20,21,"common.button.search"),""),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](23,23,"common.button.clear")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.jobHistories.length>0),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.noRecordFound),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.showProgress))},directives:[b.a,h.NgControlStatus,h.FormControlDirective,p.l,h.DefaultValueAccessor,r.p,r.o,p.o,r.n,E.a],pipes:[s.c,r.f],styles:[""]}),e}(),B=n("oR8h"),M=n("EbFV");function O(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"td"),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"td"),l["\u0275\u0275text"](8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"td"),l["\u0275\u0275text"](10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"td"),l["\u0275\u0275text"](12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"td"),l["\u0275\u0275text"](14),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"td"),l["\u0275\u0275text"](16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"td"),l["\u0275\u0275text"](18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](19,"td"),l["\u0275\u0275text"](20),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"td"),l["\u0275\u0275text"](22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"td"),l["\u0275\u0275text"](24),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,o=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",o.getClientName(n.clientId)," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",o.getProductName(n.productId)," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.openingBalance?n.openingBalance:0," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.closingBalance," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.totalTruckDelivery," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.totalTruckSales," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.totalSwapDelivery," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.totalTruckReceipt," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.totalBargeReceipt," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.totalPipelineReceipt," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.totalVesselReceipt," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.totalSwapReceipt," ")}}function _(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",16),l["\u0275\u0275elementStart"](1,"table",17),l["\u0275\u0275elementStart"](2,"thead"),l["\u0275\u0275elementStart"](3,"tr"),l["\u0275\u0275elementStart"](4,"th",18),l["\u0275\u0275text"](5,"Client"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"th",18),l["\u0275\u0275text"](7,"Product"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"th",18),l["\u0275\u0275text"](9,"Opening balance(Ltr)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"th",18),l["\u0275\u0275text"](11,"Closing balance (Ltr)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"th",18),l["\u0275\u0275text"](13,"Total truck delivery(Ltr)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"th",18),l["\u0275\u0275text"](15,"Total truck sales(Ltr)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"th",18),l["\u0275\u0275text"](17,"Total swap delivery(Ltr)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"th",18),l["\u0275\u0275text"](19,"Total truck receipt(Ltr)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"th",18),l["\u0275\u0275text"](21,"Total barge receipt(Ltr)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"th",18),l["\u0275\u0275text"](23,"Total pipeline receipt(Ltr)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"th",18),l["\u0275\u0275text"](25,"Total vessel receipt(Ltr)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"th",18),l["\u0275\u0275text"](27,"Total swap release(Ltr)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"tbody"),l["\u0275\u0275template"](29,O,25,12,"tr",19),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](30,"div",20),l["\u0275\u0275elementStart"](31,"div",21),l["\u0275\u0275elementStart"](32,"ngb-pagination",22),l["\u0275\u0275listener"]("pageChange",(function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().page=e}))("pageChange",(function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().getPageFromService(e)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var o=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](29),l["\u0275\u0275property"]("ngForOf",o.balances),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("collectionSize",o.collectionSize)("page",o.page)("pageSize",o.pageSize)("maxSize",4)("ellipses",!0)("boundaryLinks",!0)}}function V(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-spinner-wrapper",23),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("showSpinner",n.showProgress)}}var J=function(){function e(e,t,n,o,r,i){this.constants=e,this.depotService=t,this.eodService=n,this.ts=o,this.clientService=r,this.productService=i,this.showProgress=!1,this.balances=[],this.depotControl=new h.FormControl,this.eodDateControl=new h.FormControl,this.clientControl=new h.FormControl,this.page=1,this.pageSize=this.constants.pageSize,this.depots=[],this.clients=[],this.clientMaps={},this.prouductMaps={}}return e.prototype.ngOnInit=function(){var e=this;this.showProgress=!0,setTimeout((function(){e.loadRequiredDetails(),e.showProgress=!1}))},e.prototype.search=function(){var e=this;this.showProgress=!0;var t=this.getQueryParam(this.depotControl.value,this.eodDateControl.value,this.clientControl.value);this.eodService.searchEodBalance(this.page-1,this.pageSize,t).subscribe((function(t){e.balances=t.content,e.collectionSize=t.totalElements,e.showProgress=!1}),(function(t){e.showProgress=!1,console.log(t)}))},e.prototype.clear=function(){this.depotControl.setValue(null),this.clientControl.setValue(null),this.eodDateControl.setValue(null),this.balances=[]},e.prototype.getClientName=function(e){return this.clientMaps[e]},e.prototype.getProductName=function(e){return this.prouductMaps[e]},e.prototype.getPageFromService=function(e){var t=this;this.showProgress=!0;var n=this.getQueryParam(this.depotControl.value,this.eodDateControl.value,this.clientControl.value);this.eodService.searchEodBalance(e-1,this.pageSize,n).subscribe((function(e){t.balances=e.content,t.collectionSize=e.totalElements,t.showProgress=!1}),(function(e){console.log(e.error),t.showProgress=!1}))},e.prototype.getQueryParam=function(e,t,n){var o="?depotId="+(e||"");return t&&(o=o+"&eodDate="+(t?t.toString():"")),n&&(o=o+"&clientId="+(n||"")),o},e.prototype.loadRequiredDetails=function(){var e=this;this.depotService.getAllDepotsNoPagination().subscribe((function(t){e.depots=t.data.depots}),(function(e){console.log(e)})),this.clientService.getAllClientsNoPagination().subscribe((function(t){e.clients=t,e.clients.forEach((function(t){e.clientMaps[t.id]=t.name}))}),(function(e){console.log(e)})),this.productService.getProductTypes().subscribe((function(t){t.forEach((function(t){e.prouductMaps[t.id]=t.name}))}))},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](P.a),l["\u0275\u0275directiveInject"](v.a),l["\u0275\u0275directiveInject"](m),l["\u0275\u0275directiveInject"](s.d),l["\u0275\u0275directiveInject"](B.a),l["\u0275\u0275directiveInject"](M.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["eod-balance"]],features:[l["\u0275\u0275ProvidersFeature"]([{provide:p.g,useClass:T.a}])],decls:25,vars:21,consts:[[1,"row","mt-3"],[1,"card","card-body"],[1,"row","mb-3","pl-10"],[1,"col-md-3"],["bindLabel","name","bindValue","id",3,"items","formControl","multiple","placeholder"],[1,"col-md-3","input-group"],["id","picker2","placeholder","yyyy-mm-dd","name","dp2","ngbDatepicker","","required","",1,"form-control",3,"formControl"],["dp2","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"icon-regular","i-Calendar-4"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-search"],["type","button",1,"btn","btn-outline-primary","ml-3",3,"click"],["class","col-md-12 mt-5",4,"ngIf"],[4,"ngIf"],[1,"col-md-12","mt-5"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"separator-breadcrumb","border-top"],[1,"row","no-margin","pagination-div","border-rightr","justify-content-center"],["aria-label","Default pagination",3,"collectionSize","page","pageSize","maxSize","ellipses","boundaryLinks","pageChange"],[3,"showSpinner"]],template:function(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275element"](4,"ng-select",4),l["\u0275\u0275pipe"](5,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",3),l["\u0275\u0275element"](7,"ng-select",4),l["\u0275\u0275pipe"](8,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"div",5),l["\u0275\u0275element"](10,"input",6,7),l["\u0275\u0275elementStart"](12,"div",8),l["\u0275\u0275elementStart"](13,"button",9),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275reference"](11).toggle()})),l["\u0275\u0275element"](14,"i",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"div",5),l["\u0275\u0275elementStart"](16,"button",11),l["\u0275\u0275listener"]("click",(function(){return t.search()})),l["\u0275\u0275element"](17,"i",12),l["\u0275\u0275text"](18),l["\u0275\u0275pipe"](19,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"button",13),l["\u0275\u0275listener"]("click",(function(){return t.clear()})),l["\u0275\u0275text"](21),l["\u0275\u0275pipe"](22,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](23,_,33,7,"div",14),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](24,V,2,1,"div",15),l["\u0275\u0275elementEnd"]()}2&e&&(l["\u0275\u0275advance"](4),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](5,13,"common.placeHolder.selectDepot")),l["\u0275\u0275property"]("items",t.depots)("formControl",t.depotControl)("multiple",!1),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](8,15,"common.placeHolder.selectClient")),l["\u0275\u0275property"]("items",t.clients)("formControl",t.clientControl)("multiple",!1),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("formControl",t.eodDateControl),l["\u0275\u0275advance"](8),l["\u0275\u0275textInterpolate1"]("\xa0\xa0",l["\u0275\u0275pipeBind1"](19,17,"common.button.search"),""),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](22,19,"common.button.clear")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.balances.length>0),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.showProgress))},directives:[b.a,h.NgControlStatus,h.FormControlDirective,p.l,h.DefaultValueAccessor,h.RequiredValidator,r.p,r.o,p.o,E.a],pipes:[s.c],styles:[""]}),e}();function U(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",10),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"eod.tabs.run")))}function z(e,t){1&e&&l["\u0275\u0275element"](0,"eod-run")}function Y(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",10),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"eod.tabs.history")))}function H(e,t){1&e&&l["\u0275\u0275element"](0,"eod-history")}function G(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",10),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"eod.tabs.balance")))}function Q(e,t){1&e&&l["\u0275\u0275element"](0,"eod-balance")}var q=[{path:"",component:function(){function e(e,t){this.ts=e,this.commonService=t}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](s.d),l["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-eod"]],decls:23,vars:6,consts:[[1,"breadcrumb","space-between"],[1,"separator-breadcrumb","border-top"],[1,"row","no-margin","mt-3"],[1,"card","mb-4","w-100"],[1,"card-header","text-13","content-header"],[1,"m-0","text-title","text-muted","text-md","d-flex","align-items-center"],[1,"fa","fa-info","text-14"],[1,"card","card-body"],["ngbTabTitle",""],["ngbTabContent",""],[1,"text-primary","active"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"h1"),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](4,"div",1),l["\u0275\u0275elementStart"](5,"div",2),l["\u0275\u0275elementStart"](6,"div",3),l["\u0275\u0275elementStart"](7,"div",4),l["\u0275\u0275elementStart"](8,"p",5),l["\u0275\u0275element"](9,"i",6),l["\u0275\u0275text"](10),l["\u0275\u0275pipe"](11,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"div",7),l["\u0275\u0275elementStart"](13,"ngb-tabset"),l["\u0275\u0275elementStart"](14,"ngb-tab"),l["\u0275\u0275template"](15,U,3,3,"ng-template",8),l["\u0275\u0275template"](16,z,1,0,"ng-template",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"ngb-tab"),l["\u0275\u0275template"](18,Y,3,3,"ng-template",8),l["\u0275\u0275template"](19,H,1,0,"ng-template",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"ngb-tab"),l["\u0275\u0275template"](21,G,3,3,"ng-template",8),l["\u0275\u0275template"](22,Q,1,0,"ng-template",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](3,2,"eod.title")),l["\u0275\u0275advance"](8),l["\u0275\u0275textInterpolate1"]("\xa0\xa0",l["\u0275\u0275pipeBind1"](11,4,"eod.infoMsg"),""))},directives:[p.z,p.w,p.y,p.x,D,L,J],pipes:[s.c],styles:[".content-header[_ngcontent-%COMP%]{background:#dee2e6!important}"]}),e}()}],X=function(){function e(){}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.l.forChild(q)],i.l]}),e}(),K=n("PCNd"),W=n("jASi"),$=n("jgPy");n.d(t,"EodModule",(function(){return Z}));var Z=function(){function e(){}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,X,K.a,p.n,s.b,b.b,W.AppFormsModule,$.a,h.FormsModule,h.ReactiveFormsModule]]}),e}()},EbFV:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("0o5J"),r=n("TYT/"),i=function(){function e(e){this.webApiProvier=e}return e.prototype.getProductTypes=function(){return this.webApiProvier.get("product/v1/list",!0)},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](o.c))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"Jq/4":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("26FU"),r=n("67Y/"),i=n("0o5J"),a=n("TYT/"),l=n("qT8p"),s=function(){function e(e,t){this.toastr=e,this.webApiProvider=t,this.onDepotSelected=new o.a(null),this.onAdvancedSearchApplied=new o.a(null),this.onClearSearchApplied=new o.a(null)}return e.prototype.loadDepotData=function(e,t){return this.loadDepotDataNoPagination(e,t)},e.prototype.loadDepotDataNoPagination=function(e,t){return this.getAllDepotsNoPagination()},e.prototype.create=function(e){return this.webApiProvider.post("depot/v1/",e,!0)},e.prototype.update=function(e){return this.webApiProvider.put("depot/v1/"+e.id,e)},e.prototype.delete=function(e){return this.webApiProvider.delete("depot/v1/"+e,!0)},e.prototype.getAllDepots=function(e,t){return this.webApiProvider.get("depot/v1/allDepots/",!0)},e.prototype.getAllDepotsPaginated=function(e,t){return this.webApiProvider.get("depot/v1/list/"+e+"/"+t,!0)},e.prototype.getAllDepotsNoPagination=function(){return this.webApiProvider.get("depot/v1/allDepots",!0)},e.prototype.getAllTanksForDepot=function(e){return this.webApiProvider.post("depot/v1/depottanks/"+e,null,!0)},e.prototype.selectDepot=function(e){this.loadingCollection=!0,this.loadingData=!0,this.delay(500),this.onDepotSelected.next({depot:e}),this.loadingData=!1},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.loadDepotById=function(e){var t=this;return this.loadingData=!0,this.getDepotById(e).pipe(Object(r.a)((function(e){return t.onDepotSelected.next({depot:e}),t.loadingData=!1,e})))},e.prototype.getDepotById=function(e){return this.webApiProvider.get("depot/v1/"+e)},e.prototype.performAdvancedSearch=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.get("depot/v1/list/0/6"+e,!0).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({depots:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.performAdvancedSearchPost=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.postwithSearchParam("depot/v1/depots",e.params).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({depots:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.getProductsForDepot=function(e){return this.webApiProvider.post("depot/v1/depotprods?depotId="+e,null,!0)},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](l.b),a["\u0275\u0275inject"](i.c))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},he9t:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("TYT/"),r=function(){function e(){this.crudStatus=[{code:"ACTIVE",display:"Active"},{code:"INACTIVE",display:"Inactive"}],this.clientTypes=[{code:"MAIN_CLIENT",display:"Main client"},{code:"SUB_CLIENT",display:"Sub client"},{code:"MAIN_SUB_CLIENT",display:"Main and sub client"}],this.yesNoConstants=[{code:!0,display:"Yes"},{code:!1,display:"No"}],this.waybillStatus=[{code:"CREATED",display:"Created"},{code:"CANCELED",display:"Cancelled"},{code:"DELIVERED ",display:"Delivered"}],this.filterAction=[{value:"All",display:"All"},{value:"OPEN",display:"Open"},{value:"SUBMITTED",display:"Submitted"},{value:"APPROVED",display:"Approved"},{value:"REJECTED",display:"Rejected"},{value:"CANCELLED",display:"Cancelled"},{value:"PARTIALLY_EXECUTED",display:"Partially Executed"},{value:"EXECUTED",display:"Executed"},{value:"DISCARDED",display:"Discarded"},{value:"REOPENED",display:"Reopened"},{value:"SUBMIT_SYS_CANCELLED",display:"Submit sys cancelled"},{value:"APPROVE_SYS_CANCELLED",display:"Approve sys cancelled"},{value:"PARTIAL_SYS_CANCELLED",display:"Partial sys cancelled"}],this.transferTypes=[{value:"SWAP",display:"Inter Depot Swap"},{value:"INTRASWAP",display:"Intra Depot Swap"},{value:"RELEASE",display:"Release"}],this.eventTypes=[{id:1,name:"Client contract end"},{id:2,name:"Demo 2"}],this.eodJobTypes=[{value:"BALANCEUPDATE",display:"Update Actual Balances"},{value:"RESETBALANCE",display:"Reset Available Balances"},{value:"DISPATCHSTATUS",display:"Update Dispatch Status"},{value:"DAILYTXNBALANCE",display:"Capture Daily Txn Balances"}],this.weekDays=[{value:"MONDAY",display:"Monday"},{value:"TUESDAY",display:"Tuesday"},{value:"WEDNESDAY",display:"Wednesday"},{value:"THURSDAY",display:"Thursday"},{value:"FRIDAY",display:"Friday"},{value:"SATURDAY",display:"Saturday"},{value:"SUNDAY",display:"Sunday"}],this.monthsOfYear=[{value:"JANUARY",display:"January"},{value:"FEBRUARY",display:"February"},{value:"MARCH",display:"March"},{value:"APRIL",display:"April"},{value:"MAY",display:"May"},{value:"JUNE",display:"June"},{value:"JULY",display:"July"},{value:"AUGUST",display:"August"},{value:"SEPTEMBER",display:"September"},{value:"OCTOBER",display:"October"},{value:"NOVEMBER",display:"November"},{value:"DECEMBER",display:"December"}],this.transferStatus=[{value:"OPEN",display:"Open"},{value:"SUBMITTED",display:"Submitted"},{value:"APPROVED",display:"Approved"},{value:"REJECTED",display:"Rejected"},{value:"CANCELLED",display:"Cancelled"},{value:"EXECUTED",display:"Executed"},{value:"DISCARDED",display:"Discarded"},{value:"REOPENED",display:"Reopened"}],this.depotDates=[{value:0,display:"Same Day"},{value:1,display:"Next Day"}],this.vesselTypes=[{value:"UNSPECIFIEDSHIPS",display:"Unspecified Ships"},{value:"NAVIDATION_AIDS",display:"Navigation Aids"},{value:"FISHING",display:"Fishing"},{value:"TUGS_SPECIAL_CRAFT",display:"Tugs And Special Craft"},{value:"HIGHSPEED_CRAFT",display:"High Speed Craft"},{value:"CARGO_VESSEL",display:"Cargo Vessel"},{value:"TANKERS_PLESURE_CRAFT",display:"Tankers And Pleasure Craft"}],this.vesselStatus=[{value:"EN_ROUTE_TO_PORT",display:"En route to port"},{value:"DOCKED_AT_PORT",display:"Docked At Port"},{value:"ANCHORED",display:"At Anchorage"},{value:"LEFT_DEPOT",display:"Left Depot"}],this.receiptTypes=[{value:"BARGE",display:"Barge"},{value:"PIPELINE",display:"Pipeline"},{value:"TRUCK",display:"Truck"},{value:"VESSEL",display:"Vessel"}],this.pageSize=8,this.dispatchPageSize=8}return e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}()},kJ0Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o,r=n("MnXN"),i=n("TYT/"),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DELIMITER="/",t}return a(t,e),t.prototype.fromModel=function(e){if(e){var t=e.split(this.DELIMITER);return{month:parseInt(t[0],10),day:parseInt(t[1],10),year:parseInt(t[2],10)}}return null},t.prototype.toModel=function(e){return e?e.month+this.DELIMITER+e.day+this.DELIMITER+e.year:null},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac=function(e){return s(e||t)}}),t}(r.g),s=i["\u0275\u0275getInheritedFactory"](l)},oR8h:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("26FU"),r=n("67Y/"),i=n("0o5J"),a=n("TYT/"),l=n("qT8p"),s=function(){function e(e,t){this.toastr=e,this.webApiProvider=t,this.onClientSelected=new o.a(null),this.onAdvancedSearchApplied=new o.a(null),this.onClearSearchApplied=new o.a(null)}return e.prototype.loadClientData=function(e,t){return this.getAllClients(e-1,t)},e.prototype.create=function(e){return this.webApiProvider.post("client/v1/",e,!0)},e.prototype.update=function(e){return this.webApiProvider.put("client/v1/"+e.id,e)},e.prototype.delete=function(e){return this.webApiProvider.delete("client/v1/"+e,!0)},e.prototype.getAllClients=function(e,t){return this.webApiProvider.get("client/v1/list/"+e+"/"+t,!0)},e.prototype.getMainAndSubClientsNoPagination=function(){return this.webApiProvider.get("client/v1/list?includeSubClients=true",!0)},e.prototype.getAllClientsNoPagination=function(){return this.webApiProvider.get("client/v1/list",!0)},e.prototype.getAllSubClientsForGivenMainClient=function(e){return this.webApiProvider.get("client/v1/list/"+e)},e.prototype.getDepotForClient=function(e){return this.webApiProvider.post("depot/v1/userdepots?clientId="+e,null,!0)},e.prototype.getClientLedger=function(e,t,n){return this.webApiProvider.getwithSearchParam("client/ledger/v1/list/"+e+"/"+t,n.params)},e.prototype.getClientById=function(e){var t=this;return this.loadingData=!0,this.getAllClienById(e).pipe(Object(r.a)((function(e){return t.onClientSelected.next({client:e}),t.loadingData=!1,e})))},e.prototype.selectClient=function(e){return t=this,void 0,o=function(){var t=this;return function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(l){i=[6,l],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(n){return this.loadingCollection=!0,this.loadingData=!0,this.getAllClienById(e.id).subscribe((function(e){t.onClientSelected.next({client:e}),t.loadingData=!1})),[2]}))},new((n=void 0)||(n=Promise))((function(e,r){function i(e){try{l(o.next(e))}catch(t){r(t)}}function a(e){try{l(o.throw(e))}catch(t){r(t)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof n?o:new n((function(e){e(o)}))).then(i,a)}l((o=o.apply(t,[])).next())}));var t,n,o},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.getAllClienById=function(e){return this.webApiProvider.get("client/v1/"+e)},e.prototype.getAllClientAssociationGroup=function(){return this.webApiProvider.get("client-assoc-grp/v1/list")},e.prototype.performAdvancedSearch=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.getwithSearchParam("client/v1/list/0/6",e.params).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({clients:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.search=function(e,t,n){return this.webApiProvider.get("client/v1/list/"+(t-1)+"/"+n+e)},e.prototype.getAllMainClients=function(){return this.webApiProvider.get("client/v1/list",!0)},e.prototype.getAllNotification=function(){return this.webApiProvider.get("event/info/v1/type/CLIENT",!0)},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](l.b),a["\u0275\u0275inject"](i.c))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);