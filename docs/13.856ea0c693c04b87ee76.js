(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"4iqE":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(e){return e[e.ADD=0]="ADD",e[e.EDIT=1]="EDIT",e[e.READ_ONLY=2]="READ_ONLY",e[e.CLONE=3]="CLONE",e}({}),r=function(e){return e[e.CREATE=0]="CREATE",e[e.UPDATE=1]="UPDATE",e[e.SUBMIT=2]="SUBMIT",e[e.APPROVE=3]="APPROVE",e[e.REJECT=4]="REJECT",e[e.DELETE=5]="DELETE",e[e.CANCEL=6]="CANCEL",e[e.DISCARD=7]="DISCARD",e}({})},H2Tg:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("Valr"),r=n("jgPy"),l=n("QJY3"),o=n("oOf3"),i=n("X2FZ"),s=n("MnXN"),c=n("o8Qb"),d=n("1PnN"),p=n("TYT/"),m=function(){function e(){}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,r.a,l.FormsModule,l.ReactiveFormsModule,o.a,i.e,s.n,c.b,d.b]]}),e}()},"Jq/4":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("26FU"),r=n("67Y/"),l=n("0o5J"),o=n("TYT/"),i=n("qT8p"),s=function(){function e(e,t){this.toastr=e,this.webApiProvider=t,this.onDepotSelected=new a.a(null),this.onAdvancedSearchApplied=new a.a(null),this.onClearSearchApplied=new a.a(null)}return e.prototype.loadDepotData=function(e,t){return this.loadDepotDataNoPagination(e,t)},e.prototype.loadDepotDataNoPagination=function(e,t){return this.getAllDepotsNoPagination()},e.prototype.create=function(e){return this.webApiProvider.post("depot/v1/",e,!0)},e.prototype.update=function(e){return this.webApiProvider.put("depot/v1/"+e.id,e)},e.prototype.delete=function(e){return this.webApiProvider.delete("depot/v1/"+e,!0)},e.prototype.getAllDepots=function(e,t){return this.webApiProvider.get("depot/v1/allDepots/",!0)},e.prototype.getAllDepotsPaginated=function(e,t){return this.webApiProvider.get("depot/v1/list/"+e+"/"+t,!0)},e.prototype.getAllDepotsNoPagination=function(){return this.webApiProvider.get("depot/v1/allDepots",!0)},e.prototype.getAllTanksForDepot=function(e){return this.webApiProvider.post("depot/v1/depottanks/"+e,null,!0)},e.prototype.selectDepot=function(e){this.loadingCollection=!0,this.loadingData=!0,this.delay(500),this.onDepotSelected.next({depot:e}),this.loadingData=!1},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.loadDepotById=function(e){var t=this;return this.loadingData=!0,this.getDepotById(e).pipe(Object(r.a)((function(e){return t.onDepotSelected.next({depot:e}),t.loadingData=!1,e})))},e.prototype.getDepotById=function(e){return this.webApiProvider.get("depot/v1/"+e)},e.prototype.performAdvancedSearch=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.get("depot/v1/list/0/6"+e,!0).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({depots:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.performAdvancedSearchPost=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.postwithSearchParam("depot/v1/depots",e.params).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({depots:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.getProductsForDepot=function(e){return this.webApiProvider.post("depot/v1/depotprods?depotId="+e,null,!0)},e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](i.b),o["\u0275\u0275inject"](l.c))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},Pi1G:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,r=n("no7+"),l=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t}(r.b)},VAD1:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("26FU"),r=n("67Y/"),l=n("0o5J"),o=n("TYT/"),i=n("cUzu"),s=n("qT8p"),c=function(){function e(e,t,n){this.http=e,this.toastr=t,this.webApiProvider=n,this.onTransporterSelected=new a.a(null),this.onAdvancedSearchApplied=new a.a(null),this.onClearSearchApplied=new a.a(null),this.onTransporterUpdated=new a.a(null)}return e.prototype.loadTransporterData=function(e,t){return this.getAllTransporter(e-1,t)},e.prototype.create=function(e){return this.webApiProvider.post("transporter/v1/",e,!0)},e.prototype.update=function(e){return this.webApiProvider.put("transporter/v1/"+e.id,e)},e.prototype.delete=function(e){return this.webApiProvider.delete("transporter/v1/"+e,!0)},e.prototype.getAllTransporter=function(e,t){return this.webApiProvider.get("transporter/v1/list/"+e+"/"+t,!0)},e.prototype.getTransporterById=function(e){var t=this;return this.loadingData=!0,this.getAllTransporterById(e).pipe(Object(r.a)((function(e){return t.onTransporterSelected.next({transporter:e}),t.loadingData=!1,e})))},e.prototype.getAllTransporterById=function(e){return this.webApiProvider.get("transporter/v1/"+e)},e.prototype.getAllTransporterNoPagination=function(){return this.webApiProvider.get("transporter/v1/list")},e.prototype.performAdvancedSearch=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.getwithSearchParam("transporter/v1/list/0/6",e.params).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({transporters:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](i.c),o["\u0275\u0275inject"](s.b),o["\u0275\u0275inject"](l.c))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},WVGc:function(e,t,n){"use strict";n.r(t);var a,r=n("Valr"),l=n("DUip"),o=n("he9t"),i=n("7o2P"),s=n("TYT/"),c=n("QJY3"),d=n("goBR"),p=n("no7+"),m=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),t}(p.b),v=function(){return function(e){Object.assign(this,e)}}(),h=n("26FU"),f=n("0o5J"),y=(n("Pi1G"),n("qT8p")),b=function(){function e(e,t){this.toastr=e,this.webApiProvider=t,this.onJobSelected=new h.a(null),this.onWaybillPreviewLoad=new h.a(null),this.onAdvancedSearchApplied=new h.a(null),this.onClearSearchApplied=new h.a(null),this.onStatusChanged=new h.a(null)}return e.prototype.loadScheduleInfoData=function(e,t){return this.getAllScheduleJobInfo(e-1,t)},e.prototype.performAdvancedSearch=function(e,t,n){return this.webApiProvider.get("schedule/v1/list/"+e+"/"+t+n,!0)},e.prototype.deactivate=function(e){return this.webApiProvider.post("schedule/v1/deactivate/"+e,null,!0)},e.prototype.activate=function(e){return this.webApiProvider.post("schedule/v1/activate/"+e,null,!0)},e.prototype.getAllScheduleJobInfo=function(e,t){return this.webApiProvider.get("schedule/v1/list/"+e+"/"+t,!0)},e.prototype.selectJob=function(e){var t=this;this.loadingData=!0,this.webApiProvider.get("schedule/v1/"+e.id).subscribe((function(n){t.onJobSelected.next({basic:e,detail:n}),t.loadingData=!1}))},e.prototype.create=function(e){return this.webApiProvider.post("schedule/v1/",e,!0)},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](y.b),s["\u0275\u0275inject"](f.c))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),S=n("oR8h"),g=n("y/l7"),E=n("VAD1"),x=(n("8yxr"),n("rXAn")),w=n("MnXN"),D=n("3rkx");function C(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span",17),s["\u0275\u0275text"](1,"Active"),s["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span",18),s["\u0275\u0275text"](1,"Inactive"),s["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",13),s["\u0275\u0275elementStart"](1,"p",14),s["\u0275\u0275text"](2),s["\u0275\u0275template"](3,C,2,0,"span",15),s["\u0275\u0275template"](4,I,2,0,"span",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"]("",null==n.activeJobBase?null:n.activeJobBase.name," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","ACTIVE"==n.activeJobBase.status),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","ACTIVE"!=n.activeJobBase.status)}}function A(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",25),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).deactivate()})),s["\u0275\u0275text"](1,"Mark Inactive"),s["\u0275\u0275elementEnd"]()}}function P(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",25),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).activate()})),s["\u0275\u0275text"](1,"Mark Active"),s["\u0275\u0275elementEnd"]()}}function J(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",19),s["\u0275\u0275elementStart"](1,"div",20),s["\u0275\u0275elementStart"](2,"button",21),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275nextContext"]();return e.edit(e.activeJobBase)})),s["\u0275\u0275text"](3,"Edit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",22),s["\u0275\u0275elementStart"](5,"button",23),s["\u0275\u0275text"](6,"More"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",24),s["\u0275\u0275elementStart"](8,"button",25),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275nextContext"]();return e.clone(e.activeJobBase)})),s["\u0275\u0275text"](9,"Clone"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](10,A,2,0,"button",26),s["\u0275\u0275template"](11,P,2,0,"button",26),s["\u0275\u0275elementStart"](12,"button",27),s["\u0275\u0275text"](13,"Delete"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var a=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("ngIf","ACTIVE"==a.activeJobBase.status),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","ACTIVE"!=a.activeJobBase.status)}}function M(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275element"](1,"app-spinner-wrapper",28),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("showSpinner",!0))}var O=function(){return{scale:".2",delay:"400ms",duration:"400ms"}},N=function(e){return{value:"*",params:e}},k=function(){return{y:"120px",delay:"600ms",duration:"400ms"}};function R(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",29),s["\u0275\u0275elementStart"](1,"div",30),s["\u0275\u0275element"](2,"i",31),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"p",32),s["\u0275\u0275text"](4,"Select a dispatch to view details."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("@animate",s["\u0275\u0275pureFunction1"](3,N,s["\u0275\u0275pureFunction0"](2,O))),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("@animate",s["\u0275\u0275pureFunction1"](6,N,s["\u0275\u0275pureFunction0"](5,k))))}function F(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",45),s["\u0275\u0275elementStart"](1,"button",46),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).toggleShowShippingTruckInfo()})),s["\u0275\u0275text"](2,"Show Job Param"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function L(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",n.key," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",n.value," ")}}function j(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"div",39),s["\u0275\u0275elementStart"](2,"div",40),s["\u0275\u0275elementStart"](3,"label",41),s["\u0275\u0275text"](4,"Frequency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"label",42),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",40),s["\u0275\u0275elementStart"](8,"label",41),s["\u0275\u0275text"](9,"Time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"label",42),s["\u0275\u0275text"](11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",40),s["\u0275\u0275elementStart"](13,"label",41),s["\u0275\u0275text"](14,"Parameters"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",34),s["\u0275\u0275elementStart"](16,"table",52),s["\u0275\u0275elementStart"](17,"thead"),s["\u0275\u0275elementStart"](18,"tr"),s["\u0275\u0275elementStart"](19,"th",53),s["\u0275\u0275text"](20,"Field"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"th",53),s["\u0275\u0275text"](22,"Value"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"tbody"),s["\u0275\u0275template"](24,L,5,2,"tr",54),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate"](n.activeJobDetail.frequency),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate2"]("",n.activeJobDetail.dailySchedule.hrs," HR\xa0\xa0 ",n.activeJobDetail.dailySchedule.mins," MM"),s["\u0275\u0275advance"](13),s["\u0275\u0275property"]("ngForOf",n.keyValue)}}function Y(e,t){1&e&&s["\u0275\u0275element"](0,"div")}function V(e,t){1&e&&s["\u0275\u0275element"](0,"div")}function B(e,t){1&e&&s["\u0275\u0275element"](0,"div")}function H(e,t){1&e&&s["\u0275\u0275element"](0,"div")}function _(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275element"](1,"app-spinner-wrapper",28),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("showSpinner",!0))}function U(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",36),s["\u0275\u0275elementStart"](1,"div",37),s["\u0275\u0275elementStart"](2,"div",34),s["\u0275\u0275elementStart"](3,"div",47),s["\u0275\u0275text"](4,"Job parameters"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",48),s["\u0275\u0275elementStart"](6,"button",49),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).toggleShowShippingTruckInfo()})),s["\u0275\u0275element"](7,"i",50),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",38),s["\u0275\u0275template"](9,j,25,4,"div",5),s["\u0275\u0275template"](10,Y,1,0,"div",51),s["\u0275\u0275template"](11,V,1,0,"div",51),s["\u0275\u0275template"](12,B,1,0,"div",51),s["\u0275\u0275template"](13,H,1,0,"div",51),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](14,_,2,1,"div",5),s["\u0275\u0275elementEnd"]()}if(2&e){var a=s["\u0275\u0275nextContext"](2),r=s["\u0275\u0275reference"](11),l=s["\u0275\u0275reference"](13),o=s["\u0275\u0275reference"](15),i=s["\u0275\u0275reference"](17);s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngIf",a.showDailyJobParam),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",a.showHourlyJobParam)("ngIfThen",r),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",a.showWeeklyJobParam)("ngIfThen",l),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",a.showMonthlyJobParam)("ngIfThen",o),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",a.showYearlyJobParam)("ngIfThen",i),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",a.showTruckProgress)}}function q(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",33),s["\u0275\u0275elementStart"](1,"div",34),s["\u0275\u0275elementStart"](2,"div",35),s["\u0275\u0275elementStart"](3,"div",36),s["\u0275\u0275elementStart"](4,"div",37),s["\u0275\u0275elementStart"](5,"div",38),s["\u0275\u0275elementStart"](6,"div",39),s["\u0275\u0275elementStart"](7,"div",40),s["\u0275\u0275elementStart"](8,"label",41),s["\u0275\u0275text"](9,"Job name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"label",42),s["\u0275\u0275text"](11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",40),s["\u0275\u0275elementStart"](13,"label",41),s["\u0275\u0275text"](14,"Status"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"label",42),s["\u0275\u0275text"](16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",40),s["\u0275\u0275elementStart"](18,"label",41),s["\u0275\u0275text"](19,"Job type"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"label",42),s["\u0275\u0275text"](21,"Report"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"div",39),s["\u0275\u0275elementStart"](23,"div",40),s["\u0275\u0275elementStart"](24,"label",41),s["\u0275\u0275text"](25,"Next execution time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"label",42),s["\u0275\u0275text"](27),s["\u0275\u0275pipe"](28,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"div",40),s["\u0275\u0275elementStart"](30,"label",41),s["\u0275\u0275text"](31,"Last execution time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"label",42),s["\u0275\u0275text"](33),s["\u0275\u0275pipe"](34,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"div",34),s["\u0275\u0275elementStart"](36,"div",35),s["\u0275\u0275template"](37,F,3,0,"div",43),s["\u0275\u0275template"](38,U,15,10,"div",44),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](11),s["\u0275\u0275textInterpolate"](n.activeJobBase.name),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](n.activeJobBase.status),s["\u0275\u0275advance"](11),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind2"](28,6,n.activeJobBase.nextExecutionDateTime,"medium")),s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind2"](34,9,n.activeJobBase.lastExecutionDateTime,"medium")),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",!n.showJobParam),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.showJobParam)}}function W(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275element"](1,"app-spinner-wrapper",28),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("showSpinner",n.showProgress)}}function z(e,t){1&e&&s["\u0275\u0275element"](0,"div",34)}function G(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",39),s["\u0275\u0275elementStart"](1,"div",40),s["\u0275\u0275elementStart"](2,"label",41),s["\u0275\u0275text"](3,"Frequency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"label",42),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",40),s["\u0275\u0275elementStart"](7,"label",41),s["\u0275\u0275text"](8,"Every"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"label",42),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",40),s["\u0275\u0275elementStart"](12,"label",41),s["\u0275\u0275text"](13,"Start time:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"label",42),s["\u0275\u0275text"](15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",40),s["\u0275\u0275elementStart"](17,"label",41),s["\u0275\u0275text"](18,"End time:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"label",42),s["\u0275\u0275text"](20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",40),s["\u0275\u0275elementStart"](22,"label",41),s["\u0275\u0275text"](23,"Parameters:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](24,z,1,0,"div",55)),2&e){var n=s["\u0275\u0275nextContext"](),a=s["\u0275\u0275reference"](19);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](n.activeJobDetail.frequency),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"]("",n.activeJobDetail.hourlySchedule.everyHours," HR"),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate2"]("",n.activeJobDetail.hourlySchedule.startTime.hrs," HR \xa0\xa0 ",n.activeJobDetail.hourlySchedule.startTime.mins," MM"),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate2"]("",n.activeJobDetail.hourlySchedule.endTime.hrs," HR \xa0\xa0 ",n.activeJobDetail.hourlySchedule.endTime.mins," MM"),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngTemplateOutlet",a)}}function K(e,t){1&e&&s["\u0275\u0275element"](0,"div",34)}function X(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",39),s["\u0275\u0275elementStart"](1,"div",40),s["\u0275\u0275elementStart"](2,"label",41),s["\u0275\u0275text"](3,"Frequency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"label",42),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",40),s["\u0275\u0275elementStart"](7,"label",41),s["\u0275\u0275text"](8,"Time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"label",42),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",40),s["\u0275\u0275elementStart"](12,"label",41),s["\u0275\u0275text"](13,"Schedule on: "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"label",42),s["\u0275\u0275text"](15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",40),s["\u0275\u0275elementStart"](17,"label",41),s["\u0275\u0275text"](18,"Parameters:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](19,K,1,0,"div",55)),2&e){var n=s["\u0275\u0275nextContext"](),a=s["\u0275\u0275reference"](19);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](n.activeJobDetail.frequency),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate2"]("",n.activeJobDetail.weeklySchedule.hrs," HR \xa0 ",n.activeJobDetail.weeklySchedule.mins," MM"),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](n.activeJobDetail.weeklySchedule.scheduleOn),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngTemplateOutlet",a)}}function $(e,t){1&e&&s["\u0275\u0275element"](0,"div",34)}function Q(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",39),s["\u0275\u0275elementStart"](1,"div",40),s["\u0275\u0275elementStart"](2,"label",41),s["\u0275\u0275text"](3,"Frequency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"label",42),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",40),s["\u0275\u0275elementStart"](7,"label",41),s["\u0275\u0275text"](8,"Time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"label",42),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",40),s["\u0275\u0275elementStart"](12,"label",41),s["\u0275\u0275text"](13,"Day of month: "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"label",42),s["\u0275\u0275text"](15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",40),s["\u0275\u0275elementStart"](17,"label",41),s["\u0275\u0275text"](18,"Parameters:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](19,$,1,0,"div",55)),2&e){var n=s["\u0275\u0275nextContext"](),a=s["\u0275\u0275reference"](19);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](n.activeJobDetail.frequency),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate2"]("",n.activeJobDetail.monthlySchedule.hrs," HR \xa0 ",n.activeJobDetail.monthlySchedule.mins," MM"),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](n.activeJobDetail.monthlySchedule.dayOfMonth),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngTemplateOutlet",a)}}function Z(e,t){1&e&&s["\u0275\u0275element"](0,"div",34)}function ee(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",39),s["\u0275\u0275elementStart"](1,"div",40),s["\u0275\u0275elementStart"](2,"label",41),s["\u0275\u0275text"](3,"Frequency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"label",42),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",40),s["\u0275\u0275elementStart"](7,"label",41),s["\u0275\u0275text"](8,"Month of year: "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"label",42),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",40),s["\u0275\u0275elementStart"](12,"label",41),s["\u0275\u0275text"](13,"Day of month: "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"label",42),s["\u0275\u0275text"](15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",40),s["\u0275\u0275elementStart"](17,"label",41),s["\u0275\u0275text"](18,"Time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"label",42),s["\u0275\u0275text"](20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",40),s["\u0275\u0275elementStart"](22,"label",41),s["\u0275\u0275text"](23,"Parameters:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](24,Z,1,0,"div",55)),2&e){var n=s["\u0275\u0275nextContext"](),a=s["\u0275\u0275reference"](19);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](n.activeJobDetail.frequency),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](n.activeJobDetail.yearlySchedule.monthOfYear),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](n.activeJobDetail.yearlySchedule.dayOfMonth),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate2"]("",n.activeJobDetail.yearlySchedule.hrs," HR \xa0 ",n.activeJobDetail.yearlySchedule.mins," MM"),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngTemplateOutlet",a)}}function te(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",n.key," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",n.value," ")}}function ne(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"table",52),s["\u0275\u0275elementStart"](1,"thead"),s["\u0275\u0275elementStart"](2,"tr"),s["\u0275\u0275elementStart"](3,"th",53),s["\u0275\u0275text"](4,"Field"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"th",53),s["\u0275\u0275text"](6,"Value"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"tbody"),s["\u0275\u0275template"](8,te,5,2,"tr",54),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngForOf",n.keyValue)}}var ae=function(){function e(e,t,n,a,r,l,o,i){this.service=e,this.router=t,this.modalService=n,this.clientService=a,this.attachmentService=r,this.transporterService=l,this.toastr=o,this.route=i,this.activeJobBase=new u,this.activeJobDetail=new v,this.showProgress=!1,this.showDailyJobParam=!1,this.showHourlyJobParam=!1,this.showWeeklyJobParam=!1,this.showMonthlyJobParam=!1,this.showYearlyJobParam=!1,this.showHistory=!0,this.showClientDetails=!1,this.loadingData=!1,this.loadClientData=!1,this.panelOpen=!0,this.keyValue=[],this.showJobParam=!1,this.resourceType="dispatch",this.waybillPerDispatchTruck=[]}return e.prototype.ngOnInit=function(){var e=this;this.activeJobBase=null,this.showJobParam=!1,this.jobSelectSub=this.service.onJobSelected.subscribe((function(t){t&&(e.showJobParam=!1,e.activeJobBase=t.basic,e.activeJobDetail=t.detail,e.prepareFrequencyInfo(),e.service.loadingData=!1,e.showProgress=!1)}))},e.prototype.prepareFrequencyInfo=function(){switch(this.activeJobDetail.frequency){case"DAILY":this.showDailyJobParam=!0,this.showHourlyJobParam=!1,this.showWeeklyJobParam=!1,this.showMonthlyJobParam=!1,this.showYearlyJobParam=!1;break;case"HOURLY":this.showHourlyJobParam=!0,this.showDailyJobParam=!1,this.showWeeklyJobParam=!1,this.showMonthlyJobParam=!1,this.showYearlyJobParam=!1;break;case"WEEKLY":this.showWeeklyJobParam=!0,this.showHourlyJobParam=!1,this.showDailyJobParam=!1,this.showMonthlyJobParam=!1,this.showYearlyJobParam=!1;case"MONTHLY":this.showMonthlyJobParam=!0,this.showWeeklyJobParam=!1,this.showHourlyJobParam=!1,this.showDailyJobParam=!1,this.showYearlyJobParam=!1;case"YEARLY":this.showYearlyJobParam=!0,this.showMonthlyJobParam=!1,this.showWeeklyJobParam=!1,this.showHourlyJobParam=!1,this.showDailyJobParam=!1}},e.prototype.prepareParamDetail=function(){var e=this;this.keyValue=[],this.activeJobDetail&&this.activeJobDetail.params.split(";").forEach((function(t){if(t.startsWith("templateName")){var n=t.split("=")[1];e.keyValue.push({key:"Template Name",value:n})}t.startsWith("client")&&(n=t.split("=")[1],e.keyValue.push({key:"Client",value:n}))}))},e.prototype.ngOnDestroy=function(){this.jobSelectSub&&this.jobSelectSub.unsubscribe()},e.prototype.edit=function(e){this.router.navigate(["edit",e.id],{relativeTo:this.route})},e.prototype.toggleShowAudit=function(e){this.showHistory=!e},e.prototype.toggleShowClientDetails=function(){this.showClientDetails=!this.showClientDetails},e.prototype.toggleShowShippingTruckInfo=function(){return e=this,void 0,n=function(){return function(e,t){var n,a,r,l,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(i){l=[6,i],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,(function(e){return this.showTruckProgress=!0,this.showJobParam=!this.showJobParam,this.showJobParam&&(this.jobParams=this.activeJobDetail,this.prepareParamDetail()),this.showTruckProgress=!1,[2]}))},new((t=void 0)||(t=Promise))((function(a,r){function l(e){try{i(n.next(e))}catch(t){r(t)}}function o(e){try{i(n.throw(e))}catch(t){r(t)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,o)}i((n=n.apply(e,[])).next())}));var e,t,n},e.prototype.goToWaybillDetail=function(e){},e.prototype.clone=function(e){this.router.navigate(["clone",e.id],{relativeTo:this.route})},e.prototype.canGenerateWaybill=function(e){var t=!0;return this.waybillPerDispatchTruck.forEach((function(n){n.dispatchTruckId===e&&(t=!1)})),t},e.prototype.getWaybillNumber=function(e){var t="";return this.waybillPerDispatchTruck.forEach((function(n){n.dispatchTruckId===e&&(t=n.waybillNumber)})),t},e.prototype.getWaybillId=function(e){var t=0;return this.waybillPerDispatchTruck.forEach((function(n){n.dispatchTruckId===e&&(t=n.waybillId)})),t},e.prototype.confirm=function(e){},e.prototype.clientData=function(e){},e.prototype.download=function(e){},e.prototype.deactivate=function(){var e=this;this.showProgress=!0,this.service.deactivate(this.activeJobBase.id).subscribe((function(t){e.activeJobBase.status="INACTIVE",e.toastr.success("Successfully deactivated the schedule job","Success",{timeOut:4e3}),e.showProgress=!1}),(function(t){var n=JSON.parse(t.error);e.toastr.error(n.errorMessage,"Failed",{timeOut:4e3}),e.showProgress=!1}))},e.prototype.activate=function(){var e=this;this.showProgress=!0,this.service.activate(this.activeJobBase.id).subscribe((function(t){e.activeJobBase.status="ACTIVE",e.toastr.success("Successfully activated the schedule job","Success",{timeOut:4e3}),e.service.selectJob(e.activeJobBase),e.showProgress=!1}),(function(t){var n=JSON.parse(t.error);e.toastr.error(n.errorMessage,"Failed",{timeOut:4e3}),e.service.selectJob(e.activeJobBase),e.showProgress=!1}))},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](b),s["\u0275\u0275directiveInject"](l.h),s["\u0275\u0275directiveInject"](w.m),s["\u0275\u0275directiveInject"](S.a),s["\u0275\u0275directiveInject"](g.a),s["\u0275\u0275directiveInject"](E.a),s["\u0275\u0275directiveInject"](y.b),s["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["job-content"]],decls:20,vars:6,consts:[[1,"d-flex","pl-3","pr-3","pt-2","pb-2","box-shadow-1","chat-topbar","content-header"],["appSidebarToggler","company-sidebar",1,"link-icon","d-md-none"],[1,"icon-regular","i-Right","ml-0","mr-3"],["class","d-flex align-items-center col-6 ",4,"ngIf"],["class","col-6",4,"ngIf"],[4,"ngIf"],["class","app-inro-circle",4,"ngIf"],["class","chat-content rtl-ps-none company-details-page",4,"ngIf"],["dailyJobDetails",""],["weeklyJobDetails",""],["monthlyJobDetails",""],["yearlyJobDetails",""],["jobParamTable",""],[1,"d-flex","align-items-center","col-6"],[1,"m-0","text-title","text-16","flex-grow-1"],["class","badge badge-pill badge-success mr-1",4,"ngIf"],["class","badge badge-pill badge-light mr-1",4,"ngIf"],[1,"badge","badge-pill","badge-success","mr-1"],[1,"badge","badge-pill","badge-light","mr-1"],[1,"col-6"],[1,"float-right"],["type","buttton",1,"btn","btn-primary","m-1",3,"click"],["ngbDropdown","","role","group","aria-label","Select all","placement","bottom",1,"btn-group"],["ngbDropdownToggle","",1,"btn","btn-outline-dark","btn-rounded"],["ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["class","dropdown-item",3,"click",4,"ngIf"],[1,"dropdown-item"],[3,"showSpinner"],[1,"app-inro-circle"],[1,"border","rounded-circle","big-bubble"],[1,"fas","fa-shipping-fast"],[1,"text-16"],[1,"chat-content","rtl-ps-none","company-details-page"],[1,"row","no-margin"],[1,"col-md-8"],[1,"card","mb-4"],[1,"card-body"],[1,"padding-10"],[1,"group"],[1,"row"],[1,"col-lg-4","items-label","text-gray"],[1,"col-lg-4","text-muted","font-weight-500"],["class","row no-margin justify-content-end",4,"ngIf"],["class","card mb-4",4,"ngIf"],[1,"row","no-margin","justify-content-end"],[1,"btn",3,"click"],[1,"card-title","col-sm-4"],[1,"col-sm-8","align-items-center","justify-content-end"],[1,"btn","float-right","pt-1","bg-transparent",3,"click"],[1,"fas","fa-times"],[4,"ngIf","ngIfThen"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["class","row no-margin",4,"ngTemplateOutlet"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"div",0),s["\u0275\u0275elementStart"](2,"a",1),s["\u0275\u0275element"](3,"i",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](4,T,5,3,"div",3),s["\u0275\u0275template"](5,J,14,2,"div",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](6,M,2,1,"div",5),s["\u0275\u0275template"](7,R,5,8,"div",6),s["\u0275\u0275template"](8,q,39,12,"div",7),s["\u0275\u0275template"](9,W,2,1,"div",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](10,G,25,7,"ng-template",null,8,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](12,X,20,5,"ng-template",null,9,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](14,Q,20,5,"ng-template",null,10,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](16,ee,25,6,"ng-template",null,11,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](18,ne,9,1,"ng-template",null,12,s["\u0275\u0275templateRefExtractor"])),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",null==t.activeJobBase?null:t.activeJobBase.id),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.activeJobBase?null:t.activeJobBase.id),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.service.loadingData),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!(null!=t.activeJobBase&&t.activeJobBase.id||t.service.loadingCollection)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.activeJobBase?null:t.activeJobBase.id),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.showProgress))},directives:[d.d,r.p,w.i,w.k,w.j,D.a,r.o,r.u],pipes:[r.f],styles:[".dropdown-menu.show[_ngcontent-%COMP%]{transform:translate(-65px,33px)!important;will-change:auto!important}.justify-content-space-between[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.content-header[_ngcontent-%COMP%]{background:#dee2e6!important;color:#fff!important}"],data:{animation:[x.a]}}),e}(),re=n("Gi3i");function le(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",21),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit;return s["\u0275\u0275nextContext"]().filter(e)})),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](a)}}function oe(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",22),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit;return s["\u0275\u0275nextContext"]().selectJob(e)})),s["\u0275\u0275elementStart"](1,"h6",23),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](a.name)}}function ie(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",24),s["\u0275\u0275elementStart"](1,"h6",23),s["\u0275\u0275text"](2,"No result found"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function se(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275element"](1,"app-spinner-wrapper",25),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("showSpinner",!0))}var ce=function(){function e(e,t,n,a){this.router=e,this.service=t,this.constant=n,this.route=a,this.loadingCollection=!1,this.page=1,this.pageSize=this.constant.pageSize,this.searchControl=new c.FormControl,this.filterAction=["All","Active","Inactive"],this.selectedAction="All"}return e.prototype.ngOnInit=function(){var e=this;this.loadingCollection=!0,this.loadDataSub=this.service.loadScheduleInfoData(this.page,this.pageSize).subscribe((function(t){e.scheduleJobs=t.content,e.collectionSize=t.totalElements,e.loadingCollection=!1})),this.searchControl.valueChanges.pipe(Object(re.a)(200)).subscribe((function(t){e.filerData(t)}))},e.prototype.add=function(){this.router.navigate(["add"],{relativeTo:this.route})},e.prototype.getPageFromService=function(e){var t=this;this.loadingCollection=!0,this.service.loadScheduleInfoData(e,this.pageSize).subscribe((function(n){t.scheduleJobs=n.content,t.collectionSize=n.totalElements,t.loadingCollection=!1,t.page=e}))},e.prototype.selectJob=function(e){this.service.selectJob(e)},e.prototype.filerData=function(e){var t=this,n="?name="+e;"all"!=this.selectedAction.toLocaleLowerCase()&&(n=n+"&status="+this.selectedAction.toUpperCase()),this.service.performAdvancedSearch(this.page,this.pageSize,n).subscribe((function(e){t.scheduleJobs=e.content,t.collectionSize=e.totalElements}))},e.prototype.filerDataWithStatus=function(e){var t="";"all"!=this.selectedAction.toLocaleLowerCase()&&(t=t+"?status="+this.selectedAction.toUpperCase()),this.service.performAdvancedSearch(this.page,this.pageSize,t)},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](l.h),s["\u0275\u0275directiveInject"](b),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["job-left-pane"]],decls:24,vars:10,consts:[[1,"border-right"],[1,"pt-2","pb-2","pl-3","pr-3","d-flex","align-items-center","box-shadow-1","chat-topbar"],[1,"col-sm-6","pl-0","pr-0"],["ngbDropdown","","role","group","placement","bottom",1,"btn-group"],["ngbDropdownToggle","",1,"btn","btn-outline-light","btn-rounded"],["ngbDropdownMenu","",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","float-right"],["type","button",1,"btn","btn-primary",3,"click"],[1,"pt-2","pb-2","pl-3","pr-3","d-flex","o-hidden","align-items-center","box-shadow-1","chat-topbar"],["appSidebarToggler","company-sidebar",1,"link-icon","d-md-none"],[1,"icon-regular","ml-0","mr-3","i-Left"],[1,"form-group","m-0","flex-grow-1"],["id","search","placeholder","Search scheduled job",1,"form-control","form-control-rounded",3,"formControl"],[1,"left-pane-container"],[1,"mt-3","pb-2","pl-3","pr-3","font-weight-bold","text-muted","border-bottom"],["class","p-3 d-flex border-bottom align-items-center contact no-dot list-item",3,"click",4,"ngFor","ngForOf"],["class","p-3 d-flex border-bottom align-items-center contact no-dot list-item",4,"ngIf"],[1,"row","no-margin","pagination-div","card-footer"],["aria-label","Default pagination",3,"collectionSize","page","pageSize","boundaryLinks","pageChange"],[4,"ngIf"],[1,"dropdown-item",3,"click"],[1,"p-3","d-flex","border-bottom","align-items-center","contact","no-dot","list-item",3,"click"],[1,""],[1,"p-3","d-flex","border-bottom","align-items-center","contact","no-dot","list-item"],[3,"showSpinner"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"div",3),s["\u0275\u0275elementStart"](4,"button",4),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",5),s["\u0275\u0275template"](7,le,2,1,"button",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",2),s["\u0275\u0275elementStart"](9,"div",7),s["\u0275\u0275elementStart"](10,"button",8),s["\u0275\u0275listener"]("click",(function(){return t.add()})),s["\u0275\u0275text"](11,"New"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"a",10),s["\u0275\u0275element"](14,"i",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",12),s["\u0275\u0275element"](16,"input",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",14),s["\u0275\u0275element"](18,"div",15),s["\u0275\u0275template"](19,oe,3,1,"div",16),s["\u0275\u0275template"](20,ie,3,0,"div",17),s["\u0275\u0275elementStart"](21,"div",18),s["\u0275\u0275elementStart"](22,"ngb-pagination",19),s["\u0275\u0275listener"]("pageChange",(function(e){return t.page=e}))("pageChange",(function(e){return t.getPageFromService(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](23,se,2,1,"div",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](t.selectedAction),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.filterAction),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("formControl",t.searchControl),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",t.scheduleJobs),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",0==(null==t.scheduleJobs?null:t.scheduleJobs.length)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("collectionSize",t.collectionSize)("page",t.page)("pageSize",t.pageSize)("boundaryLinks",!0),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.loadingCollection))},directives:[w.i,w.k,w.j,r.o,d.d,c.DefaultValueAccessor,c.NgControlStatus,c.FormControlDirective,r.p,w.o,D.a],styles:[".no-dot[_ngcontent-%COMP%]:before{background:none!important}.dropdown-menu.show[_ngcontent-%COMP%]{transform:translateY(33px)!important}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin-left:5px}.show-on-top[_ngcontent-%COMP%]{z-index:1000;position:absolute;top:200px;left:80px}.left-pane-container[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.pagination-div[_ngcontent-%COMP%]{position:absolute;bottom:0;align-items:center;justify-content:center;width:100%}"]}),e}(),de=n("o8Qb");function pe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275element"](1,"app-spinner-wrapper",5),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("showSpinner",n.commonService.loadingData)}}var me=function(){function e(e,t,n){this.fb=e,this.constants=t,this.commonService=n,this.isCollapsed=!0}return e.prototype.ngOnInit=function(){this.setAdvancedSearchForm()},e.prototype.setAdvancedSearchForm=function(){this.advancedSearchForm=this.fb.group({name:"",routingNumber:"",status:null})},e.prototype.clear=function(){this.advancedSearchForm.controls.name.setValue(""),this.advancedSearchForm.controls.routingNumber.setValue(""),this.advancedSearchForm.controls.status.setValue("")},e.prototype.performAdvancedSearch=function(){},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](c.FormBuilder),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-scheduler"]],decls:10,vars:4,consts:[[1,"breadcrumb","space-between"],[4,"ngIf"],["appSidebarContainer","",1,"card","chat-sidebar-container"],["appSidebarContent","",1,"chat-content-wrap"],["appSidebar","company-sidebar",1,"chat-sidebar-wrap"],[3,"showSpinner"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"h1"),s["\u0275\u0275text"](2),s["\u0275\u0275pipe"](3,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](4,pe,2,1,"div",1),s["\u0275\u0275elementStart"](5,"div",2),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275element"](7,"job-content"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",4),s["\u0275\u0275element"](9,"job-left-pane"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](3,2,"navigation.scheduleJobs")),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.commonService.loadingData))},directives:[r.p,d.a,d.b,ae,d.c,ce,D.a],pipes:[de.c],styles:[""]}),e}(),ue=n("4iqE"),ve=n("Ujtm"),he=n("Jq/4"),fe=n("kJ0Q"),ye=n("1PnN");function be(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",19),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit;return s["\u0275\u0275nextContext"](2).select(e)})),s["\u0275\u0275elementStart"](1,"h6",20),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](a.templateName)}}function Se(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",21),s["\u0275\u0275element"](1,"app-spinner-wrapper",22),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("showSpinner",!0))}function ge(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",9),s["\u0275\u0275elementStart"](1,"div",10),s["\u0275\u0275element"](2,"input",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",12),s["\u0275\u0275elementStart"](4,"div",13),s["\u0275\u0275elementStart"](5,"div",14),s["\u0275\u0275template"](6,be,3,1,"div",15),s["\u0275\u0275elementStart"](7,"div",16),s["\u0275\u0275elementStart"](8,"ngb-pagination",17),s["\u0275\u0275listener"]("pageChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().page=e}))("pageChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().getPageFromService(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,Se,2,1,"div",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var a=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("formControl",a.searchControl),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngForOf",a.templates),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("collectionSize",a.collectionSize)("page",a.page)("pageSize",a.pageSize)("boundaryLinks",!0),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",a.loadingCollection)}}function Ee(e,t){1&e&&s["\u0275\u0275element"](0,"div",9)}function xe(e,t){1&e&&s["\u0275\u0275element"](0,"div",9)}function we(e,t){1&e&&s["\u0275\u0275element"](0,"div",9)}function De(e,t){1&e&&s["\u0275\u0275element"](0,"div",9)}function Ce(e,t){1&e&&s["\u0275\u0275element"](0,"div",9)}function Ie(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",23),s["\u0275\u0275elementStart"](1,"div",24),s["\u0275\u0275elementStart"](2,"div",25),s["\u0275\u0275elementStart"](3,"label"),s["\u0275\u0275text"](4," From Date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](5,"ng-select",26),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",25),s["\u0275\u0275elementStart"](7,"label"),s["\u0275\u0275text"](8," To Date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](9,"ng-select",27),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",25),s["\u0275\u0275elementStart"](11,"label"),s["\u0275\u0275text"](12,"Notification event type"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](13,"ng-select",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",29),s["\u0275\u0275elementStart"](15,"button",30),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().saveBowserReportTemplate()})),s["\u0275\u0275text"](16,"Ok"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var a=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",a.bowserReportForm),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("items",a.dates)("multiple",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",a.dates)("multiple",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",a.events)("multiple",!1)}}function Te(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",23),s["\u0275\u0275elementStart"](1,"div",24),s["\u0275\u0275elementStart"](2,"div",25),s["\u0275\u0275elementStart"](3,"label"),s["\u0275\u0275text"](4,"Notification event type"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](5,"ng-select",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",29),s["\u0275\u0275elementStart"](7,"button",30),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().saveClientStockBalanceReportTemplate()})),s["\u0275\u0275text"](8,"Ok"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var a=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",a.clientStockBalanceReportForm),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("items",a.events)("multiple",!1)}}function Ae(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",23),s["\u0275\u0275elementStart"](1,"div",24),s["\u0275\u0275elementStart"](2,"div",25),s["\u0275\u0275elementStart"](3,"label"),s["\u0275\u0275text"](4,"Client"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"ng-select",31),s["\u0275\u0275listener"]("change",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().loadDepot(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",25),s["\u0275\u0275elementStart"](7,"label"),s["\u0275\u0275text"](8,"Depot"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"ng-select",32),s["\u0275\u0275listener"]("change",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().loadProduct(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",25),s["\u0275\u0275elementStart"](11,"label"),s["\u0275\u0275text"](12,"Product"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](13,"ng-select",33),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",25),s["\u0275\u0275elementStart"](15,"label"),s["\u0275\u0275text"](16," For Date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](17,"ng-select",34),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"div",25),s["\u0275\u0275elementStart"](19,"label"),s["\u0275\u0275text"](20,"Notification event type"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](21,"ng-select",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"div",29),s["\u0275\u0275elementStart"](23,"button",30),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().saveDailyDispatchSummaryReport()})),s["\u0275\u0275text"](24,"Ok"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var a=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",a.dailyDispSummaryReportForm),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("items",a.clients)("multiple",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",a.depots)("multiple",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",a.productTypes)("multiple",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",a.dates)("multiple",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",a.events)("multiple",!1)}}function Pe(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",25),s["\u0275\u0275elementStart"](1,"label"),s["\u0275\u0275text"](2,"Duration in hours"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"input",41),s["\u0275\u0275elementEnd"]())}function Je(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",25),s["\u0275\u0275elementStart"](1,"label"),s["\u0275\u0275text"](2,"From Date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"ng-select",26),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("items",n.dates)("multiple",!1)}}function Me(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",25),s["\u0275\u0275elementStart"](1,"label"),s["\u0275\u0275text"](2,"To Date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"ng-select",27),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("items",n.dates)("multiple",!1)}}function Oe(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",23),s["\u0275\u0275elementStart"](1,"div",24),s["\u0275\u0275elementStart"](2,"div",25),s["\u0275\u0275elementStart"](3,"label"),s["\u0275\u0275text"](4,"Client"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"ng-select",31),s["\u0275\u0275listener"]("change",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().loadDepot(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",25),s["\u0275\u0275elementStart"](7,"label"),s["\u0275\u0275text"](8,"Depot"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"ng-select",32),s["\u0275\u0275listener"]("change",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().loadProduct(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",25),s["\u0275\u0275elementStart"](11,"label"),s["\u0275\u0275text"](12,"Product"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](13,"ng-select",33),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",25),s["\u0275\u0275elementStart"](15,"div",35),s["\u0275\u0275elementStart"](16,"label",36),s["\u0275\u0275elementStart"](17,"input",37),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().toggleSearch()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"span"),s["\u0275\u0275text"](19,"Search by duration"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](20,"span",38),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",35),s["\u0275\u0275elementStart"](22,"label",36),s["\u0275\u0275elementStart"](23,"input",39),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().toggleSearch()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"span"),s["\u0275\u0275text"](25,"Search by date range"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](26,"span",38),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](27,Pe,4,0,"div",40),s["\u0275\u0275template"](28,Je,4,2,"div",40),s["\u0275\u0275template"](29,Me,4,2,"div",40),s["\u0275\u0275elementStart"](30,"div",25),s["\u0275\u0275elementStart"](31,"label"),s["\u0275\u0275text"](32,"Notification event type"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](33,"ng-select",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](34,"div",29),s["\u0275\u0275elementStart"](35,"button",30),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().saveDispatchSummaryReport()})),s["\u0275\u0275text"](36,"Ok"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var a=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",a.dispSummaryReportForm),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("items",a.clients)("multiple",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",a.depots)("multiple",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",a.productTypes)("multiple",!1),s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("ngIf",a.searchDuration),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!a.searchDuration),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!a.searchDuration),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",a.events)("multiple",!1)}}function Ne(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",23,42),s["\u0275\u0275elementStart"](2,"div",24),s["\u0275\u0275elementStart"](3,"div",25),s["\u0275\u0275elementStart"](4,"label"),s["\u0275\u0275text"](5,"Depot"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](6,"ng-select",43),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",25),s["\u0275\u0275elementStart"](8,"label"),s["\u0275\u0275text"](9,"Include all approved:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](10,"ng-select",44),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",25),s["\u0275\u0275elementStart"](12,"label"),s["\u0275\u0275text"](13,"Notification event type"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](14,"ng-select",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",29),s["\u0275\u0275elementStart"](16,"button",30),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().saveLoadingProgramReport()})),s["\u0275\u0275text"](17,"Ok"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var a=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",a.loadingProgramReportFrom),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("items",a.depots)("multiple",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",a.constants.yesNoConstants)("multiple",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",a.events)("multiple",!1)}}var ke=function(){function e(e,t,n,a,r,l,o){this.service=e,this.activeModal=t,this.clientService=n,this.constants=a,this.depotService=r,this.fb=l,this.constant=o,this.searchControl=new c.FormControl,this.modalTitle="",this.modalHeader="",this.modalMessage="",this.isTemplateSelected=!1,this.selectedTemplate=null,this.dates=[{value:"::TODAY::",display:"SAME DAY"},{value:"::PREVIOUS_DAY::",display:"PREVIOUS DAY"},{value:"::LASTEODTIME::",display:"LAST EOD DAY"},{value:"::CURWEEKFIRSTDATE::",display:"CURRENT WEEK - FIRST DAY"},{value:"::CURWEEKLASTDATE::",display:"CURRENT WEEK - LAST DAY"},{value:"::CURMONTHFIRSTDATE::",display:"CURRENT MONTH - FIRST DAY"},{value:"::CURMONTHLASTDATE::",display:"CURRENT MONTH - LAST DAY"},{value:"::LASTMONTHFIRSTDATE::",display:"LAST MONTH - FIRST DAY"},{value:"::LASTMONTHLASTDATE::",display:"LAST MONTH - LAST DAY"}],this.events=[],this.clients=[],this.depots=[],this.productTypes=[],this.searchDuration=!0,this.loadingCollection=!1,this.clientType="",this.templates=[],this.page=1,this.pageSize=this.constant.pageSize}return e.prototype.ngOnInit=function(){var e=this;this.loadingCollection=!0,this.service.loadTemplateData(this.page,this.pageSize).subscribe((function(t){e.templates=t.content.map((function(e){return{id:e.id,templateName:e.templateName}})),e.collectionSize=t.totalElements,e.loadingCollection=!1})),this.clientService.getMainAndSubClientsNoPagination().subscribe((function(t){e.clients=t})),this.searchControl.valueChanges.pipe(Object(re.a)(200)).subscribe((function(t){e.filerData(t)})),this.depotService.getAllDepotsNoPagination().subscribe((function(t){e.depots=t.data.depots})),this.setUpDailyDispatchSummaryReportForm(),this.setUpBowserReportForm(),this.setUpClientStockBalanceReportForm(),this.setUpDispatchSummaryReportForm(),this.setUpLoadingProgramReportForm()},e.prototype.toggleSearch=function(){this.searchDuration=!this.searchDuration},e.prototype.filerData=function(e){var t=this;this.loadingCollection=!0,this.service.performAdvancedSearch("?name="+e,this.page,this.pageSize).subscribe((function(e){t.templates=e.content,t.collectionSize=e.totalElements,t.loadingCollection=!1}))},e.prototype.getPageFromService=function(e){var t=this;this.loadingCollection=!0,this.service.loadTemplateData(e,this.pageSize).subscribe((function(n){t.templates=n.content,t.collectionSize=n.totalElements,t.loadingCollection=!1,t.page=e}))},e.prototype.select=function(e){var t=this;this.isTemplateSelected=!0,this.selectedTemplate=e,this.service.getEventForTemplate(e.templateName).subscribe((function(e){t.events=e}))},e.prototype.loadDepot=function(e){var t=this,n=e.id;""!==n&&this.clientService.getDepotForClient(n).subscribe((function(e){t.depots=e.data.depots.map((function(e){return{id:e.id,name:e.name}}))}))},e.prototype.loadProduct=function(e){var t=this;this.depotService.getProductsForDepot(e.id).subscribe((function(e){t.productTypes=e.data.prodTypes}))},e.prototype.setUpDailyDispatchSummaryReportForm=function(){this.dailyDispSummaryReportForm=this.fb.group({client:[null,[c.Validators.required]],forDate:null,depot:null,product:null,event:null})},e.prototype.setUpBowserReportForm=function(){this.bowserReportForm=this.fb.group({fromDate:null,toDate:null,event:null})},e.prototype.setUpClientStockBalanceReportForm=function(){this.clientStockBalanceReportForm=this.fb.group({event:null})},e.prototype.setUpDispatchSummaryReportForm=function(){this.dispSummaryReportForm=this.fb.group({client:[null,[c.Validators.required]],fromDate:null,toDate:null,hourDuration:null,depot:null,product:null,event:null})},e.prototype.setUpLoadingProgramReportForm=function(){this.loadingProgramReportFrom=this.fb.group({depot:null,event:null,allApproved:null})},e.prototype.saveDailyDispatchSummaryReport=function(){this.activeModal.close({status:!0,param:this.dailyDispSummaryReportForm.value,templateName:this.selectedTemplate.templateName})},e.prototype.saveBowserReportTemplate=function(){this.activeModal.close({status:!0,param:this.bowserReportForm.value,templateName:this.selectedTemplate.templateName})},e.prototype.saveClientStockBalanceReportTemplate=function(){this.activeModal.close({status:!0,param:this.clientStockBalanceReportForm.value,templateName:this.selectedTemplate.templateName})},e.prototype.saveDispatchSummaryReport=function(){this.activeModal.close({status:!0,param:this.dispSummaryReportForm.value,templateName:this.selectedTemplate.templateName})},e.prototype.saveLoadingProgramReport=function(){this.activeModal.close({status:!0,param:this.loadingProgramReportFrom.value,templateName:this.selectedTemplate.templateName})},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](ve.a),s["\u0275\u0275directiveInject"](w.b),s["\u0275\u0275directiveInject"](S.a),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](he.a),s["\u0275\u0275directiveInject"](c.FormBuilder),s["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-search-report-template"]],features:[s["\u0275\u0275ProvidersFeature"]([{provide:w.g,useClass:fe.a}])],decls:19,vars:12,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["class","modal-body",4,"ngIf"],["class","modal-body",4,"ngIf","ngIfThen"],["BowserSalesReport",""],["clientStockBalanceReport",""],["DailyDispSummaryReport",""],["DispSummaryReport",""],["LoadingProgramOrderReport",""],[1,"modal-body"],[1,"form-group","m-0","flex-grow-1"],["id","search","placeholder","Search client name",1,"form-control","form-control-rounded",3,"formControl"],[1,"row"],[1,"col-md-12"],[1,"card","o-hidden","mt-3","left-pane-container"],["class","p-3 d-flex border-bottom align-items-center contact no-dot list-item",3,"click",4,"ngFor","ngForOf"],[1,"row","no-margin","pagination-div","card-footer"],["aria-label","Default pagination",3,"collectionSize","page","pageSize","boundaryLinks","pageChange"],["class","border-right",4,"ngIf"],[1,"p-3","d-flex","border-bottom","align-items-center","contact","no-dot","list-item",3,"click"],[1,""],[1,"border-right"],[3,"showSpinner"],[3,"formGroup"],[1,"p-20","h-300"],[1,"form-group","mb-3","flex-grow-1"],["bindLabel","display","placeholder","Select date","formControlName","fromDate",3,"items","multiple"],["bindLabel","display","placeholder","Select date","formControlName","toDate",3,"items","multiple"],["bindLabel","eventDescription","formControlName","event",3,"items","multiple"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["bindLabel","name","placeholder","Select client","formControlName","client",3,"items","multiple","change"],["bindLabel","name","placeholder","Select Depot","formControlName","depot",3,"items","multiple","change"],["bindLabel","name","placeholder","Select product type","formControlName","product",3,"items","multiple"],["bindLabel","display","placeholder","Select date","formControlName","forDate",3,"items","multiple"],[1,"col-md-6","input-group","no-margin","mt-1"],[1,"radio","radio-outline-primary"],["type","radio","name","radio","checked","",3,"click"],[1,"checkmark"],["type","radio","name","radio",3,"click"],["class","form-group mb-3 flex-grow-1",4,"ngIf"],["type","number","formControlName","hourDuration",1,"form-control"],["ngForm",""],["bindLabel","name","placeholder","Select Depot","formControlName","depot",3,"items","multiple"],["bindValue","code","bindLabel","display","formControlName","allApproved",3,"items","multiple"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"h4",1),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](3,ge,10,7,"div",2),s["\u0275\u0275template"](4,Ee,1,0,"div",3),s["\u0275\u0275template"](5,xe,1,0,"div",3),s["\u0275\u0275template"](6,we,1,0,"div",3),s["\u0275\u0275template"](7,De,1,0,"div",3),s["\u0275\u0275template"](8,Ce,1,0,"div",3),s["\u0275\u0275template"](9,Ie,17,7,"ng-template",null,4,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](11,Te,9,3,"ng-template",null,5,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](13,Ae,25,11,"ng-template",null,6,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](15,Oe,37,12,"ng-template",null,7,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](17,Ne,18,7,"ng-template",null,8,s["\u0275\u0275templateRefExtractor"])),2&e){var n=s["\u0275\u0275reference"](10),a=s["\u0275\u0275reference"](12),r=s["\u0275\u0275reference"](14),l=s["\u0275\u0275reference"](16),o=s["\u0275\u0275reference"](18);s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](t.modalTitle),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.isTemplateSelected),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isTemplateSelected&&(14==t.selectedTemplate.id||16==t.selectedTemplate.id||15==t.selectedTemplate.id))("ngIfThen",n),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isTemplateSelected&&1==t.selectedTemplate.id)("ngIfThen",r),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isTemplateSelected&&7==t.selectedTemplate.id)("ngIfThen",a),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isTemplateSelected&&6==t.selectedTemplate.id)("ngIfThen",l),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isTemplateSelected&&5==t.selectedTemplate.id)("ngIfThen",o)}},directives:[r.p,c.DefaultValueAccessor,c.NgControlStatus,c.FormControlDirective,r.o,w.o,D.a,c["\u0275angular_packages_forms_forms_y"],c.NgControlStatusGroup,c.FormGroupDirective,ye.a,c.FormControlName,c.NumberValueAccessor],styles:[".no-dot[_ngcontent-%COMP%]:before{background:none!important}.dropdown-menu.show[_ngcontent-%COMP%]{transform:translateY(33px)!important}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin-left:5px}.show-on-top[_ngcontent-%COMP%]{z-index:1000;position:absolute;top:200px;left:80px}.left-pane-container[_ngcontent-%COMP%]{height:calc(100vh - 400px)}.pagination-div[_ngcontent-%COMP%]{position:absolute;bottom:0;align-items:center;justify-content:center;width:100%}.p-20[_ngcontent-%COMP%]{padding:20px}.h-300[_ngcontent-%COMP%]{min-height:300px}"]}),e}();function Re(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",26),s["\u0275\u0275elementStart"](1,"div",8),s["\u0275\u0275elementStart"](2,"label",9),s["\u0275\u0275text"](3,"Every"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",27),s["\u0275\u0275element"](5,"input",28),s["\u0275\u0275elementStart"](6,"div",29),s["\u0275\u0275elementStart"](7,"span",30),s["\u0275\u0275text"](8,"Hours"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",8),s["\u0275\u0275elementStart"](10,"label",9),s["\u0275\u0275text"](11,"Start time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",31),s["\u0275\u0275element"](13,"input",32),s["\u0275\u0275elementStart"](14,"div",29),s["\u0275\u0275elementStart"](15,"span",30),s["\u0275\u0275text"](16,"HH"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",31),s["\u0275\u0275element"](18,"input",33),s["\u0275\u0275elementStart"](19,"div",29),s["\u0275\u0275elementStart"](20,"span",30),s["\u0275\u0275text"](21,"MM"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"div",8),s["\u0275\u0275elementStart"](23,"label",9),s["\u0275\u0275text"](24,"End time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",31),s["\u0275\u0275element"](26,"input",34),s["\u0275\u0275elementStart"](27,"div",29),s["\u0275\u0275elementStart"](28,"span",30),s["\u0275\u0275text"](29,"HH"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"div",31),s["\u0275\u0275element"](31,"input",35),s["\u0275\u0275elementStart"](32,"div",29),s["\u0275\u0275elementStart"](33,"span",30),s["\u0275\u0275text"](34,"MM"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function Fe(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",36),s["\u0275\u0275elementStart"](1,"div",8),s["\u0275\u0275elementStart"](2,"label",9),s["\u0275\u0275text"](3,"Time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",37),s["\u0275\u0275element"](5,"input",38),s["\u0275\u0275elementStart"](6,"div",29),s["\u0275\u0275elementStart"](7,"span",30),s["\u0275\u0275text"](8,"HH"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",37),s["\u0275\u0275element"](10,"input",39),s["\u0275\u0275elementStart"](11,"div",29),s["\u0275\u0275elementStart"](12,"span",30),s["\u0275\u0275text"](13,"MM"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function Le(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ng-option",46),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n.value),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.display," ")}}function je(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",40),s["\u0275\u0275elementStart"](1,"div",8),s["\u0275\u0275elementStart"](2,"label",9),s["\u0275\u0275text"](3,"Day of week"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",41),s["\u0275\u0275elementStart"](5,"ng-select",42),s["\u0275\u0275template"](6,Le,2,2,"ng-option",43),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",8),s["\u0275\u0275elementStart"](8,"label",9),s["\u0275\u0275text"](9,"Time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",37),s["\u0275\u0275element"](11,"input",44),s["\u0275\u0275elementStart"](12,"div",29),s["\u0275\u0275elementStart"](13,"span",30),s["\u0275\u0275text"](14,"HH"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",37),s["\u0275\u0275element"](16,"input",45),s["\u0275\u0275elementStart"](17,"div",29),s["\u0275\u0275elementStart"](18,"span",30),s["\u0275\u0275text"](19,"MM"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("multiple",!0)("closeOnSelect",!1),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",n.constants.weekDays)}}function Ye(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",47),s["\u0275\u0275elementStart"](1,"div",8),s["\u0275\u0275elementStart"](2,"label",9),s["\u0275\u0275text"](3,"Day of month"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",41),s["\u0275\u0275element"](5,"input",48),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",8),s["\u0275\u0275elementStart"](7,"label",9),s["\u0275\u0275text"](8,"Time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",37),s["\u0275\u0275element"](10,"input",44),s["\u0275\u0275elementStart"](11,"div",29),s["\u0275\u0275elementStart"](12,"span",30),s["\u0275\u0275text"](13,"HH"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",37),s["\u0275\u0275element"](15,"input",45),s["\u0275\u0275elementStart"](16,"div",29),s["\u0275\u0275elementStart"](17,"span",30),s["\u0275\u0275text"](18,"MM"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function Ve(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",49),s["\u0275\u0275elementStart"](1,"div",8),s["\u0275\u0275elementStart"](2,"label",9),s["\u0275\u0275text"](3,"Month of year"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",41),s["\u0275\u0275element"](5,"ng-select",50),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",8),s["\u0275\u0275elementStart"](7,"label",9),s["\u0275\u0275text"](8,"Day of month"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",41),s["\u0275\u0275element"](10,"input",48),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",8),s["\u0275\u0275elementStart"](12,"label",9),s["\u0275\u0275text"](13,"Time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",37),s["\u0275\u0275element"](15,"input",44),s["\u0275\u0275elementStart"](16,"div",29),s["\u0275\u0275elementStart"](17,"span",30),s["\u0275\u0275text"](18,"HH"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",37),s["\u0275\u0275element"](20,"input",45),s["\u0275\u0275elementStart"](21,"div",29),s["\u0275\u0275elementStart"](22,"span",30),s["\u0275\u0275text"](23,"MM"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("multiple",!1)("items",n.constants.monthsOfYear)("closeOnSelect",!0)}}function Be(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",8),s["\u0275\u0275elementStart"](1,"label",9),s["\u0275\u0275text"](2,"Report template *"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",10),s["\u0275\u0275element"](4,"input",51),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",52),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().openReportTemplateSearch()})),s["\u0275\u0275element"](6,"i",53),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function He(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",56),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Client : ",null==n.params.client?null:n.params.client.name,"")}}function _e(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",56),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Depot : ",null==n.params.depot?null:n.params.depot.name,"")}}function Ue(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",56),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Product : ",null==n.params.product?null:n.params.product.name,"")}}function qe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",56),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Date : ",n.params.forDate.display,"")}}function We(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",56),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("From Date: ",n.params.fromDate.display," ")}}function ze(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",56),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Hour Duration: ",n.params.hourDuration," ")}}function Ge(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",56),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("From Date: ",n.params.toDate.display," ")}}function Ke(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",56),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("All approved: ",n.params.allApproved," ")}}function Xe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",8),s["\u0275\u0275element"](1,"label",21),s["\u0275\u0275elementStart"](2,"span",54),s["\u0275\u0275template"](3,He,2,1,"p",55),s["\u0275\u0275template"](4,_e,2,1,"p",55),s["\u0275\u0275template"](5,Ue,2,1,"p",55),s["\u0275\u0275template"](6,qe,2,1,"p",55),s["\u0275\u0275template"](7,We,2,1,"p",55),s["\u0275\u0275template"](8,ze,2,1,"p",55),s["\u0275\u0275template"](9,Ge,2,1,"p",55),s["\u0275\u0275template"](10,Ke,2,1,"p",55),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",n.params.client),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.params.depot),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.params.product),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.params.forDate),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.params.fromDate),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.params.hourDuration),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.params.toDate),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.params.allApproved)}}var $e=function(){return{"w-100":!0}};function Qe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",8),s["\u0275\u0275elementStart"](1,"label",21),s["\u0275\u0275text"](2,"Owner"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",10),s["\u0275\u0275element"](4,"ng-select",57),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",n.clients)("multiple",!1)("ngClass",s["\u0275\u0275pureFunction0"](3,$e))}}function Ze(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",8),s["\u0275\u0275elementStart"](1,"label",21),s["\u0275\u0275text"](2,"Owner"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",10),s["\u0275\u0275element"](4,"ng-select",58),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",n.transporters)("multiple",!1)("ngClass",s["\u0275\u0275pureFunction0"](3,$e))}}function et(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275element"](1,"app-spinner-wrapper",59),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("showSpinner",n.showProgress)}}var tt=function(){function e(e,t,n,a,r,l,o,i){this.service=e,this.ts=t,this.modalService=n,this.fb=a,this.clientService=r,this.transporterService=l,this.constants=o,this.toastr=i,this.header="",this.showProgress=!1,this.isReportJob=!1,this.showClients=!1,this.showTransporters=!1,this.isHourly=!1,this.isDaily=!1,this.isWeekly=!1,this.isMonthly=!1,this.isYearly=!1,this.clients=[],this.transporters=[],this.ownerAccesses=[{value:0,display:"Client"},{value:1,display:"Transporter"},{value:2,display:"Internal"}],this.frequencies=[{value:"HOURLY",display:"Hourly"},{value:"DAILY",display:"Daily"},{value:"WEEKLY",display:"Weekly"},{value:"MONTHLY",display:"Monthly"},{value:"YEARLY",display:"Yearly"}],this.jobTypes=[{value:"reportScheduledJob",display:"Report"}]}return e.prototype.ngOnInit=function(){this.showProgress=!0,this.setScheduleJobForm(),this.showProgress=!1},e.prototype.setScheduleJobForm=function(){this.scheduleJobForm=this.fb.group({frequency:[null,c.Validators.required],name:[null,c.Validators.required],reportTemplateName:null,jobType:null,ownerAccessType:null,ownerId:null,clientId:null,dailyHrs:null,dailyMins:null,hourlyEvery:null,hourlyStartHrs:null,hourlyStartMins:null,hourlyEndHrs:null,hourlyEndMins:null,weekDay:null,hrs:null,mins:null,dayOfMonth:null,monthOfYear:null})},e.prototype.loadFrequencyDetail=function(e){switch(this.showProgress=!0,e.value){case"HOURLY":this.isHourly=!0,this.isDaily=!1,this.isWeekly=!1,this.isMonthly=!1,this.isYearly=!1;break;case"DAILY":this.isDaily=!0,this.isHourly=!1,this.isWeekly=!1,this.isMonthly=!1,this.isYearly=!1;break;case"WEEKLY":this.isWeekly=!0,this.isHourly=!1,this.isDaily=!1,this.isMonthly=!1,this.isYearly=!1;break;case"MONTHLY":this.isMonthly=!0,this.isWeekly=!1,this.isHourly=!1,this.isDaily=!1,this.isYearly=!1;break;case"YEARLY":this.isYearly=!0,this.isMonthly=!1,this.isWeekly=!1,this.isHourly=!1,this.isDaily=!1}this.showProgress=!1},e.prototype.openReportTemplateSearch=function(){var e=this,t=this.modalService.open(ke,{ariaLabelledBy:"modal-basic-title",centered:!0,size:"md"});t.componentInstance.modalTitle="Select client",t.componentInstance.clientType="MAIN_CLIENT",t.result.then((function(t){t.status?(e.scheduleJobForm.controls.reportTemplateName.setValue(t.templateName),e.params=t.param):console.log("Modal closed")}))},e.prototype.loadOwner=function(e){var t=this;0==e.value?(this.showTransporters=!1,this.showClients=!0,this.clientService.getMainAndSubClientsNoPagination().subscribe((function(e){t.clients=e.map((function(e){return{id:e.id,name:e.name}}))}))):1==e.value?(this.showClients=!1,this.showTransporters=!0,this.transporterService.getAllTransporterNoPagination().subscribe((function(e){t.transporters=e.map((function(e){return{id:e.id,name:e.name}}))}),(function(e){}))):(this.showClients=!1,this.showTransporters=!1)},e.prototype.getDateText=function(e){return e.replace(/\:/gi,"")},e.prototype.onSave=function(){var e=this;this.showProgress=!0;var t=this.scheduleJobForm.value,n=new v;n.frequency=t.frequency,n.name=t.name,n.jobType=t.jobType,this.getFrequcyDetails(t,n),n.params=this.getParams(t),this.service.create(n).subscribe((function(t){e.toastr.success("Successfully created the scheduled job","Success",{timeOut:4e3}),e.showProgress=!1}),(function(t){var n=JSON.parse(t.error);e.toastr.error(n.errorMessage,"Failed",{timeOut:4e3}),e.showProgress=!1}))},e.prototype.getFrequcyDetails=function(e,t){switch(e.frequency){case"DAILY":t.dailySchedule=this.getDailySchedule(e);break;case"HOURLY":t.hourlySchedule=this.getHourlySchedule(e);break;case"WEEKLY":t.weeklySchedule=this.getWeeklySchedule(e);break;case"MONTHLY":t.monthlySchedule=this.getMonthlySchedule(e);break;case"YEARLY":t.yearlySchedule=this.getYearlySchedule(e)}},e.prototype.getParams=function(e){var t="";return t=t+"templateName="+e.reportTemplateName,this.params.client&&(t=t+";clientId="+this.params.client.id),this.params.depot&&(t=t+";depotId="+this.params.depot.id),this.params.depot&&(t=t+";depotName="+this.params.depot.name),this.params.product&&(t=t+";productId="+this.params.product.id),this.params.forDate&&(t=t+";forDate="+this.params.forDate.value),this.params.fromDate&&(t=t+";fromDate="+this.params.fromDate.value),this.params.toDate&&(t=t+";toDate="+this.params.toDate.value),this.params.hourDuration&&(t=t+";hourDuration="+this.params.hourDuration),this.params.allApproved&&(t=t+";allApproved="+this.params.allApproved),t},e.prototype.getDailySchedule=function(e){return{hrs:e.dailyHrs,mins:e.dailyMins}},e.prototype.getHourlySchedule=function(e){return{endTime:{hrs:e.hourlyEndHrs,mins:e.hourlyEndMins},everyHours:e.hourlyEvery,scheduleFrequencyType:"HOURLY",startTime:{hrs:e.hourlyStartHrs,mins:e.hourlyStartMins}}},e.prototype.getWeeklySchedule=function(e){return{hrs:e.hrs,mins:e.mins,scheduleFrequencyType:"WEEKLY",scheduleOn:e.weekDay}},e.prototype.getMonthlySchedule=function(e){return{hrs:e.hrs,mins:e.mins,scheduleFrequencyType:"MONTHLY",dayOfMonth:e.dayOfMonth}},e.prototype.getYearlySchedule=function(e){return{hrs:e.hrs,mins:e.mins,scheduleFrequencyType:"MONTHLY",dayOfMonth:e.dayOfMonth,monthOfYear:e.monthOfYear}},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](b),s["\u0275\u0275directiveInject"](de.d),s["\u0275\u0275directiveInject"](w.m),s["\u0275\u0275directiveInject"](c.FormBuilder),s["\u0275\u0275directiveInject"](S.a),s["\u0275\u0275directiveInject"](E.a),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](y.b))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-schedule-job-editor"]],inputs:{action:"action"},decls:48,vars:24,consts:[[1,"breadcrumb"],[1,"border-top","mb-5","col-lg-8"],[1,"row"],[1,"col-lg-8"],[1,"card","mb-4"],[1,"card-body"],[1,"padding-10"],[3,"formGroup"],[1,"form-group","row"],["for","client",1,"col-md-3","col-form-label","required"],[1,"col-md-6","input-group"],["bindLabel","display","bindValue","value","placeholder","Select frequency","formControlName","frequency",3,"items","multiple","ngClass","change"],["id","HourlyJOB",4,"ngIf"],["id","DailyJOB",4,"ngIf"],["id","WeeklyJob",4,"ngIf"],["id","MOnthlyJob",4,"ngIf"],["id","YearlyJob",4,"ngIf"],[1,"border-top","mb-4"],["type","text","formControlName","name",1,"form-control"],["bindLabel","display","bindValue","value","placeholder","Select job type","formControlName","jobType",3,"items","multiple","ngClass","change"],["class","form-group row",4,"ngIf"],[1,"col-md-3","col-form-label"],["bindLabel","display","bindValue","value","placeholder","Select owner access","formControlName","ownerAccessType",3,"items","multiple","ngClass","change"],[1,"card-footer"],["type","buttn",1,"btn","btn-primary",3,"click"],[4,"ngIf"],["id","HourlyJOB"],[1,"input-group","col-md-6","mb-3"],["type","number","aria-describedby","basic-addon1","formControlName","hourlyEvery",1,"form-control"],[1,"input-group-append"],["id","basic-addon1",1,"input-group-text"],[1,"input-group","col-md-3","mb-3"],["type","number","aria-describedby","basic-addon1","formControlName","hourlyStartHrs",1,"form-control"],["type","number","aria-describedby","basic-addon1","formControlName","hourlyStartMins",1,"form-control"],["type","number","aria-describedby","basic-addon1","formControlName","hourlyEndHrs",1,"form-control"],["type","number","aria-describedby","basic-addon1","formControlName","hourlyEndMins",1,"form-control"],["id","DailyJOB"],[1,"input-group","col-md-2","mb-3"],["type","number","aria-describedby","basic-addon1","formControlName","dailyHrs",1,"form-control"],["type","number","aria-describedby","basic-addon1","formControlName","dailyMins",1,"form-control"],["id","WeeklyJob"],[1,"col-md-4","mb-3"],["name","weekday","bindValue","value","bindLabel","display","placeholder","Select","required","","formControlName","weekDay",3,"multiple","closeOnSelect"],[3,"value",4,"ngFor","ngForOf"],["type","number","aria-describedby","basic-addon1","formControlName","hrs",1,"form-control"],["type","number","aria-describedby","basic-addon1","formControlName","mins",1,"form-control"],[3,"value"],["id","MOnthlyJob"],["type","number","formControlName","dayOfMonth","placeholder","Number between 1 and 31",1,"form-control"],["id","YearlyJob"],["name","month","bindValue","value","bindLabel","display","placeholder","Select","required","","formControlName","monthOfYear",3,"multiple","items","closeOnSelect"],["type","text","disabled","","formControlName","reportTemplateName",1,"form-control"],[1,"col-md-1","no-margin","pointer","p-0",3,"click"],[1,"fa","fa-search","mt-2"],[1,"col-md-6"],["class","item-label text-gray",4,"ngIf"],[1,"item-label","text-gray"],["bindLabel","name","bindValue","id","placeholder","Select client","formControlName","clientId",3,"items","multiple","ngClass"],["bindLabel","name","bindValue","id","placeholder","Select transporter","formControlName","transporterId",3,"items","multiple","ngClass"],[3,"showSpinner"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"h1"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"div",1),s["\u0275\u0275elementStart"](4,"div",2),s["\u0275\u0275elementStart"](5,"div",3),s["\u0275\u0275elementStart"](6,"div",4),s["\u0275\u0275elementStart"](7,"div",5),s["\u0275\u0275elementStart"](8,"div",6),s["\u0275\u0275elementStart"](9,"form",7),s["\u0275\u0275elementStart"](10,"h5"),s["\u0275\u0275text"](11,"Schedule details"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",8),s["\u0275\u0275elementStart"](13,"label",9),s["\u0275\u0275text"](14,"Frequency *"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",10),s["\u0275\u0275elementStart"](16,"ng-select",11),s["\u0275\u0275listener"]("change",(function(e){return t.loadFrequencyDetail(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](17,Re,35,0,"div",12),s["\u0275\u0275template"](18,Fe,14,0,"div",13),s["\u0275\u0275template"](19,je,20,3,"div",14),s["\u0275\u0275template"](20,Ye,19,0,"div",15),s["\u0275\u0275template"](21,Ve,24,3,"div",16),s["\u0275\u0275element"](22,"div",17),s["\u0275\u0275elementStart"](23,"h5"),s["\u0275\u0275text"](24,"Job details"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",8),s["\u0275\u0275elementStart"](26,"label",9),s["\u0275\u0275text"](27,"Job name *"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",10),s["\u0275\u0275element"](29,"input",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"div",8),s["\u0275\u0275elementStart"](31,"label",9),s["\u0275\u0275text"](32,"Job type *"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"div",10),s["\u0275\u0275elementStart"](34,"ng-select",19),s["\u0275\u0275listener"]("change",(function(){return t.isReportJob=!0})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](35,Be,7,0,"div",20),s["\u0275\u0275template"](36,Xe,11,8,"div",20),s["\u0275\u0275elementStart"](37,"div",8),s["\u0275\u0275elementStart"](38,"label",21),s["\u0275\u0275text"](39,"Report owner access"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](40,"div",10),s["\u0275\u0275elementStart"](41,"ng-select",22),s["\u0275\u0275listener"]("change",(function(e){return t.loadOwner(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](42,Qe,5,4,"div",20),s["\u0275\u0275template"](43,Ze,5,4,"div",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](44,"div",23),s["\u0275\u0275elementStart"](45,"button",24),s["\u0275\u0275listener"]("click",(function(){return t.onSave()})),s["\u0275\u0275text"](46,"create"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](47,et,2,1,"div",25),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](t.header),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("formGroup",t.scheduleJobForm),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("items",t.frequencies)("multiple",!1)("ngClass",s["\u0275\u0275pureFunction0"](21,$e)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isHourly),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isDaily),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isWeekly),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isMonthly),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isYearly),s["\u0275\u0275advance"](13),s["\u0275\u0275property"]("items",t.jobTypes)("multiple",!1)("ngClass",s["\u0275\u0275pureFunction0"](22,$e)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isReportJob),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.params),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("items",t.ownerAccesses)("multiple",!1)("ngClass",s["\u0275\u0275pureFunction0"](23,$e)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.showClients),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.showTransporters),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",t.showProgress))},directives:[c["\u0275angular_packages_forms_forms_y"],c.NgControlStatusGroup,c.FormGroupDirective,ye.a,c.NgControlStatus,c.FormControlName,r.n,r.p,c.DefaultValueAccessor,c.NumberValueAccessor,c.RequiredValidator,r.o,ye.d,D.a],styles:[".h-100[_ngcontent-%COMP%]{height:100%}"]}),e}(),nt=[{path:"",component:me},{path:"add",component:function(){function e(){this.action=ue.a.ADD}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add"]],decls:1,vars:1,consts:[[3,"action"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"app-schedule-job-editor",0),2&e&&s["\u0275\u0275property"]("action",t.action)},directives:[tt],styles:[""]}),e}()}],at=function(){function e(){}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.l.forChild(nt)],l.l]}),e}(),rt=n("h2Ha"),lt=n("mnDI"),ot=n("aYsj"),it=n("jASi"),st=n("oOf3"),ct=n("jgPy"),dt=n("H2Tg");n.d(t,"SchedulerModule",(function(){return pt}));var pt=function(){function e(){}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,at,de.b,rt.b,lt.a,ot.a,c.FormsModule,w.n,c.ReactiveFormsModule,it.AppFormsModule,ye.b,st.a,ct.a,dt.a]]}),e}()},he9t:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("TYT/"),r=function(){function e(){this.crudStatus=[{code:"ACTIVE",display:"Active"},{code:"INACTIVE",display:"Inactive"}],this.clientTypes=[{code:"MAIN_CLIENT",display:"Main client"},{code:"SUB_CLIENT",display:"Sub client"},{code:"MAIN_SUB_CLIENT",display:"Main and sub client"}],this.yesNoConstants=[{code:!0,display:"Yes"},{code:!1,display:"No"}],this.waybillStatus=[{code:"CREATED",display:"Created"},{code:"CANCELED",display:"Cancelled"},{code:"DELIVERED ",display:"Delivered"}],this.filterAction=[{value:"All",display:"All"},{value:"OPEN",display:"Open"},{value:"SUBMITTED",display:"Submitted"},{value:"APPROVED",display:"Approved"},{value:"REJECTED",display:"Rejected"},{value:"CANCELLED",display:"Cancelled"},{value:"PARTIALLY_EXECUTED",display:"Partially Executed"},{value:"EXECUTED",display:"Executed"},{value:"DISCARDED",display:"Discarded"},{value:"REOPENED",display:"Reopened"},{value:"SUBMIT_SYS_CANCELLED",display:"Submit sys cancelled"},{value:"APPROVE_SYS_CANCELLED",display:"Approve sys cancelled"},{value:"PARTIAL_SYS_CANCELLED",display:"Partial sys cancelled"}],this.transferTypes=[{value:"SWAP",display:"Inter Depot Swap"},{value:"INTRASWAP",display:"Intra Depot Swap"},{value:"RELEASE",display:"Release"}],this.eventTypes=[{id:1,name:"Client contract end"},{id:2,name:"Demo 2"}],this.eodJobTypes=[{value:"BALANCEUPDATE",display:"Update Actual Balances"},{value:"RESETBALANCE",display:"Reset Available Balances"},{value:"DISPATCHSTATUS",display:"Update Dispatch Status"},{value:"DAILYTXNBALANCE",display:"Capture Daily Txn Balances"}],this.weekDays=[{value:"MONDAY",display:"Monday"},{value:"TUESDAY",display:"Tuesday"},{value:"WEDNESDAY",display:"Wednesday"},{value:"THURSDAY",display:"Thursday"},{value:"FRIDAY",display:"Friday"},{value:"SATURDAY",display:"Saturday"},{value:"SUNDAY",display:"Sunday"}],this.monthsOfYear=[{value:"JANUARY",display:"January"},{value:"FEBRUARY",display:"February"},{value:"MARCH",display:"March"},{value:"APRIL",display:"April"},{value:"MAY",display:"May"},{value:"JUNE",display:"June"},{value:"JULY",display:"July"},{value:"AUGUST",display:"August"},{value:"SEPTEMBER",display:"September"},{value:"OCTOBER",display:"October"},{value:"NOVEMBER",display:"November"},{value:"DECEMBER",display:"December"}],this.transferStatus=[{value:"OPEN",display:"Open"},{value:"SUBMITTED",display:"Submitted"},{value:"APPROVED",display:"Approved"},{value:"REJECTED",display:"Rejected"},{value:"CANCELLED",display:"Cancelled"},{value:"EXECUTED",display:"Executed"},{value:"DISCARDED",display:"Discarded"},{value:"REOPENED",display:"Reopened"}],this.depotDates=[{value:0,display:"Same Day"},{value:1,display:"Next Day"}],this.pageSize=10,this.dispatchPageSize=8}return e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}()},kJ0Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a,r=n("MnXN"),l=n("TYT/"),o=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DELIMITER="/",t}return o(t,e),t.prototype.fromModel=function(e){if(e){var t=e.split(this.DELIMITER);return{month:parseInt(t[0],10),day:parseInt(t[1],10),year:parseInt(t[2],10)}}return null},t.prototype.toModel=function(e){return e?e.month+this.DELIMITER+e.day+this.DELIMITER+e.year:null},t.\u0275prov=l["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac=function(e){return s(e||t)}}),t}(r.g),s=l["\u0275\u0275getInheritedFactory"](i)},"no7+":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o}));var a,r=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){return function(){}}(),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(l)},oR8h:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("26FU"),r=n("67Y/"),l=n("0o5J"),o=n("TYT/"),i=n("qT8p"),s=function(){function e(e,t){this.toastr=e,this.webApiProvider=t,this.onClientSelected=new a.a(null),this.onAdvancedSearchApplied=new a.a(null),this.onClearSearchApplied=new a.a(null)}return e.prototype.loadClientData=function(e,t){return this.getAllClients(e-1,t)},e.prototype.create=function(e){return this.webApiProvider.post("client/v1/",e,!0)},e.prototype.update=function(e){return this.webApiProvider.put("client/v1/"+e.id,e)},e.prototype.delete=function(e){return this.webApiProvider.delete("client/v1/"+e,!0)},e.prototype.getAllClients=function(e,t){return this.webApiProvider.get("client/v1/list/"+e+"/"+t,!0)},e.prototype.getMainAndSubClientsNoPagination=function(){return this.webApiProvider.get("client/v1/list?includeSubClients=true",!0)},e.prototype.getAllClientsNoPagination=function(){return this.webApiProvider.get("client/v1/list",!0)},e.prototype.getAllSubClientsForGivenMainClient=function(e){return this.webApiProvider.get("client/v1/list/"+e)},e.prototype.getDepotForClient=function(e){return this.webApiProvider.post("depot/v1/userdepots?clientId="+e,null,!0)},e.prototype.getClientLedger=function(e,t,n){return this.webApiProvider.getwithSearchParam("client/ledger/v1/list/"+e+"/"+t,n.params)},e.prototype.getClientById=function(e){var t=this;return this.loadingData=!0,this.getAllClienById(e).pipe(Object(r.a)((function(e){return t.onClientSelected.next({client:e}),t.loadingData=!1,e})))},e.prototype.selectClient=function(e){return t=this,void 0,a=function(){return function(e,t){var n,a,r,l,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(i){l=[6,i],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,(function(t){switch(t.label){case 0:return this.loadingCollection=!0,this.loadingData=!0,[4,this.delay(1e3)];case 1:return t.sent(),this.onClientSelected.next({client:e}),this.loadingData=!1,[2]}}))},new((n=void 0)||(n=Promise))((function(e,r){function l(e){try{i(a.next(e))}catch(t){r(t)}}function o(e){try{i(a.throw(e))}catch(t){r(t)}}function i(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(l,o)}i((a=a.apply(t,[])).next())}));var t,n,a},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.getAllClienById=function(e){return this.webApiProvider.get("client/v1/"+e)},e.prototype.getAllClientAssociationGroup=function(){return this.webApiProvider.get("client-assoc-grp/v1/list")},e.prototype.performAdvancedSearch=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.getwithSearchParam("client/v1/list/0/6",e.params).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({clients:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.search=function(e,t,n){return this.webApiProvider.get("client/v1/list/"+(t-1)+"/"+n+e)},e.prototype.getAllMainClients=function(){return this.webApiProvider.get("client/v1/list",!0)},e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](i.b),o["\u0275\u0275inject"](l.c))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"y/l7":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("0o5J"),r=n("TYT/"),l=function(){function e(e){this.webApiProvider=e}return e.prototype.download=function(e){return this.webApiProvider.get("attachment/v1/"+e)},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](a.c))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);