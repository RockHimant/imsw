(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2q/H":function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return s}));var r=n("26FU"),o=n("K9Ia"),i=n("dzgT"),a=n("67Y/"),c=n("4cXr"),p=n("TYT/"),u=n("cUzu"),l=function(){return function(t){Object.assign(this,t)}}(),s=function(){function t(t,e){this.http=t,this.webApiProvider=e,this.onContactSelected=new r.a(null),this.onChatSelected=new r.a(null),this.onRetailerSelected=new r.a(null),this.onAdvancedSearchApplied=new r.a(null),this.onChatsUpdated=new o.a}return t.prototype.loadRetailerData=function(){var t=this;return Object(i.a)(this.getAllRetailers(),(function(e){t.retailers=e.content}))},t.prototype.searchRetailer=function(t){var e=this;return Object(i.a)(this.getAllRetailers(),(function(t){e.retailers=t.content}))},t.prototype.getAllRetailers=function(){return this.webApiProvider.get("retailer/v1/list/0/6")},t.prototype.getRetailerById=function(t){var e=this;return this.loadingCollection=!0,this.getRetailerbyId(t).pipe(Object(a.a)((function(t){return e.onRetailerSelected.next({retailer:t}),e.loadingCollection=!1,console.log("service - ",t),t})))},t.prototype.autoReply=function(t){var e=this;setTimeout((function(){e.onChatsUpdated.next(t)}),1500)},t.prototype.getRetailerbyId=function(t){return this.webApiProvider.get("retailer/v1/"+t)},t.prototype.performAdvancedSearch=function(t){var e=this;return this.loadingCollection=!0,this.http.post("api/retailer/search",t).pipe(Object(a.a)((function(t){return e.onAdvancedSearchApplied.next({companies:t}),e.loadingCollection=!1,t})))},t.\u0275fac=function(e){return new(e||t)(p["\u0275\u0275inject"](u.c),p["\u0275\u0275inject"](c.a))},t.\u0275prov=p["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},BxdS:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("26FU"),o=n("0o5J"),i=n("67Y/"),a=n("TYT/"),c=function(){function t(t){this.webApiProvider=t,this.onRetailerCompanySelected=new r.a(null)}return t.prototype.saveCompany=function(t){return this.webApiProvider.post("retailer-company/v1",t,!0)},t.prototype.updateCompany=function(t,e){return this.webApiProvider.put("retailer-company/v1/"+t,e)},t.prototype.deleteCompany=function(t){return this.webApiProvider.delete("retailer-company/v1/"+t,null)},t.prototype.getAllWithPagination=function(t,e){return this.webApiProvider.get("retailer-company/v1/list/"+t+"/"+e,null)},t.prototype.getById=function(t){return this.webApiProvider.get("retailer-company/v1/"+t)},t.prototype.getAll=function(){return this.webApiProvider.get("retailer-company/v1/list",null)},t.prototype.getRetailerCompanyById=function(t){var e=this;return this.loadingCollection=!0,this.getById(t).pipe(Object(i.a)((function(t){return e.onRetailerCompanySelected.next({company:t}),e.loadingCollection=!1,t})))},t.prototype.loadRetailerCompanyData=function(t,e){return this.getAllWithPagination(t-1,e)},t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](o.c))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},EbFV:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("0o5J"),o=n("TYT/"),i=function(){function t(t){this.webApiProvier=t}return t.prototype.getProductTypes=function(){return this.webApiProvier.get("product/v1/list",!0)},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](r.c))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"Jq/4":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("26FU"),o=n("67Y/"),i=n("0o5J"),a=n("TYT/"),c=n("qT8p"),p=function(){function t(t,e){this.toastr=t,this.webApiProvider=e,this.onDepotSelected=new r.a(null),this.onAdvancedSearchApplied=new r.a(null),this.onClearSearchApplied=new r.a(null)}return t.prototype.loadDepotData=function(t,e){return this.loadDepotDataNoPagination(t,e)},t.prototype.loadDepotDataNoPagination=function(t,e){return this.getAllDepotsNoPagination()},t.prototype.create=function(t){return this.webApiProvider.post("depot/v1/",t,!0)},t.prototype.update=function(t){return this.webApiProvider.put("depot/v1/"+t.id,t)},t.prototype.delete=function(t){return this.webApiProvider.delete("depot/v1/"+t,!0)},t.prototype.getAllDepots=function(t,e){return this.webApiProvider.get("depot/v1/allDepots/",!0)},t.prototype.getAllDepotsPaginated=function(t,e){return this.webApiProvider.get("depot/v1/list/"+t+"/"+e,!0)},t.prototype.getAllDepotsNoPagination=function(){return this.webApiProvider.get("depot/v1/allDepots",!0)},t.prototype.getTankConfigurationById=function(t){var e=this;return this.loadingData=!0,this.getDepotById(t).pipe(Object(o.a)((function(t){return e.onDepotSelected.next({depot:t}),e.loadingData=!1,t})))},t.prototype.getDepotById=function(t){return this.webApiProvider.get("depot/v1/"+t)},t.prototype.performAdvancedSearch=function(t){var e=this;this.loadingCollection=!0,this.webApiProvider.get("depot/v1/list/0/6"+t,!0).subscribe((function(t){t&&(e.onAdvancedSearchApplied.next({depots:t}),e.loadingCollection=!1)}),(function(t){e.toastr.error(t.errorMessage,"Failed"),e.loadingCollection=!1}))},t.prototype.performAdvancedSearchPost=function(t){var e=this;this.loadingCollection=!0,this.webApiProvider.postwithSearchParam("depot/v1/depots",t.params).subscribe((function(t){t&&(e.onAdvancedSearchApplied.next({depots:t}),e.loadingCollection=!1)}),(function(t){e.toastr.error(t.errorMessage,"Failed"),e.loadingCollection=!1}))},t.prototype.getProductsForDepot=function(t){return this.webApiProvider.post("depot/v1/depotprods?depotId="+t,null,!0)},t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](c.b),a["\u0275\u0275inject"](i.c))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},VAD1:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("26FU"),o=n("67Y/"),i=n("0o5J"),a=n("TYT/"),c=n("cUzu"),p=n("qT8p"),u=function(){function t(t,e,n){this.http=t,this.toastr=e,this.webApiProvider=n,this.onTransporterSelected=new r.a(null),this.onAdvancedSearchApplied=new r.a(null),this.onClearSearchApplied=new r.a(null),this.onTransporterUpdated=new r.a(null)}return t.prototype.loadTransporterData=function(t,e){return this.getAllTransporter(t-1,e)},t.prototype.create=function(t){return this.webApiProvider.post("transporter/v1/",t,!0)},t.prototype.update=function(t){return this.webApiProvider.put("transporter/v1/"+t.id,t)},t.prototype.delete=function(t){return this.webApiProvider.delete("transporter/v1/"+t,!0)},t.prototype.getAllTransporter=function(t,e){return this.webApiProvider.get("transporter/v1/list/"+t+"/"+e,!0)},t.prototype.getTransporterById=function(t){var e=this;return this.loadingData=!0,this.getAllTransporterById(t).pipe(Object(o.a)((function(t){return e.onTransporterSelected.next({transporter:t}),e.loadingData=!1,t})))},t.prototype.getAllTransporterById=function(t){return this.webApiProvider.get("transporter/v1/"+t)},t.prototype.getAllTransporterNoPagination=function(){return this.webApiProvider.get("transporter/v1/list")},t.prototype.performAdvancedSearch=function(t){var e=this;this.loadingCollection=!0,this.webApiProvider.getwithSearchParam("transporter/v1/list/0/6",t.params).subscribe((function(t){t&&(e.onAdvancedSearchApplied.next({transporters:t}),e.loadingCollection=!1)}),(function(t){e.toastr.error(t.errorMessage,"Failed"),e.loadingCollection=!1}))},t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](c.c),a["\u0275\u0275inject"](p.b),a["\u0275\u0275inject"](i.c))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},aKbQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));var r=n("26FU"),o=n("K9Ia"),i=n("dzgT"),a=n("F/XL"),c=n("15JJ"),p=n("67Y/"),u=n("TYT/"),l=n("cUzu"),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(){return function(){}}(),f=function(){function t(t){this.http=t,this.onContactSelected=new r.a(null),this.onUserUpdated=new o.a,this.onChatSelected=new r.a(null),this.onChatsUpdated=new o.a}return t.prototype.loadChatData=function(){var t=this;return Object(i.a)(this.getAllContacts(),this.getAllChats(),this.getCurrentUser(),(function(e,n,r){t.contacts=e,t.chats=n,t.user=r,t.onUserUpdated.next(r)}))},t.prototype.getChatByContact=function(t){var e=this;this.loadingCollection=!0;var n=this.user.chatInfo.find((function(e){return e.contactId===t}));return n?this.getAllChats().pipe(Object(c.a)((function(r){var o=r.find((function(t){return t.id===n.chatId})),i=e.contacts.find((function(e){return e.id===t}));return e.onChatSelected.next({chatCollection:o,contact:i}),e.loadingCollection=!1,Object(a.a)(o)}))):this.createChatCollection(t).pipe(Object(c.a)((function(n){return e.getChatByContact(t)})))},t.prototype.createChatCollection=function(t){var e=this,n=this.contacts.find((function(e){return e.id===t})),r=(1e9*Math.random()).toString(),o={id:r,chats:[]},i={chatId:r,lastChatTime:new Date,contactId:n.id,contactName:n.name,unread:null};return this.http.post("api/chat-collections",s({},o)).pipe(Object(c.a)((function(t){return e.user.chatInfo.push(i),e.updateUser(e.user).pipe(Object(c.a)((function(t){return e.getCurrentUser().pipe(Object(p.a)((function(t){e.user=t,e.onUserUpdated.next(t)})))})))})))},t.prototype.getAllContacts=function(){return this.http.get("api/contacts")},t.prototype.getAllChats=function(){return this.http.get("api/chat-collections")},t.prototype.getCurrentUser=function(){return this.http.get("api/chat-user").pipe(Object(p.a)((function(t){return t[0]})))},t.prototype.updateUser=function(t){return this.http.put("api/chat-user/"+t.id,s({},t))},t.prototype.updateChats=function(t,e){return this.http.put("api/chat-collections",{id:t,chats:e})},t.prototype.autoReply=function(t){var e=this;setTimeout((function(){e.onChatsUpdated.next(t)}),1500)},t.\u0275fac=function(e){return new(e||t)(u["\u0275\u0275inject"](l.c))},t.\u0275prov=u["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},bngh:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("26FU"),o=n("67Y/"),i=n("0o5J"),a=n("TYT/"),c=n("qT8p"),p=function(){function t(t,e){this.toastr=t,this.webApiProvider=e,this.onTruckSelected=new r.a(null),this.onAdvancedSearchApplied=new r.a(null),this.onClearSearchApplied=new r.a(null)}return t.prototype.loadTruckData=function(t,e){return this.getAllTrucks(t-1,e)},t.prototype.create=function(t){return this.webApiProvider.post("truck/v1/",t,!0)},t.prototype.update=function(t){return this.webApiProvider.put("truck/v1/"+t.id,t)},t.prototype.delete=function(t){return this.webApiProvider.delete("truck/v1/"+t,!0)},t.prototype.getAllTrucks=function(t,e){return this.webApiProvider.get("truck/v1/list/"+t+"/"+e,!0)},t.prototype.getAllTrucksNoPagination=function(){return this.webApiProvider.get("truck/v1/list",!0)},t.prototype.selectTruck=function(t){return e=this,void 0,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(e){switch(e.label){case 0:return this.loadingData=!0,[4,this.delay(1e3)];case 1:return e.sent(),this.onTruckSelected.next({truck:t}),this.loadingData=!1,[2]}}))},new((n=void 0)||(n=Promise))((function(t,o){function i(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(i,a)}c((r=r.apply(e,[])).next())}));var e,n,r},t.prototype.delay=function(t){return new Promise((function(e){return setTimeout(e,t)}))},t.prototype.getTankConfigurationById=function(t){var e=this;return this.loadingData=!0,this.getTruckById(t).pipe(Object(o.a)((function(t){return e.onTruckSelected.next({Truck:t}),e.loadingData=!1,t})))},t.prototype.getTruckById=function(t){return this.webApiProvider.get("truck/v1/"+t)},t.prototype.performAdvancedSearch=function(t){var e=this;this.loadingCollection=!0,this.webApiProvider.get("truck/v1/list/0/8"+t,!0).subscribe((function(t){t&&(e.onAdvancedSearchApplied.next({financials:t}),e.loadingCollection=!1)}),(function(t){e.toastr.error(t.errorMessage,"Failed"),e.loadingCollection=!1}))},t.prototype.getProductsForDepot=function(t){return this.webApiProvider.post("truck/v1/depotprods?depotId="+t,null,!0)},t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](c.b),a["\u0275\u0275inject"](i.c))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},kJ0Q:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,o=n("MnXN"),i=n("TYT/"),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DELIMITER="-",e}return a(e,t),e.prototype.fromModel=function(t){if(t){var e=t.split(this.DELIMITER);return{day:parseInt(e[2],10),month:parseInt(e[1],10),year:parseInt(e[0],10)}}return null},e.prototype.toModel=function(t){return t?t.year+this.DELIMITER+t.month+this.DELIMITER+t.day:null},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return p(t||e)}}),e}(o.g),p=i["\u0275\u0275getInheritedFactory"](c)},mB2O:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("TYT/"),o=n("cUzu"),i=function(){function t(t){this.http=t}return t.prototype.getProducts=function(){return this.http.get("api/products")},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](o.c))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);