(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"1VWe":function(e,t,n){"use strict";n.r(t);var r=n("Valr"),a=n("4iqE"),l=n("TYT/"),o=n("he9t"),i=n("hqYv"),s=n("kmKP"),c=n("NlNA"),d=n("QJY3"),m=n("oR8h"),p=n("9uVP"),u=n("J4gu"),v=n("Gi3i"),f=n("UvwH"),g=n("MnXN"),h=n("X2FZ"),b=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)o.push(r.value)}catch(i){a={error:i}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return o},S=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e},y=function(){return{"w-100":!0}},x=function(){function e(e,t,n){this.service=e,this.constants=t,this.activeModal=n,this.showProgress=!1,this.page=new f.a,this.rows=new Array,this.selected=[],this.temp=[],this.loading=!1,this.searchControl=new d.FormControl,this.rowIdentity=function(e){return e.id},this.page.pageNumber=0,this.page.size=10}return e.prototype.ngOnInit=function(){var e=this;this.loading=!0,this.service.selectedRoles$&&this.service.selectedRoles$.subscribe((function(t){var n;(n=e.selected).push.apply(n,S(t)),console.log(e.selected,"ghahahahahha")})),this.service.getAllRole(this.page.pageNumber,1e3).subscribe((function(t){e.rows=t.content,e.temp=S(t.content),e.loading=!1}),(function(t){e.loading=!1})),this.searchControl.valueChanges.pipe(Object(v.a)(200)).subscribe((function(t){e.filerData(t)}))},e.prototype.filerData=function(e){this.loading=!0;var t=this.temp.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e)||!e}));this.loading=!1,this.rows=t},e.prototype.onSelect=function(e){var t,n=e.selected;console.log("Select Event",n,this.selected),this.selected.splice(0,this.selected.length),(t=this.selected).push.apply(t,S(n))},e.prototype.onActivate=function(e){console.log("Activate Event",e)},e.prototype.displayCheck=function(e){return"Ethel Price"!==e.name},e.prototype.selectRole=function(){var e;e=this.selected.map((function(e){return{id:e.id,name:e.name}})),this.activeModal.close({status:!0,roles:e})},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](u.a),l["\u0275\u0275directiveInject"](o.a),l["\u0275\u0275directiveInject"](g.b))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-role-search"]],decls:15,vars:22,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],[1,"modal-body"],[1,"form-group","m-0","flex-grow-1"],["id","search","placeholder","Search role name",1,"form-control","form-control-rounded",3,"formControl"],[1,"row","no-margin","mt-4"],["rowHeight","auto",1,"material","fullscreen",3,"ngClass","rows","rowIdentity","columnMode","headerHeight","footerHeight","selected","selectionType","selectAllRowsOnPage","displayCheck","externalPaging","loadingIndicator","limit","activate","select"],["table",""],[3,"width","sortable","canAutoResize","draggable","resizeable","headerCheckboxable","checkboxable"],["name","Name"],["name","Description"],[1,"row","modal-footer","no-margin","w-100"],["type","button",1,"btn","btn-primary","float-right",3,"click"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"h4",1),l["\u0275\u0275text"](2,"Select Roles"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",2),l["\u0275\u0275elementStart"](4,"div",3),l["\u0275\u0275element"](5,"input",4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",5),l["\u0275\u0275elementStart"](7,"ngx-datatable",6,7),l["\u0275\u0275listener"]("activate",(function(e){return t.onActivate(e)}))("select",(function(e){return t.onSelect(e)})),l["\u0275\u0275element"](9,"ngx-datatable-column",8),l["\u0275\u0275element"](10,"ngx-datatable-column",9),l["\u0275\u0275element"](11,"ngx-datatable-column",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"div",11),l["\u0275\u0275elementStart"](13,"button",12),l["\u0275\u0275listener"]("click",(function(){return t.selectRole()})),l["\u0275\u0275text"](14,"Ok"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("formControl",t.searchControl),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction0"](21,y))("rows",t.rows)("rowIdentity",t.rowIdentity)("columnMode","force")("headerHeight",60)("footerHeight",80)("selected",t.selected)("selectionType","checkbox")("selectAllRowsOnPage",!1)("displayCheck",t.displayCheck)("externalPaging",!1)("loadingIndicator",t.loading)("limit",t.page.size),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("width",30)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1)("headerCheckboxable",!0)("checkboxable",!0))},directives:[d.DefaultValueAccessor,d.NgControlStatus,d.FormControlDirective,h.d,r.n,h.b],styles:[".pagination-div[_ngcontent-%COMP%]{align-items:center;justify-content:center;width:100%}"]}),e}(),E=n("Jq/4"),C=n("DUip"),w=n("qT8p"),I=n("1PnN"),k=n("904P"),P=n("1ziV"),F=n("ffL6"),N=n("3rkx"),O=n("o8Qb");function A(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"common.messages.nameRequired")))}function D(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275template"](1,A,3,3,"div",49),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.f.name.errors.required)}}function U(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("",l["\u0275\u0275pipeBind1"](2,1,"common.messages.nameRequired")," "))}function M(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275template"](1,U,3,3,"div",49),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.f.firstName.errors.required)}}function V(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("",l["\u0275\u0275pipeBind1"](2,1,"common.messages.nameRequired")," "))}function R(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275template"](1,V,3,3,"div",49),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.f.lastName.errors.required)}}function _(e,t){1&e&&l["\u0275\u0275element"](0,"div",18)}function j(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"user.messages.passwordReq")))}function T(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275template"](1,j,3,3,"div",49),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.f.password.errors.required)}}function L(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1,"Password do not match"),l["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275template"](1,L,2,0,"div",49),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.f.retype.errors.notEqual)}}var z=function(e){return{"is-invalid":e}};function q(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",7),l["\u0275\u0275elementStart"](1,"label",8),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",9),l["\u0275\u0275element"](5,"input",62),l["\u0275\u0275template"](6,T,2,1,"div",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"label",8),l["\u0275\u0275text"](8),l["\u0275\u0275pipe"](9,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"div",9),l["\u0275\u0275element"](11,"input",63),l["\u0275\u0275template"](12,B,2,1,"div",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](3,6,"user.label.password")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](10,z,n.f.password.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.submitted&&n.f.password.errors),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](9,8,"user.label.reTypePassword")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](12,z,n.f.retype.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.f.retype.errors)}}function $(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"label",64),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"user.label.organization")))}var H=function(){return{"w-100":!0}};function G(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",24),l["\u0275\u0275element"](1,"ng-select",65),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("items",n.clients)("multiple",!1)("ngClass",l["\u0275\u0275pureFunction0"](4,H))("searchable",!0)}}function J(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",24),l["\u0275\u0275element"](1,"ng-select",66),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("items",n.constants.userTypes)("multiple",!1)("ngClass",l["\u0275\u0275pureFunction0"](4,H))("searchable",!0)}}function W(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",7),l["\u0275\u0275elementStart"](1,"label",8),l["\u0275\u0275text"](2,"Select Depots"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",29),l["\u0275\u0275element"](4,"ng-select",67),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("items",n.depotss)("multiple",!0)("ngClass",l["\u0275\u0275pureFunction0"](3,H))}}function Q(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"common.messages.phoneNoRequired")," "))}function X(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275template"](1,Q,3,3,"div",49),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.f.primaryPhoneNo.errors.required)}}function Y(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"common.messages.emailRequired")))}function K(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"common.messages.validEmail")))}function Z(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275template"](1,Y,3,3,"div",49),l["\u0275\u0275template"](2,K,3,3,"div",49),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.f.email.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.f.email.errors.email)}}function ee(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-spinner-wrapper",68),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("showSpinner",n.showProgress)}}function te(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",69),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"](),t=l["\u0275\u0275reference"](156);return e.resetPassword(t)})),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()}2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"common.button.resetPassword")))}function ne(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"span",72),l["\u0275\u0275text"](1),l["\u0275\u0275elementStart"](2,"button",73),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit;return l["\u0275\u0275nextContext"](2).removeRole(e)})),l["\u0275\u0275elementStart"](3,"span",74),l["\u0275\u0275text"](4,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("",r.name," ")}}function re(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",70),l["\u0275\u0275template"](1,ne,5,1,"span",71),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",n.userRoles)}}function ae(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",75),l["\u0275\u0275elementStart"](1,"label",76),l["\u0275\u0275text"](2,"No roles added"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]())}function le(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"user.messages.passwordReq")))}function oe(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275template"](1,le,3,3,"div",49),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.rf.password.errors.required)}}function ie(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1,"Password do not match"),l["\u0275\u0275elementEnd"]())}function se(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275template"](1,ie,2,0,"div",49),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.rf.retype.errors.notEqual)}}function ce(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",77),l["\u0275\u0275elementStart"](1,"h4",78),l["\u0275\u0275text"](2,"Reset Password"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",79),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("Cross click")})),l["\u0275\u0275elementStart"](4,"span",74),l["\u0275\u0275text"](5,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",80),l["\u0275\u0275elementStart"](7,"form",6,81),l["\u0275\u0275elementStart"](9,"div",82),l["\u0275\u0275elementStart"](10,"div",83),l["\u0275\u0275elementStart"](11,"label"),l["\u0275\u0275text"](12,"Password"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](13,"input",62),l["\u0275\u0275template"](14,oe,2,1,"div",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"div",83),l["\u0275\u0275elementStart"](16,"label"),l["\u0275\u0275text"](17,"Retype Password"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](18,"input",63),l["\u0275\u0275template"](19,se,2,1,"div",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"div",84),l["\u0275\u0275elementStart"](21,"button",85),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("cancel")})),l["\u0275\u0275text"](22,"Cancel"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"button",86),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.close("Ok")})),l["\u0275\u0275text"](24,"Ok"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("formGroup",n.resetPasswordForm),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](6,z,n.rf.password.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.rf.password.errors),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](8,z,n.rf.retype.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.rf.retype.errors),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("disabled",!n.resetPasswordForm.valid)}}var de,me=function(e){return{mask:e}},pe=function(){function e(e,t,n,r,a,l,o,i,s,d,m){this.fb=e,this.clientService=t,this.router=n,this.route=r,this.service=a,this.roleService=l,this.dl=o,this.depotService=i,this.constants=s,this.modalService=d,this.toastr=m,this.changePassword=!1,this.header="",this.showProgress=!1,this.submitted=!1,this.errorMessage=null,this.phoneMask=["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],this.transporter=[],this.roles=[],this.depotss=[],this.userRoles=[],this.user=new c.a,this.navigationUrl="users/user",this.showDepots=!1,this.setForm(this.user),this.setResetPasswordForm()}return e.prototype.setResetPasswordForm=function(){this.resetPasswordForm=this.fb.group({password:[null,[d.Validators.required]],retype:[null,[d.Validators.required]]})},e.prototype.ngOnInit=function(){var e=this;this.showProgress=!0,this.header=this.action===a.a.ADD||this.action===a.a.CLONE?"New user":"Update user",this.route.params.subscribe((function(t){return e.userId=t.id})),this.loadCountries(),this.userId?this.service.getUserById(this.userId).subscribe((function(t){e.user=t,e.userRoles=t.roles,e.roleService.selectedRoles.next(t.roles),e.roleService.selectedRoles$=e.roleService.selectedRoles.asObservable(),e.isClone()?(e.setFormForClone(e.user),e.showProgress=!1):(e.setForm(e.user),e.showProgress=!1)}),(function(t){e.roleService.selectedRoles.next([]),e.roleService.selectedRoles$=e.roleService.selectedRoles.asObservable(),console.log("Error occured: "+t)})):(this.showProgress=!1,this.userForm.controls.status.disable(),this.userForm.controls.status.setValue("ACTIVE"))},Object.defineProperty(e.prototype,"f",{get:function(){return this.userForm.controls},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rf",{get:function(){return this.resetPasswordForm.controls},enumerable:!0,configurable:!0}),e.prototype.setForm=function(e){this.userForm=this.fb.group({id:this.action===a.a.EDIT?e.id:null,name:[e.name,[d.Validators.required]],firstName:[e.firstName,[d.Validators.required]],lastName:[e.lastName,[d.Validators.required]],password:this.userId?null:[null,[d.Validators.required]],language:e.language,pageCount:e.pageCount,type:e.type,status:e.status,orgId:e.orgId,supervisor:e.supervisor,retype:this.userId?null:[null,[d.Validators.required]],address:this.fb.group({addressLine:e.address?e.address.addressLine:null,city:e.address?e.address.city:null,state:e.address?e.address.state:null,country:e.address?e.address.country:null,postCode:e.address?e.address.postCode:null}),email:[e.email,[d.Validators.email]],primaryPhoneNo:[e.primaryPhoneNo,[d.Validators.required]],allDepots:!e||e.allDepots,roles:[],depots:e.depots}),e.roles&&(this.userForm.get("roles").setValue(e.roles),this.userRoles=e.roles,this.toggleDepots(e.allDepots)),e.depots&&this.userForm.get("depots").setValue(e.depots),this.showDepots=!e.allDepots,this.showProgress=!1},e.prototype.loadCountries=function(){var e=this;this.dl.getCountries().subscribe((function(t){e.countries$=t}))},e.prototype.isClone=function(){return this.action===a.a.CLONE},e.prototype.setFormForClone=function(e){return t=this,void 0,r=function(){return function(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(i){l=[6,i],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,(function(t){return this.userForm=this.fb.group({id:null,status:e.status,name:["",[d.Validators.required]],firstName:["",[d.Validators.required]],lastName:["",[d.Validators.required]],password:["",[d.Validators.required]],address:this.fb.group({addressLine:e.address?e.address.addressLine:null,city:e.address?e.address.city:null,state:e.address?e.address.state:null,country:e.address?e.address.country:null,postCode:e.address?e.address.postCode:null}),primaryPhoneNo:e.primaryPhoneNo,email:[e.email,[d.Validators.required,d.Validators.email]],language:e.language,pageCount:e.pageCount,type:e.type,orgId:e.orgId,supervisor:e.supervisor,roles:e.roles}),this.showProgress=!1,[2]}))},new((n=void 0)||(n=Promise))((function(e,a){function l(e){try{i(r.next(e))}catch(t){a(t)}}function o(e){try{i(r.throw(e))}catch(t){a(t)}}function i(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(l,o)}i((r=r.apply(t,[])).next())}));var t,n,r},e.prototype.save=function(){var e=this;this.submitted=!0,this.userForm.markAllAsTouched();var t=this.userForm.value;if(t.allDepots=!this.showDepots,t.allDepots&&(t.depots=[]),this.changePassword&&(this.userForm.get("password").setValidators([d.Validators.required]),this.userForm.get("retype").setValidators([d.Validators.required])),this.userForm.invalid)this.toastr.error("Please fill in required fields","Failed",{timeOut:4e3});else{var n;this.showProgress=!0;var r="";this.action!==a.a.ADD&&this.action!==a.a.CLONE||(n=this.service.create(t),r="User created successfully !",this.service.loadUserData(0,6)),this.action===a.a.EDIT&&(n=this.service.update(t),r="User updated successfully !"),n.subscribe((function(t){t?(e.toastr.success(r,"Success",{timeOut:4e3}),e.service.onUserSelected.next(t.data),e.showProgress=!1):(e.toastr.error(t.errorMessage,"Failed",{timeOut:4e3}),e.showProgress=!1)}),(function(t){e.toastr.error(p.a.getErrorMessage(t),"Failed",{timeOut:4e3}),e.showProgress=!1}))}},e.prototype.toggleOrganizations=function(){var e=this;switch(this.userForm.get("type").value){case"INTERNAL":break;case"FINANCIAL":this.showFinanciers=!0,this.showClients=!1,this.showTransporters=!1;break;case"CLIENT":this.showProgress=!0,this.showClients=!0,this.showFinanciers=!1,this.showTransporters=!1,this.clientService.getMainAndSubClientsNoPagination().subscribe((function(t){e.clients=p.a.getBaseInfoForResponse(t),e.showProgress=!1}),(function(t){e.toastr.error(t.errorMessage,"Failed",{timeOut:4e3})}));break;case"TRANSPORTER":this.showTransporters=!0,this.showClients=!1,this.showFinanciers=!1}},e.prototype.showRole=function(){var e=this,t=this.modalService.open(x,{ariaLabelledBy:"modal-basic-title",centered:!0,size:"lg"});t.componentInstance.modalTitle="Select Role",t.componentInstance.clientType="MAIN_CLIENT",t.result.then((function(t){t.status?(e.userForm.get("roles").setValue(t.roles),e.userRoles=t.roles,console.log(t)):console.log("Modal closed")}))},e.prototype.removeRole=function(e){-1!=this.userRoles.indexOf(e)&&this.userRoles.splice(this.userRoles.indexOf(e),1)},e.prototype.toggleDepots=function(e){var t=this;this.userForm.get("allDepots").setValue(e),this.showProgress=!0,this.showDepots=!e,this.showDepots?this.depotService.getPaginatedDepots(0,1e3).subscribe((function(e){t.depotss=e.content.map((function(e){var n={id:e.id,name:e.name};return t.showProgress=!1,n}))})):this.showProgress=!1},e.prototype.resetPassword=function(e){var t=this;this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",centered:!0}).result.then((function(e){var n=t.resetPasswordForm.value;if(n){if(n.password!==n.retype)return void(t.errorMessage="Password do not match");t.errorMessage=null,t.showProgress=!0,t.user.password=n.password,t.service.update(t.user).subscribe((function(e){t.showProgress=!1,t.modalService.dismissAll(),t.toastr.success("Successfully updated the user","Success",{timeOut:4e3})}),(function(e){t.showProgress=!1,t.toastr.error(p.a.getErrorMessage(e),"Failed",{timeOut:4e3})}))}}),(function(e){console.log("model reason : "+e)}))},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](d.FormBuilder),l["\u0275\u0275directiveInject"](m.a),l["\u0275\u0275directiveInject"](C.h),l["\u0275\u0275directiveInject"](C.a),l["\u0275\u0275directiveInject"](s.a),l["\u0275\u0275directiveInject"](u.a),l["\u0275\u0275directiveInject"](i.a),l["\u0275\u0275directiveInject"](E.a),l["\u0275\u0275directiveInject"](o.a),l["\u0275\u0275directiveInject"](g.m),l["\u0275\u0275directiveInject"](w.b))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-editor"]],inputs:{action:"action",userId:"userId"},decls:157,vars:121,consts:[[1,"breadcrumb"],[1,"border-top","mb-5","col-lg-12"],[1,"row"],[1,"col-lg-9"],[1,"card","mb-4"],[1,"card-body"],[3,"formGroup"],[1,"form-group","row"],["for","name",1,"col-md-3","col-form-label","required"],[1,"col-md-3"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback font1em",4,"ngIf"],["for","status",1,"col-md-3","col-form-label"],["bindLabel","display","bindValue","code","formControlName","status",3,"items","multiple","placeholder"],["type","text","id","name","formControlName","firstName",1,"form-control",3,"ngClass"],["type","text","id","name","formControlName","lastName",1,"form-control",3,"ngClass"],["class","border-top mb-3 col-lg-12",4,"ngIf"],["class","form-group row",4,"ngIf"],[1,"border-top","mb-3","col-lg-12"],["for","languages",1,"col-md-3","col-form-label","required"],["bindLabel","display","bindValue","value","placeholder","Select language","formControlName","language",3,"items","multiple","ngClass"],["for","pageCount",1,"col-md-3","col-form-label"],["type","number","id","name","formControlName","pageCount",1,"form-control"],["for","type",1,"col-md-3","col-form-label"],[1,"col-md-3","input-group"],["highlightColor","#b52725","bindLabel","display","bindValue","value","placeholder","Select user type","formControlName","type",3,"items","multiple","ngClass","searchable","change"],["for","organization","class","col-md-3 col-form-label",4,"ngIf"],["class","col-md-3 input-group",4,"ngIf"],["type","text","id","name","formControlName","supervisor",1,"form-control"],[1,"col-md-3","input-group","no-margin","mt-1"],[1,"radio","radio-outline-primary"],["type","radio","name","allDepots","formControlName","allDepots",3,"value","click"],[1,"checkmark"],["formGroupName","address"],["for","addressLine",1,"col-md-3","col-form-label"],["type","text-area","id","addressLine","formControlName","addressLine",1,"form-control"],["for","city",1,"col-md-3","col-form-label"],[1,"col-lg-3"],["type","text","id","city","formControlName","city",1,"form-control"],["for","state",1,"col-md-3","col-form-label"],["type","text","id","state","formControlName","state",1,"form-control"],["for","country",1,"col-md-3","col-form-label"],["highlightColor","#b52725","bindLabel","display","bindValue","value","placeholder","Select country","formControlName","country",3,"items","multiple","searchable"],["for","postCode",1,"col-md-3","col-form-label"],["type","text","placeholder","Enter 6 digit code","id","postCode","formControlName","postCode",1,"form-control"],["for","primPhNo",1,"col-md-3","col-form-label"],["type","text","id","primPhNo","formControlName","primaryPhoneNo",1,"form-control",3,"textMask","placeholder","ngClass"],["for","email",1,"col-md-3","col-form-label"],["type","email","id","email","formControlName","email",1,"form-control",3,"placeholder","ngClass"],[4,"ngIf"],[1,"card-footer"],[1,"col-sm-10","btn-toolbar"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],["type","button","appConfirmation","",1,"btn","btn-outline-secondary",3,"navigationUrl"],[1,"card-header","text-left","text-16"],[1,"col-sm-6"],["type","button",1,"btn","btn-outline-primary","float-right",3,"click"],["class","padding-5",4,"ngIf"],["class","padding-10",4,"ngIf"],["resetPasswordModal",""],[1,"invalid-feedback","font1em"],["type","password","id","name","formControlName","password",1,"form-control",3,"ngClass"],["type","password","id","name","appMatchValidator","password","formControlName","retype",1,"form-control",3,"ngClass"],["for","organization",1,"col-md-3","col-form-label"],["highlightColor","#b52725","bindLabel","name","bindValue","id","placeholder","Select user type","formControlName","orgId",3,"items","multiple","ngClass","searchable"],["highlightColor","#b52725","bindLabel","display","bindValue","value","placeholder","Select Financier","formControlName","orgId",3,"items","multiple","ngClass","searchable"],["bindLabel","name","formControlName","depots","placeholder","Select depots",3,"items","multiple","ngClass"],[3,"showSpinner"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"padding-5"],["class","badge badge-pill badge-light p-2 mr-1 mt-1",4,"ngFor","ngForOf"],[1,"badge","badge-pill","badge-light","p-2","mr-1","mt-1"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"padding-10"],[1,"item-label","text-gray"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],[1,"modal-body"],["ngForm",""],[1,"form-group","row","no-margin","space-between"],[1,"col-sm-12","p-1"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","btn-rounded",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger","btn-rounded",3,"disabled","click"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"h1"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"ul"),l["\u0275\u0275elementStart"](4,"li"),l["\u0275\u0275text"](5),l["\u0275\u0275pipe"](6,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"li"),l["\u0275\u0275text"](8),l["\u0275\u0275pipe"](9,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](10,"div",1),l["\u0275\u0275elementStart"](11,"div",2),l["\u0275\u0275elementStart"](12,"div",3),l["\u0275\u0275elementStart"](13,"div",4),l["\u0275\u0275elementStart"](14,"div",5),l["\u0275\u0275elementStart"](15,"form",6),l["\u0275\u0275elementStart"](16,"div",7),l["\u0275\u0275elementStart"](17,"label",8),l["\u0275\u0275text"](18),l["\u0275\u0275pipe"](19,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"div",9),l["\u0275\u0275element"](21,"input",10),l["\u0275\u0275template"](22,D,2,1,"div",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"label",12),l["\u0275\u0275text"](24),l["\u0275\u0275pipe"](25,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"div",9),l["\u0275\u0275element"](27,"ng-select",13),l["\u0275\u0275pipe"](28,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](29,"div",7),l["\u0275\u0275elementStart"](30,"label",8),l["\u0275\u0275text"](31),l["\u0275\u0275pipe"](32,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](33,"div",9),l["\u0275\u0275element"](34,"input",14),l["\u0275\u0275template"](35,M,2,1,"div",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](36,"label",8),l["\u0275\u0275text"](37),l["\u0275\u0275pipe"](38,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](39,"div",9),l["\u0275\u0275element"](40,"input",15),l["\u0275\u0275template"](41,R,2,1,"div",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](42,_,1,0,"div",16),l["\u0275\u0275template"](43,q,13,14,"div",17),l["\u0275\u0275element"](44,"div",18),l["\u0275\u0275elementStart"](45,"div",7),l["\u0275\u0275elementStart"](46,"label",19),l["\u0275\u0275text"](47),l["\u0275\u0275pipe"](48,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](49,"div",9),l["\u0275\u0275element"](50,"ng-select",20),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](51,"label",21),l["\u0275\u0275text"](52),l["\u0275\u0275pipe"](53,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](54,"div",9),l["\u0275\u0275element"](55,"input",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](56,"div",7),l["\u0275\u0275elementStart"](57,"label",23),l["\u0275\u0275text"](58),l["\u0275\u0275pipe"](59,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](60,"div",24),l["\u0275\u0275elementStart"](61,"ng-select",25),l["\u0275\u0275listener"]("change",(function(){return t.toggleOrganizations()})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](62,$,3,3,"label",26),l["\u0275\u0275template"](63,G,2,5,"div",27),l["\u0275\u0275template"](64,J,2,5,"div",27),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](65,"div",7),l["\u0275\u0275elementStart"](66,"label",8),l["\u0275\u0275text"](67),l["\u0275\u0275pipe"](68,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](69,"div",9),l["\u0275\u0275element"](70,"input",28),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](71,"div",18),l["\u0275\u0275elementStart"](72,"div",7),l["\u0275\u0275elementStart"](73,"label",8),l["\u0275\u0275text"](74),l["\u0275\u0275pipe"](75,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](76,"div",29),l["\u0275\u0275elementStart"](77,"label",30),l["\u0275\u0275elementStart"](78,"input",31),l["\u0275\u0275listener"]("click",(function(){return t.toggleDepots(!0)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](79,"span"),l["\u0275\u0275text"](80,"All Depots"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](81,"span",32),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](82,"div",29),l["\u0275\u0275elementStart"](83,"label",30),l["\u0275\u0275elementStart"](84,"input",31),l["\u0275\u0275listener"]("click",(function(){return t.toggleDepots(!1)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](85,"span"),l["\u0275\u0275text"](86,"Selected depot"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](87,"span",32),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](88,W,5,4,"div",17),l["\u0275\u0275element"](89,"div",18),l["\u0275\u0275elementStart"](90,"div",33),l["\u0275\u0275elementStart"](91,"div",7),l["\u0275\u0275elementStart"](92,"label",34),l["\u0275\u0275text"](93),l["\u0275\u0275pipe"](94,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](95,"div",3),l["\u0275\u0275element"](96,"input",35),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](97,"div",7),l["\u0275\u0275elementStart"](98,"label",36),l["\u0275\u0275text"](99),l["\u0275\u0275pipe"](100,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](101,"div",37),l["\u0275\u0275element"](102,"input",38),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](103,"label",39),l["\u0275\u0275text"](104),l["\u0275\u0275pipe"](105,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](106,"div",37),l["\u0275\u0275element"](107,"input",40),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](108,"div",7),l["\u0275\u0275elementStart"](109,"label",41),l["\u0275\u0275text"](110),l["\u0275\u0275pipe"](111,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](112,"div",37),l["\u0275\u0275element"](113,"ng-select",42),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](114,"label",43),l["\u0275\u0275text"](115),l["\u0275\u0275pipe"](116,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](117,"div",37),l["\u0275\u0275element"](118,"input",44),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](119,"div",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](120,"div",7),l["\u0275\u0275elementStart"](121,"label",45),l["\u0275\u0275text"](122),l["\u0275\u0275pipe"](123,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](124,"div",37),l["\u0275\u0275element"](125,"input",46),l["\u0275\u0275pipe"](126,"translate"),l["\u0275\u0275template"](127,X,2,1,"div",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](128,"label",47),l["\u0275\u0275text"](129),l["\u0275\u0275pipe"](130,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](131,"div",37),l["\u0275\u0275element"](132,"input",48),l["\u0275\u0275pipe"](133,"translate"),l["\u0275\u0275template"](134,Z,3,2,"div",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](135,ee,2,1,"div",49),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](136,"div",50),l["\u0275\u0275elementStart"](137,"div",51),l["\u0275\u0275elementStart"](138,"button",52),l["\u0275\u0275listener"]("click",(function(){return t.save()})),l["\u0275\u0275text"](139),l["\u0275\u0275pipe"](140,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](141,te,3,3,"button",53),l["\u0275\u0275elementStart"](142,"button",54),l["\u0275\u0275text"](143),l["\u0275\u0275pipe"](144,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](145,"div",9),l["\u0275\u0275elementStart"](146,"div",4),l["\u0275\u0275elementStart"](147,"div",55),l["\u0275\u0275elementStart"](148,"span",56),l["\u0275\u0275text"](149," Roles "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](150,"button",57),l["\u0275\u0275listener"]("click",(function(){return t.showRole()})),l["\u0275\u0275text"](151,"Add"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](152,"div",5),l["\u0275\u0275template"](153,re,2,1,"div",58),l["\u0275\u0275template"](154,ae,3,0,"div",59),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](155,ce,25,10,"ng-template",null,60,l["\u0275\u0275templateRefExtractor"])),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](t.header),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](6,61,"navigation.users")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](9,63,"navigation.user")),l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("formGroup",t.userForm),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](19,65,"user.label.userName")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](107,z,t.submitted&&t.f.name.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.name.errors),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](25,67,"common.label.status")),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](28,69,"common.placeHolder.selectStatus")),l["\u0275\u0275property"]("items",t.constants.crudStatus)("multiple",!1),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](32,71,"user.label.firstName")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](109,z,t.submitted&&t.f.firstName.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.firstName.errors),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](38,73,"user.label.lastName")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](111,z,t.submitted&&t.f.lastName.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.lastName.errors),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.userId),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.userId),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](48,75,"user.label.language")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("items",t.constants.languages)("multiple",!1)("ngClass",l["\u0275\u0275pureFunction0"](113,H)),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](53,77,"user.label.pageCount")),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](59,79,"user.label.userType")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("items",t.constants.userTypes)("multiple",!1)("ngClass",l["\u0275\u0275pureFunction0"](114,H))("searchable",!0),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.showClients||t.showFinanciers||t.showTransporters),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.showClients),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.showFinanciers),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](68,81,"user.label.supervisor")),l["\u0275\u0275advance"](7),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](75,83,"user.label.supervisor")),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("value",!0),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("value",!1),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngIf",t.showDepots),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](94,85,"common.label.address.addLine")),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](100,87,"common.label.address.city")),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](105,89,"common.label.address.state")),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](111,91,"common.label.address.country")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("items",t.countries$)("multiple",!1)("searchable",!0),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](116,93,"common.label.address.postCode")),l["\u0275\u0275advance"](7),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](123,95,"common.label.contact.primaryPhoneNo")),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](126,97,"common.placeHolder.phoneMask")),l["\u0275\u0275property"]("textMask",l["\u0275\u0275pureFunction1"](115,me,t.phoneMask))("ngClass",l["\u0275\u0275pureFunction1"](117,z,t.submitted&&t.f.primaryPhoneNo.errors)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.primaryPhoneNo.errors),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](130,99,"common.label.contact.email")),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](133,101,"common.placeHolder.egMailId")),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](119,z,t.submitted&&t.f.email.errors)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.email.errors),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.showProgress),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](140,103,"common.button.save")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.userId),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("navigationUrl",t.navigationUrl),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](144,105,"common.button.cancel"),""),l["\u0275\u0275advance"](10),l["\u0275\u0275property"]("ngIf",t.userRoles),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.userRoles))},directives:[d["\u0275angular_packages_forms_forms_y"],d.NgControlStatusGroup,d.FormGroupDirective,d.DefaultValueAccessor,d.NgControlStatus,d.FormControlName,r.n,r.p,I.a,d.NumberValueAccessor,d.RadioControlValueAccessor,d.FormGroupName,k.MaskedInputDirective,P.a,F.a,N.a,r.o],pipes:[O.c],styles:[".btn-toolbar[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:10px}.cover-spin[_ngcontent-%COMP%]{position:fixed;width:100%;left:0;right:0;top:0;bottom:0;background-color:hsla(0,0%,100%,.7);z-index:9999}.show[_ngcontent-%COMP%]{display:block!important}.font1em[_ngcontent-%COMP%]{font-size:1em}.ng-value[_ngcontent-%COMP%]{background-color:red!important}.ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border-color:red!important}.ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]   .ng-arrow[_ngcontent-%COMP%]{border-color:red transparent transparent!important}.ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{color:red!important}.ng-select.ng-invalid[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border-color:red}.badge[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-left:.25rem;color:inherit;font-size:100%;text-shadow:0 1px 0 rgba(0,0,0,.5)}"]}),e}(),ue=function(){function e(){this.action=a.a.CLONE}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-clone"]],decls:1,vars:2,consts:[[3,"action","userId"]],template:function(e,t){1&e&&l["\u0275\u0275element"](0,"app-user-editor",0),2&e&&l["\u0275\u0275property"]("action",t.action)("userId",t.userId)},directives:[pe],styles:[""]}),e}(),ve=function(){function e(){this.action=a.a.EDIT}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-edit"]],decls:1,vars:2,consts:[[3,"action","userId"]],template:function(e,t){1&e&&l["\u0275\u0275element"](0,"app-user-editor",0),2&e&&l["\u0275\u0275property"]("action",t.action)("userId",t.userId)},directives:[pe],styles:[""]}),e}(),fe=n("7o2P"),ge=n("cUzu"),he=n("goBR"),be=n("egX5"),Se=n("rXAn"),ye=n("T64K"),xe=n("eOkc"),Ee=n("3b8F"),Ce=(de=function(e,t){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}de(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function we(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",19),l["\u0275\u0275text"](1,"Active"),l["\u0275\u0275elementEnd"]())}function Ie(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",20),l["\u0275\u0275text"](1,"Inactive"),l["\u0275\u0275elementEnd"]())}function ke(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",15),l["\u0275\u0275elementStart"](1,"p",16),l["\u0275\u0275text"](2),l["\u0275\u0275template"](3,we,2,0,"span",17),l["\u0275\u0275template"](4,Ie,2,0,"span",18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("",null==n.activeUser?null:n.activeUser.name," "),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ACTIVE"==n.activeUser.status),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ACTIVE"!=n.activeUser.status)}}function Pe(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",27),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"](2),t=l["\u0275\u0275reference"](20);return e.confirmDeactivate(t)})),l["\u0275\u0275text"](1,"Mark Inactive"),l["\u0275\u0275elementEnd"]()}}function Fe(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",27),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"](2),t=l["\u0275\u0275reference"](18);return e.confirmActivate(t)})),l["\u0275\u0275text"](1,"Mark Active"),l["\u0275\u0275elementEnd"]()}}function Ne(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",21),l["\u0275\u0275elementStart"](1,"div",22),l["\u0275\u0275elementStart"](2,"button",23),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]();return e.edit(e.activeUser)})),l["\u0275\u0275text"](3,"Edit"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",24),l["\u0275\u0275elementStart"](5,"button",25),l["\u0275\u0275text"](6,"More"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"div",26),l["\u0275\u0275elementStart"](8,"button",27),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]();return e.clone(e.activeUser)})),l["\u0275\u0275text"](9,"Clone"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](10,Pe,2,0,"button",28),l["\u0275\u0275template"](11,Fe,2,0,"button",28),l["\u0275\u0275elementStart"](12,"button",27),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"](),t=l["\u0275\u0275reference"](14);return e.confirm(t)})),l["\u0275\u0275text"](13,"Delete"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var r=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](10),l["\u0275\u0275property"]("ngIf","ACTIVE"==r.activeUser.status),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ACTIVE"!=r.activeUser.status)}}function Oe(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-spinner-wrapper",29),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("showSpinner",!0))}var Ae=function(){return{scale:".2",delay:"400ms",duration:"400ms"}},De=function(e){return{value:"*",params:e}},Ue=function(){return{y:"120px",delay:"600ms",duration:"400ms"}};function Me(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",30),l["\u0275\u0275elementStart"](1,"div",31),l["\u0275\u0275element"](2,"i",32),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"p",33),l["\u0275\u0275text"](4,"Select user to view details."),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("@animate",l["\u0275\u0275pureFunction1"](3,De,l["\u0275\u0275pureFunction0"](2,Ae))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("@animate",l["\u0275\u0275pureFunction1"](6,De,l["\u0275\u0275pureFunction0"](5,Ue))))}function Ve(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",52),l["\u0275\u0275elementStart"](1,"p",53),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"p",54),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"p",55),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"p",55),l["\u0275\u0275text"](8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"p",55),l["\u0275\u0275text"](10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.activeUser.address.addressLine?n.activeUser.address.addressLine:"-"," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.activeUser.address.city,""),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.activeUser.address.state,""),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.activeUser.address.country,""),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.activeUser.address.postCode,"")}}function Re(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span",56),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](n.name)}}function _e(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"span",57),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"](2),t=l["\u0275\u0275reference"](16);return e.showAllRoles(t)})),l["\u0275\u0275text"](1,"Show more"),l["\u0275\u0275elementEnd"]()}}function je(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span",56),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](n.name)}}function Te(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",56),l["\u0275\u0275text"](1,"All"),l["\u0275\u0275elementEnd"]())}function Le(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-spinner-wrapper",29),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("showSpinner",!0))}function Be(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",58),l["\u0275\u0275elementStart"](1,"button",59),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"](2).toggleShowAudit()})),l["\u0275\u0275text"](2,"Show audit"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}}function ze(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",37),l["\u0275\u0275elementStart"](1,"app-audit-history",60),l["\u0275\u0275listener"]("closeIt",(function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"](2).toggleShowAudit(e)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var r=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("resourceType",r.resourceType)("resourceId",r.resourceId)}}function qe(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",34),l["\u0275\u0275elementStart"](1,"div",35),l["\u0275\u0275elementStart"](2,"div",36),l["\u0275\u0275elementStart"](3,"div",37),l["\u0275\u0275elementStart"](4,"div",38),l["\u0275\u0275text"](5," Primary Details "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",39),l["\u0275\u0275elementStart"](7,"div",40),l["\u0275\u0275elementStart"](8,"div",41),l["\u0275\u0275elementStart"](9,"div",42),l["\u0275\u0275elementStart"](10,"label",43),l["\u0275\u0275text"](11,"First Name"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"label",44),l["\u0275\u0275text"](13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"div",42),l["\u0275\u0275elementStart"](15,"label",43),l["\u0275\u0275text"](16,"Last Name"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"label",44),l["\u0275\u0275text"](18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](19,"div",42),l["\u0275\u0275elementStart"](20,"label",43),l["\u0275\u0275text"](21,"User Type"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"label",44),l["\u0275\u0275text"](23),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"div",42),l["\u0275\u0275elementStart"](25,"label",43),l["\u0275\u0275text"](26,"Supervisor Username"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](27,"label",44),l["\u0275\u0275text"](28),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](29,"div",41),l["\u0275\u0275elementStart"](30,"div",42),l["\u0275\u0275elementStart"](31,"label",43),l["\u0275\u0275text"](32,"Address"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](33,Ve,11,5,"div",45),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](34,"div",42),l["\u0275\u0275elementStart"](35,"label",43),l["\u0275\u0275text"](36,"Phone Number"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](37,"label",44),l["\u0275\u0275text"](38),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](39,"div",42),l["\u0275\u0275elementStart"](40,"label",43),l["\u0275\u0275text"](41,"Email"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](42,"label",44),l["\u0275\u0275text"](43),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](44,"div",41),l["\u0275\u0275elementStart"](45,"div",42),l["\u0275\u0275elementStart"](46,"label",43),l["\u0275\u0275text"](47,"Preferred Language"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](48,"label",44),l["\u0275\u0275text"](49),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](50,"div",42),l["\u0275\u0275elementStart"](51,"label",43),l["\u0275\u0275text"](52,"Default Result Page Count"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](53,"label",44),l["\u0275\u0275text"](54),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](55,"div",41),l["\u0275\u0275elementStart"](56,"div",42),l["\u0275\u0275elementStart"](57,"label",43),l["\u0275\u0275text"](58,"Roles"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](59,Re,2,1,"span",46),l["\u0275\u0275template"](60,_e,2,0,"span",47),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](61,"div",42),l["\u0275\u0275elementStart"](62,"label",43),l["\u0275\u0275text"](63,"Depot"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](64,je,2,1,"span",46),l["\u0275\u0275template"](65,Te,2,0,"span",48),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](66,Le,2,1,"div",5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](67,"div",49),l["\u0275\u0275template"](68,Be,3,0,"div",50),l["\u0275\u0275template"](69,ze,2,2,"div",51),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](13),l["\u0275\u0275textInterpolate"](n.activeUser.firstName),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](n.activeUser.lastName),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](n.activeUser.type),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](n.activeUser.supervisor),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngIf",n.activeUser.address),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](n.activeUser.primaryPhoneNo),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](n.activeUser.email),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](n.getLanguageText()),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](n.activeUser.pageCount),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngForOf",n.activeUser.roles.slice(0,3)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.activeUser.roles.length>3),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngForOf",n.activeUser.depots),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.activeUser.allDepots),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.service.loadingData),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",!n.showHistory),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.showHistory)}}function $e(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275elementStart"](1,"h4",62),l["\u0275\u0275text"](2,"User Deletion"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",63),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("Cross click")})),l["\u0275\u0275elementStart"](4,"span",64),l["\u0275\u0275text"](5,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",65),l["\u0275\u0275elementStart"](7,"p"),l["\u0275\u0275elementStart"](8,"strong"),l["\u0275\u0275text"](9,"Are you sure you want to delete "),l["\u0275\u0275elementStart"](10,"span",66),l["\u0275\u0275text"](11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](12," user?"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"p"),l["\u0275\u0275text"](14,"All information associated to this user profile will be permanently deleted. "),l["\u0275\u0275elementStart"](15,"span",67),l["\u0275\u0275text"](16,"This operation can not be undone."),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"div",68),l["\u0275\u0275elementStart"](18,"button",69),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("cancel")})),l["\u0275\u0275text"](19,"Cancel"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"button",70),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.close("Ok")})),l["\u0275\u0275text"](21,"Ok"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](11),l["\u0275\u0275textInterpolate"](n.activeUser.name)}}function He(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span",56),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](n.name)}}function Ge(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275elementStart"](1,"h4",62),l["\u0275\u0275text"](2,"All Roles"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",63),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("Cross click")})),l["\u0275\u0275elementStart"](4,"span",64),l["\u0275\u0275text"](5,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",65),l["\u0275\u0275template"](7,He,2,1,"span",46),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"div",68),l["\u0275\u0275elementStart"](9,"button",69),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("cancel")})),l["\u0275\u0275text"](10,"Cancel"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"button",70),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.close("Ok")})),l["\u0275\u0275text"](12,"Ok"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("ngForOf",n.activeUser.roles)}}function Je(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275elementStart"](1,"h4",62),l["\u0275\u0275text"](2,"Company status activation"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",63),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("Cross click")})),l["\u0275\u0275elementStart"](4,"span",64),l["\u0275\u0275text"](5,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",65),l["\u0275\u0275elementStart"](7,"p"),l["\u0275\u0275text"](8,"Are you sure you want to change status of "),l["\u0275\u0275elementStart"](9,"span",66),l["\u0275\u0275text"](10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](11," user to active?"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"div",68),l["\u0275\u0275elementStart"](13,"button",69),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("cancel")})),l["\u0275\u0275text"](14,"Cancel"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"button",70),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.close("Ok")})),l["\u0275\u0275text"](16,"Ok"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](10),l["\u0275\u0275textInterpolate"](n.activeUser.name)}}function We(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",61),l["\u0275\u0275elementStart"](1,"h4",62),l["\u0275\u0275text"](2,"User Deactivate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",63),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("Cross click")})),l["\u0275\u0275elementStart"](4,"span",64),l["\u0275\u0275text"](5,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",65),l["\u0275\u0275elementStart"](7,"p"),l["\u0275\u0275text"](8,"Are you sure you want to change status of "),l["\u0275\u0275elementStart"](9,"span",66),l["\u0275\u0275text"](10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](11," user to inactive?"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"div",68),l["\u0275\u0275elementStart"](13,"button",69),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("cancel")})),l["\u0275\u0275text"](14,"Cancel"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"button",70),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.close("Ok")})),l["\u0275\u0275text"](16,"Ok"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](10),l["\u0275\u0275textInterpolate"](n.activeUser.name)}}var Qe=function(){return{"w-100":!0}},Xe=function(e){function t(t,n,r,a,l,o){var i=e.call(this,r)||this;return i.service=t,i.router=n,i.constants=r,i.modalService=a,i.toastr=l,i.route=o,i.activeUser=new c.a,i.showHistory=!0,i.loadingData=!1,i.resourceType="user",i.page=1,i.pageSize=i.constants.pageSize,i}return Ce(t,e),t.prototype.ngOnInit=function(){var e=this;this.loadingData=!0,this.route.params.subscribe((function(t){return e.userId=t.id})),this.userSelectedSub=this.service.onUserSelected.subscribe((function(t){t&&(e.activeUser=t.user,e.resourceId=e.activeUser.id.toString(),e.showHistory=!1,e.loadingData=!1)}))},t.prototype.ngOnDestroy=function(){this.userSelectedSub&&this.userSelectedSub.unsubscribe(),this.activeUser=null},t.prototype.edit=function(e){this.router.navigate(["edit",e.id],{relativeTo:this.route})},t.prototype.toggleShowAudit=function(e){this.showHistory=!e},t.prototype.clone=function(e){this.router.navigate(["clone",e.id],{relativeTo:this.route})},t.prototype.confirm=function(e){var t=this;this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",centered:!0}).result.then((function(e){t.service.loadingData=!0,t.service.delete(t.activeUser.id).subscribe((function(e){t.activeUser=null,t.service.onUserDeleted.next(!0),t.service.performAdvancedSearch(t.page-1,t.pageSize,""),t.toastr.success("User successfully deleted !","Success",{timeOut:4e3}),t.service.loadingData=!1}),(function(e){t.toastr.error(e.errorMessage,"Failed",{timeOut:3e4}),t.service.loadingData=!1}))}),(function(e){console.log("model reason : "+e)}))},t.prototype.showAllRoles=function(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",centered:!0}).result.then((function(e){console.log("result: "+e)}),(function(e){console.log("modal reason "+e)}))},t.prototype.getLanguageText=function(){var e="";switch(this.activeUser.language){case"en":e="English";break;case"fr":e="French"}return e},t.prototype.confirmActivate=function(e){var t=this;this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",centered:!0}).result.then((function(e){t.service.loadingData=!0,t.service.activate(t.activeUser.name).subscribe((function(e){t.service.getAllUserById(t.activeUser.id).subscribe((function(e){t.activeUser=e,t.service.performAdvancedSearch(0,8,"")})),t.toastr.success("User succesfully activated !","Success",{timeOut:4e3}),t.service.loadingData=!1}),(function(e){var n=p.a.getErrorMessage(e);t.toastr.error(n,"Failed",{timeOut:4e3}),t.service.loadingData=!1}))}),(function(e){console.log("model reason : "+e)}))},t.prototype.confirmDeactivate=function(e){var t=this;this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",centered:!0}).result.then((function(e){t.service.loadingData=!0,t.activeUser.status="INACTIVE",t.service.update(t.activeUser).subscribe((function(e){t.service.performAdvancedSearch(0,8,""),t.toastr.success("User has been marked Inactive !","Success",{timeOut:4e3}),t.service.loadingData=!1}),(function(e){var n=JSON.parse(e.error);t.toastr.error(n.errorMessage,"Failed",{timeOut:400}),t.service.loadingData=!1}))}),(function(e){console.log("model reason : "+e)}))},t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275directiveInject"](s.a),l["\u0275\u0275directiveInject"](C.h),l["\u0275\u0275directiveInject"](o.a),l["\u0275\u0275directiveInject"](g.m),l["\u0275\u0275directiveInject"](w.b),l["\u0275\u0275directiveInject"](C.a))},t.\u0275cmp=l["\u0275\u0275defineComponent"]({type:t,selectors:[["user-content"]],features:[l["\u0275\u0275InheritDefinitionFeature"]],decls:21,vars:9,consts:[[1,"d-flex","pl-3","pr-3","pt-2","pb-2","box-shadow-1","chat-topbar","content-header"],["appSidebarToggler","company-sidebar",1,"link-icon","d-md-none"],[1,"icon-regular","i-Right","ml-0","mr-3"],["class","d-flex align-items-center col-6",4,"ngIf"],["class","col-6",4,"ngIf"],[4,"ngIf"],["class","app-inro-circle",4,"ngIf"],["class","company-details-page",4,"ngIf"],["id","clientDetailModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalPreviewLabel","aria-hidden","true",1,"modal","fade","right"],[3,"ngClass"],["id","depotDetailModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalPreviewLabel","aria-hidden","true",1,"modal","fade","right"],["modalConfirm",""],["roles",""],["modalConfirmActivate",""],["modalConfirmDeactivate",""],[1,"d-flex","align-items-center","col-6"],[1,"m-0","text-title","text-16","flex-grow-1"],["class","badge badge-pill badge-success mr-1",4,"ngIf"],["class","badge badge-pill badge-light mr-1",4,"ngIf"],[1,"badge","badge-pill","badge-success","mr-1"],[1,"badge","badge-pill","badge-light","mr-1"],[1,"col-6"],[1,"float-right"],["type","buttton",1,"btn","btn-primary","m-1",3,"click"],["ngbDropdown","","role","group","aria-label","Select all","placement","bottom",1,"btn-group"],["ngbDropdownToggle","",1,"btn","btn-outline-primary","btn-rounded"],["ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["class","dropdown-item",3,"click",4,"ngIf"],[3,"showSpinner"],[1,"app-inro-circle"],[1,"border","rounded-circle","big-bubble"],[1,"i-Lock-User"],[1,"text-16"],[1,"company-details-page"],[1,"row","no-margin"],[1,"col-md-8"],[1,"card","mb-4"],[1,"card-header","text-center","text-16"],[1,"card-body"],[1,"padding-10"],[1,"group"],[1,"row"],[1,"col-lg-4","items-label","text-gray"],[1,"col-lg-6","text-muted","font-weight-500"],["class","col-lg-8 no-margin",4,"ngIf"],["class","badge badge-pill badge-light p-2 mr-1 mb-1",4,"ngFor","ngForOf"],["class","pointer text-muted",3,"click",4,"ngIf"],["class","badge badge-pill badge-light p-2 mr-1 mb-1",4,"ngIf"],[1,"col-md-4"],["class","row no-margin justify-content-end",4,"ngIf"],["class","card mb-4",4,"ngIf"],[1,"col-lg-8","no-margin"],[1,"col-lg-8","text-mutedfont-weight-500","mb-0","pl-0"],[1,"col-lg-8","text-muted","font-weight-500","mb-0","pl-0"],[1,"col-lg-6","text-muted","font-weight-500","mb-0","pl-0"],[1,"badge","badge-pill","badge-light","p-2","mr-1","mb-1"],[1,"pointer","text-muted",3,"click"],[1,"row","no-margin","justify-content-end"],[1,"btn",3,"click"],[3,"resourceType","resourceId","closeIt"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","btn-rounded",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger","btn-rounded",3,"click"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275elementStart"](1,"div",0),l["\u0275\u0275elementStart"](2,"a",1),l["\u0275\u0275element"](3,"i",2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](4,ke,5,3,"div",3),l["\u0275\u0275template"](5,Ne,14,2,"div",4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](6,Oe,2,1,"div",5),l["\u0275\u0275template"](7,Me,5,8,"div",6),l["\u0275\u0275template"](8,qe,70,16,"div",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"div",8),l["\u0275\u0275element"](10,"app-client-details",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"div",10),l["\u0275\u0275element"](12,"app-depot-details",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](13,$e,22,1,"ng-template",null,11,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275template"](15,Ge,13,1,"ng-template",null,12,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275template"](17,Je,17,1,"ng-template",null,13,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275template"](19,We,17,1,"ng-template",null,14,l["\u0275\u0275templateRefExtractor"])),2&e&&(l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngIf",null==t.activeUser?null:t.activeUser.id),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==t.activeUser?null:t.activeUser.id),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.activeUser&&t.service.loadingData),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!(null!=t.activeUser&&t.activeUser.id||t.service.loadingCollection)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==t.activeUser?null:t.activeUser.id),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction0"](7,Qe)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction0"](8,Qe)))},directives:[he.d,r.p,ye.a,r.n,xe.a,g.i,g.k,g.j,N.a,r.o,Ee.a],styles:[".dropdown-menu.show[_ngcontent-%COMP%]{transform:translate(-65px,33px)!important;will-change:auto!important}.company-details-page[_ngcontent-%COMP%]{padding-top:30px}.item-details-page.items-label[_ngcontent-%COMP%]{font-weight:300;color:#777}.text-black[_ngcontent-%COMP%]{color:transparent}.group[_ngcontent-%COMP%]{padding-bottom:10px}.no-margin[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}.app-inro-circle[_ngcontent-%COMP%]{top:calc(40vh - 150px)!important}.on-top[_ngcontent-%COMP%]{z-index:1000!important}.modal[_ngcontent-%COMP%]   .modal-dialog.modal-right[_ngcontent-%COMP%]{right:0}.modal[_ngcontent-%COMP%]   .modal-full-height[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;width:400px;height:auto;min-height:100%;margin:0}"],data:{animation:[Se.a]}}),t}(be.a),Ye=n("h2Ha");function Ke(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",21),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit;return l["\u0275\u0275nextContext"]().filter(e)})),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](r.display)}}function Ze(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",22),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit;return l["\u0275\u0275nextContext"]().selectUser(e)})),l["\u0275\u0275elementStart"](1,"div",23),l["\u0275\u0275elementStart"](2,"h6",24),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",23),l["\u0275\u0275elementStart"](5,"h6",25),l["\u0275\u0275text"](6,"User Name: "),l["\u0275\u0275elementStart"](7,"span",26),l["\u0275\u0275text"](8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate2"]("",r.firstName,"\xa0",r.lastName,""),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](r.name)}}function et(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",27),l["\u0275\u0275elementStart"](1,"p"),l["\u0275\u0275text"](2," No user found."),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]())}function tt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-spinner-wrapper",28),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("showSpinner",!0))}var nt=function(){return{suppressScrollX:!0}},rt=function(){function e(e,t,n,r,a,l){this.service=e,this.router=t,this.route=n,this.modalService=r,this.constants=a,this.fb=l,this.selectedAction="All",this.loadingCollection=!1,this.advancedSearchApplied=!1,this.page=1,this.pageSize=this.constants.pageSize,this.searchControl=new d.FormControl,this.filterAction=[{value:"All",display:"All"},{value:"ACTIVE",display:"Active"},{value:"INACTIVE",display:"Inactive"}]}return e.prototype.ngOnInit=function(){var e=this;this.loadingCollection=!0,this.setAdvancedSearchForm(),this.loadDataSub=this.service.loadUserData(this.page,this.pageSize).subscribe((function(t){e.users=t.content,e.collectionSize=t.totalElements,e.loadingCollection=!1})),this.searchControl.valueChanges.pipe(Object(v.a)(200)).subscribe((function(t){e.filerData(t)})),this.advancedSearchSub=this.service.onAdvancedSearchApplied.subscribe((function(t){t&&(e.users=t.users.content,e.collectionSize=t.users.totalElements)})),this.service.onUserDeleted.subscribe((function(t){t&&(e.page=1,e.service.performAdvancedSearch(e.page-1,e.pageSize,""))}))},e.prototype.filerData=function(e){var t="?name="+e;"all"!=this.selectedAction.toLocaleLowerCase()&&(t=t+"&workflowStatus="+this.selectedAction.toUpperCase()),this.service.performAdvancedSearchWithQuery(this.page-1,this.pageSize,t)},e.prototype.filerDataWithStatus=function(e){var t="";"all"!=this.selectedAction.toLocaleLowerCase()&&(t=t+"?status="+e.toUpperCase()),this.service.performAdvancedSearchWithQuery(this.page-1,this.pageSize,t)},e.prototype.selectUser=function(e){this.service.onUserSelected.next({user:e})},e.prototype.getPageFromService=function(e){var t=this;this.loadingCollection=!0,this.service.loadUserData(e,this.pageSize).subscribe((function(n){t.users=n.content,t.collectionSize=n.totalElements,t.loadingCollection=!1,t.page=e}))},e.prototype.filter=function(e){this.selectedAction=e.display,this.filerDataWithStatus(e.value)},e.prototype.add=function(){this.router.navigate(["add"],{relativeTo:this.route})},e.prototype.setAdvancedSearchForm=function(){this.advancedSearchForm=this.fb.group({name:"",registrationNumber:"",status:""})},e.prototype.open=function(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then((function(e){console.log(e)}),(function(e){console.log("Err!",e)}))},e.prototype.performAdvancedSearch=function(e){this.loadingCollection=!0,this.modalService.dismissAll("close clicked"),this.advancedSearchApplied=!0},e.prototype.clearSearchCriteria=function(){this.advancedSearchApplied=!1,this.filerData("")},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](s.a),l["\u0275\u0275directiveInject"](C.h),l["\u0275\u0275directiveInject"](C.a),l["\u0275\u0275directiveInject"](g.m),l["\u0275\u0275directiveInject"](o.a),l["\u0275\u0275directiveInject"](d.FormBuilder))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["user-left-pane"]],decls:24,vars:13,consts:[[1,"border-right"],[1,"pt-2","pb-2","pl-3","pr-3","d-flex","align-items-center","box-shadow-1","chat-topbar"],[1,"col-sm-6","pl-0","pr-0"],["ngbDropdown","","role","group","placement","bottom",1,"btn-group"],["ngbDropdownToggle","",1,"btn","btn-outline-light","btn-rounded"],["ngbDropdownMenu","",1,"dropdown-menu"],["class","dropdown-item","value","action.value",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","float-right"],["type","button",1,"btn","btn-primary",3,"click"],[1,"pt-2","pb-2","pl-3","pr-3","d-flex","o-hidden","align-items-center","box-shadow-1","chat-topbar"],["appSidebarToggler","company-sidebar",1,"link-icon","d-md-none"],[1,"icon-regular","ml-0","mr-3","i-Left"],[1,"form-group","m-0","flex-grow-1"],["id","search","placeholder","Search user",1,"form-control","form-control-rounded",3,"formControl"],[1,"left-pane-container","contacts-scrollable","rtl-ps-none",3,"perfectScrollbar"],[1,"mt-3","pb-2","pl-3","pr-3","font-weight-bold","text-muted","border-bottom"],["class","p-3 pb-0 border-bottom align-items-center contact no-dot list-item",3,"click",4,"ngFor","ngForOf"],["class","p-3 pb-0 border-bottom align-items-center contact no-dot list-item",4,"ngIf"],[4,"ngIf"],[1,"row","no-margin","pagination-div","card-footer","border-rightr"],["aria-label","Default pagination",3,"collectionSize","page","pageSize","maxSize","ellipses","pageChange"],["value","action.value",1,"dropdown-item",3,"click"],[1,"p-3","pb-0","border-bottom","align-items-center","contact","no-dot","list-item",3,"click"],[1,"row","no-margin"],[1,"mb-3"],[1,"text-gray","mb-1"],[1,"text-muted"],[1,"p-3","pb-0","border-bottom","align-items-center","contact","no-dot","list-item"],[3,"showSpinner"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"button",4),l["\u0275\u0275text"](5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",5),l["\u0275\u0275template"](7,Ke,2,1,"button",6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"div",2),l["\u0275\u0275elementStart"](9,"div",7),l["\u0275\u0275elementStart"](10,"button",8),l["\u0275\u0275listener"]("click",(function(){return t.add()})),l["\u0275\u0275text"](11,"New"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"div",9),l["\u0275\u0275elementStart"](13,"a",10),l["\u0275\u0275element"](14,"i",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"div",12),l["\u0275\u0275element"](16,"input",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"div",14),l["\u0275\u0275element"](18,"div",15),l["\u0275\u0275template"](19,Ze,9,3,"div",16),l["\u0275\u0275template"](20,et,3,0,"div",17),l["\u0275\u0275template"](21,tt,2,1,"div",18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"div",19),l["\u0275\u0275elementStart"](23,"ngb-pagination",20),l["\u0275\u0275listener"]("pageChange",(function(e){return t.page=e}))("pageChange",(function(e){return t.getPageFromService(e)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](t.selectedAction),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.filterAction),l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("formControl",t.searchControl),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("perfectScrollbar",l["\u0275\u0275pureFunction0"](12,nt)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.users),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.users&&0==t.users.length),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.loadingCollection||t.service.loadingCollection),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("collectionSize",t.collectionSize)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("ellipses",!0))},directives:[g.i,g.k,g.j,r.o,he.d,d.DefaultValueAccessor,d.NgControlStatus,d.FormControlDirective,Ye.a,r.p,g.o,N.a],styles:[".no-dot[_ngcontent-%COMP%]:before{background:none!important}.dropdown-menu.show[_ngcontent-%COMP%]{transform:translateY(33px)!important}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin-left:5px}.show-on-top[_ngcontent-%COMP%]{z-index:1000;position:absolute;top:200px;left:80px}.left-pane-container[_ngcontent-%COMP%]{height:calc(100vh - 320px)!important}.pagination-div[_ngcontent-%COMP%]{align-items:center;justify-content:center;width:100%}.sidebar-container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{bottom:0!important}"]}),e}();function at(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span",13),l["\u0275\u0275elementStart"](1,"span",14),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](3," - "),l["\u0275\u0275elementStart"](4,"span",15),l["\u0275\u0275text"](5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](n.field),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](n.value)}}function lt(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",8),l["\u0275\u0275elementStart"](1,"ngb-alert",9),l["\u0275\u0275listener"]("close",(function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().clearSearch()})),l["\u0275\u0275elementStart"](2,"strong",10),l["\u0275\u0275text"](3,"Search criteria applied:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",11),l["\u0275\u0275template"](5,at,6,2,"span",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var r=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("type","info"),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngForOf",r.searchCriteriaInfo)}}function ot(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",16),l["\u0275\u0275elementStart"](1,"h4",17),l["\u0275\u0275text"](2,"Advanced Search"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",18),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("Cross click")})),l["\u0275\u0275elementStart"](4,"span",19),l["\u0275\u0275text"](5,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",20),l["\u0275\u0275elementStart"](7,"form",21,22),l["\u0275\u0275elementStart"](9,"div",23),l["\u0275\u0275elementStart"](10,"div",24),l["\u0275\u0275elementStart"](11,"label"),l["\u0275\u0275text"](12,"User Name"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](13,"input",25),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"div",24),l["\u0275\u0275elementStart"](15,"label"),l["\u0275\u0275text"](16,"First Name"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](17,"input",26),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"div",24),l["\u0275\u0275elementStart"](19,"label"),l["\u0275\u0275text"](20,"Last Name"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](21,"input",27),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"div",24),l["\u0275\u0275elementStart"](23,"label"),l["\u0275\u0275text"](24,"User Type"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](25,"ng-select",28),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"div",24),l["\u0275\u0275elementStart"](27,"label"),l["\u0275\u0275text"](28,"Status"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](29,"ng-select",29),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](30,"div",30),l["\u0275\u0275elementStart"](31,"button",31),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("cancel")})),l["\u0275\u0275text"](32,"Cancel"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](33,"button",32),l["\u0275\u0275listener"]("click",(function(){return t.$implicit.close("Ok")})),l["\u0275\u0275text"](34,"Ok"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("formGroup",n.advancedSearchForm),l["\u0275\u0275advance"](18),l["\u0275\u0275property"]("items",n.constants.userTypes)("multiple",!1),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("items",n.constants.crudStatus)("multiple",!1)}}var it=[{path:"",component:function(){function e(e,t,n,r,a,l,o){this.fb=e,this.service=t,this.router=n,this.route=r,this.constants=a,this.modalService=l,this.commonService=o,this.showSearchCriteria=!1,this.searchCriteriaInfo=[]}return e.prototype.ngOnInit=function(){this.setAdvancedSearchForm()},e.prototype.setAdvancedSearchForm=function(){this.advancedSearchForm=this.fb.group({name:"",firstName:"",lastName:"",type:null,status:null})},e.prototype.clear=function(){this.advancedSearchForm.controls.name.setValue(null),this.advancedSearchForm.controls.firstName.setValue(""),this.advancedSearchForm.controls.lastName.setValue(""),this.advancedSearchForm.controls.type.setValue(""),this.advancedSearchForm.controls.status.setValue(""),this.service.loadUserData(1,8)},e.prototype.openAdvancedSearchPopup=function(e){var t=this;this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",centered:!0}).result.then((function(e){t.searchCriteriaInfo=[],t.showSearchCriteria=!0;var n=t.advancedSearchForm.value;n&&t.searchCriteriaInfo.push({field:"User Name",value:n.name},{field:"First Name",value:n.firstName},{field:"Last Name",value:n.lastName},{field:"Type",value:n.type},{field:"Status",value:n.status});var r={params:(new ge.f).set("name",n.name?n.name:"").set("firstName",n.firstName?n.firstName:"").set("lastName",n.lastName?n.lastName:"").set("type",n.type?n.type:"").set("status",n.status?n.status:"")};t.service.performAdvancedSearch(0,8,r),console.log(n)}),(function(e){console.log("model reason : "+e)}))},e.prototype.clearSearch=function(){this.showSearchCriteria=!this.showSearchCriteria,this.service.performAdvancedSearchWithQuery(0,8,"")},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](d.FormBuilder),l["\u0275\u0275directiveInject"](s.a),l["\u0275\u0275directiveInject"](C.h),l["\u0275\u0275directiveInject"](C.a),l["\u0275\u0275directiveInject"](o.a),l["\u0275\u0275directiveInject"](g.m),l["\u0275\u0275directiveInject"](fe.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user"]],decls:14,vars:1,consts:[[1,"breadcrumb","space-between"],["type","button","aria-controls","collapseExample",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-search","mr-2"],["class","col-md-12 pl-0 pr-0",4,"ngIf"],["appSidebarContainer","",1,"card","chat-sidebar-container"],["appSidebarContent","",1,"chat-content-wrap"],["appSidebar","company-sidebar",1,"chat-sidebar-wrap"],["advancedSearch",""],[1,"col-md-12","pl-0","pr-0"],[1,"alert-card","mb-4",3,"type","close"],[1,"text-capitalize"],[1,"row","no-margin"],["class","col-sm-2 pl-0 pt-2",4,"ngFor","ngForOf"],[1,"col-sm-2","pl-0","pt-2"],[1,"items-label","text-gray"],[1,"text-muted","font-weight-500"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],["ngForm",""],[1,"form-group","row","no-margin","space-between"],[1,"col-sm-12","p-1"],["type","text","formControlName","name",1,"form-control"],["type","text","formControlName","firstName",1,"form-control"],["type","text","formControlName","lastName",1,"form-control"],["bindLabel","display","bindValue","value","placeholder","Select type","formControlName","type",3,"items","multiple"],["bindLabel","display","bindValue","code","placeholder","Select status","formControlName","status",3,"items","multiple"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","btn-rounded",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger","btn-rounded",3,"click"]],template:function(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"h1"),l["\u0275\u0275text"](2,"User"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",1),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275reference"](13);return t.openAdvancedSearchPopup(e)})),l["\u0275\u0275element"](4,"i",2),l["\u0275\u0275text"](5,"Advanced search "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](6,lt,6,2,"div",3),l["\u0275\u0275elementStart"](7,"div",4),l["\u0275\u0275elementStart"](8,"div",5),l["\u0275\u0275element"](9,"user-content"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"div",6),l["\u0275\u0275element"](11,"user-left-pane"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](12,ot,35,5,"ng-template",null,7,l["\u0275\u0275templateRefExtractor"])}2&e&&(l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("ngIf",t.showSearchCriteria))},directives:[r.p,he.a,he.b,Xe,he.c,rt,g.c,r.o,d["\u0275angular_packages_forms_forms_y"],d.NgControlStatusGroup,d.FormGroupDirective,d.DefaultValueAccessor,d.NgControlStatus,d.FormControlName,I.a],styles:[".space-between[_ngcontent-%COMP%]{justify-content:space-between}"]}),e}()},{path:"add",component:function(){function e(){this.action=a.a.ADD}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add"]],decls:1,vars:1,consts:[[3,"action"]],template:function(e,t){1&e&&l["\u0275\u0275element"](0,"app-user-editor",0),2&e&&l["\u0275\u0275property"]("action",t.action)},directives:[pe],styles:[""]}),e}()},{path:"edit/:id",component:ve},{path:"clone/:id",component:ue}],st=function(){function e(){}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[C.l.forChild(it)],C.l]}),e}(),ct=n("mnDI"),dt=n("aYsj"),mt=n("jASi"),pt=n("oOf3"),ut=n("jgPy"),vt=n("H2Tg");n.d(t,"UserModule",(function(){return ft}));var ft=function(){function e(){}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,st,Ye.b,ct.a,dt.a,d.FormsModule,g.n,d.ReactiveFormsModule,mt.AppFormsModule,I.b,pt.a,ut.a,vt.a,O.b]]}),e}()}}]);