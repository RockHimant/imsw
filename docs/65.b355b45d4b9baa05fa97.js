(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"1VWe":function(e,t,n){"use strict";n.r(t);var r,a=n("Valr"),i=n("DUip"),o=n("TYT/"),l=n("goBR"),c=n("no7+"),d=(n("4GwO"),r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this)||this;return Object.assign(n,t),n}return d(t,e),t}(c.b),p=n("4cXr"),m=n("26FU"),u=n("67Y/"),f=n("cUzu"),v=n("qT8p"),g=function(){function e(e,t,n){this.http=e,this.toastr=t,this.webApiProvider=n,this.onUserSelected=new m.a(null),this.onAdvancedSearchApplied=new m.a(null),this.onUserDataLoaded=new m.a(null)}return e.prototype.loadUserData=function(e,t){return this.getAllUsers(e-1,t)},e.prototype.create=function(e){return this.webApiProvider.post("user/v1/",e,!0)},e.prototype.update=function(e){return this.webApiProvider.put("user/v1/"+e.id,e)},e.prototype.delete=function(e){return this.webApiProvider.delete("user/v1/"+e,!0)},e.prototype.getAllUsers=function(e,t){return this.webApiProvider.get("user/v1/list/"+e+"/"+t,!0)},e.prototype.getUserById=function(e){var t=this;return this.loadingCollection=!0,this.getAllUserById(e).pipe(Object(u.a)((function(e){return t.onUserSelected.next({user:e}),t.loadingCollection=!1,e})))},e.prototype.getAllUserById=function(e){return this.webApiProvider.get("user/v1/"+e)},e.prototype.refresh=function(e,t){var n=this;this.loadingCollection=!0,this.getAllUsers(e,t).subscribe((function(e){n.onUserDataLoaded.next({users:e}),n.loadingCollection=!1}),(function(e){n.loadingCollection=!1}))},e.prototype.selectAirline=function(e){return t=this,void 0,r=function(){return function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(l){i=[6,l],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(t){return this.loadingCollection=!0,this.loadingData=!0,this.delay(500),this.onUserSelected.next({user:e}),this.loadingData=!1,[2]}))},new((n=void 0)||(n=Promise))((function(e,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,o)}l((r=r.apply(t,[])).next())}));var t,n,r},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.performAdvancedSearch=function(e,t,n){var r=this;this.loadingCollection=!0,this.webApiProvider.get("user/v1/list/"+e+"/"+t+n,!0).subscribe((function(e){e&&(r.onAdvancedSearchApplied.next({airlines:e}),r.loadingCollection=!1)}),(function(e){r.toastr.error(e.errorMessage,"Failed"),r.loadingCollection=!1}))},e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](f.c),o["\u0275\u0275inject"](v.b),o["\u0275\u0275inject"](p.a))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),b=n("he9t"),h=n("egX5"),S=n("MnXN"),x=n("T64K"),y=n("eOkc"),E=n("3rkx"),w=n("3b8F"),C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function I(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span",17),o["\u0275\u0275text"](1,"Active"),o["\u0275\u0275elementEnd"]())}function U(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span",18),o["\u0275\u0275text"](1,"Inactive"),o["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",13),o["\u0275\u0275elementStart"](1,"p",14),o["\u0275\u0275text"](2),o["\u0275\u0275template"](3,I,2,0,"span",15),o["\u0275\u0275template"](4,U,2,0,"span",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"]("",null==n.activeUser?null:n.activeUser.name," "),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","ACTIVE"==n.activeUser.status),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","ACTIVE"!=n.activeUser.status)}}function O(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",19),o["\u0275\u0275elementStart"](1,"div",20),o["\u0275\u0275elementStart"](2,"button",21),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=o["\u0275\u0275nextContext"]();return e.edit(e.activeUser)})),o["\u0275\u0275text"](3,"Edit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"div",22),o["\u0275\u0275elementStart"](5,"button",23),o["\u0275\u0275text"](6,"More"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"div",24),o["\u0275\u0275elementStart"](8,"button",25),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=o["\u0275\u0275nextContext"]();return e.clone(e.activeUser)})),o["\u0275\u0275text"](9,"Clone"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"button",25),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=o["\u0275\u0275nextContext"](),t=o["\u0275\u0275reference"](14);return e.confirm(t)})),o["\u0275\u0275text"](11,"Delete"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function k(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275element"](1,"app-spinner-wrapper",26),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("showSpinner",!0))}var P=function(){return{scale:".2",delay:"400ms",duration:"400ms"}},D=function(e){return{value:"*",params:e}},F=function(){return{y:"120px",delay:"600ms",duration:"400ms"}};function M(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",27),o["\u0275\u0275elementStart"](1,"div",28),o["\u0275\u0275element"](2,"i",29),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"p",30),o["\u0275\u0275text"](4,"Select financier transaction to view details."),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("@animate",o["\u0275\u0275pureFunction1"](3,D,o["\u0275\u0275pureFunction0"](2,P))),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("@animate",o["\u0275\u0275pureFunction1"](6,D,o["\u0275\u0275pureFunction0"](5,F))))}function _(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",49),o["\u0275\u0275elementStart"](1,"p",50),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"p",51),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"p",52),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"p",52),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"p",52),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",n.activeUser.address.addressLine?n.activeUser.address.addressLine:"-"," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",n.activeUser.address.city,""),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",n.activeUser.address.state,""),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",n.activeUser.address.country,""),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",n.activeUser.address.postCode,"")}}function j(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span",53),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.name)}}function T(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"span",54),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=o["\u0275\u0275nextContext"](2),t=o["\u0275\u0275reference"](16);return e.showAllRoles(t)})),o["\u0275\u0275text"](1,"Show more"),o["\u0275\u0275elementEnd"]()}}function z(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span",53),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.name)}}function V(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span",53),o["\u0275\u0275text"](1,"All"),o["\u0275\u0275elementEnd"]())}function L(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275element"](1,"app-spinner-wrapper",26),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("showSpinner",!0))}function N(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",55),o["\u0275\u0275elementStart"](1,"button",56),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"](2).toggleShowAudit()})),o["\u0275\u0275text"](2,"Show audit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function $(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",34),o["\u0275\u0275elementStart"](1,"app-audit-history",57),o["\u0275\u0275listener"]("closeIt",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"](2).toggleShowAudit(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("resourceType",r.resourceType)("resourceId",r.resourceId)}}function R(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",31),o["\u0275\u0275elementStart"](1,"div",32),o["\u0275\u0275elementStart"](2,"div",33),o["\u0275\u0275elementStart"](3,"div",34),o["\u0275\u0275elementStart"](4,"div",35),o["\u0275\u0275text"](5," Primary Details "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",36),o["\u0275\u0275elementStart"](7,"div",37),o["\u0275\u0275elementStart"](8,"div",38),o["\u0275\u0275elementStart"](9,"div",39),o["\u0275\u0275elementStart"](10,"label",40),o["\u0275\u0275text"](11,"First Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"label",41),o["\u0275\u0275text"](13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div",39),o["\u0275\u0275elementStart"](15,"label",40),o["\u0275\u0275text"](16,"Last Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"label",41),o["\u0275\u0275text"](18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",39),o["\u0275\u0275elementStart"](20,"label",40),o["\u0275\u0275text"](21,"User Type"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"label",41),o["\u0275\u0275text"](23),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](24,"div",39),o["\u0275\u0275elementStart"](25,"label",40),o["\u0275\u0275text"](26,"Supervisor Username"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](27,"label",41),o["\u0275\u0275text"](28),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](29,"div",38),o["\u0275\u0275elementStart"](30,"div",39),o["\u0275\u0275elementStart"](31,"label",40),o["\u0275\u0275text"](32,"Address"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](33,_,11,5,"div",42),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](34,"div",39),o["\u0275\u0275elementStart"](35,"label",40),o["\u0275\u0275text"](36,"Phone Number"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](37,"label",41),o["\u0275\u0275text"](38),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](39,"div",39),o["\u0275\u0275elementStart"](40,"label",40),o["\u0275\u0275text"](41,"Email"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](42,"label",41),o["\u0275\u0275text"](43),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](44,"div",38),o["\u0275\u0275elementStart"](45,"div",39),o["\u0275\u0275elementStart"](46,"label",40),o["\u0275\u0275text"](47,"Preferred Language"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](48,"label",41),o["\u0275\u0275text"](49),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](50,"div",39),o["\u0275\u0275elementStart"](51,"label",40),o["\u0275\u0275text"](52,"Default Result Page Count"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](53,"label",41),o["\u0275\u0275text"](54),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](55,"div",38),o["\u0275\u0275elementStart"](56,"div",39),o["\u0275\u0275elementStart"](57,"label",40),o["\u0275\u0275text"](58,"Roles"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](59,j,2,1,"span",43),o["\u0275\u0275template"](60,T,2,0,"span",44),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](61,"div",39),o["\u0275\u0275elementStart"](62,"label",40),o["\u0275\u0275text"](63,"Depot"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](64,z,2,1,"span",43),o["\u0275\u0275template"](65,V,2,0,"span",45),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](66,L,2,1,"div",5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](67,"div",46),o["\u0275\u0275template"](68,N,3,0,"div",47),o["\u0275\u0275template"](69,$,2,2,"div",48),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](13),o["\u0275\u0275textInterpolate"](n.activeUser.firstName),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](n.activeUser.lastName),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](n.activeUser.type),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](n.activeUser.supervisor),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngIf",n.activeUser.address),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](n.activeUser.primaryPhoneNo),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](n.activeUser.email),o["\u0275\u0275advance"](6),o["\u0275\u0275textInterpolate"](n.getLanguageText()),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](n.activeUser.pageCount),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngForOf",n.activeUser.roles.slice(0,3)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.activeUser.roles.length>3),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngForOf",n.activeUser.depots),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.activeUser.allDepots),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.service.loadingData),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!n.showHistory),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.showHistory)}}function B(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",58),o["\u0275\u0275elementStart"](1,"h4",59),o["\u0275\u0275text"](2,"Financial institute deletion"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"button",60),o["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("Cross click")})),o["\u0275\u0275elementStart"](4,"span",61),o["\u0275\u0275text"](5,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",62),o["\u0275\u0275elementStart"](7,"p"),o["\u0275\u0275elementStart"](8,"strong"),o["\u0275\u0275text"](9,"Are you sure you want to delete "),o["\u0275\u0275elementStart"](10,"span",63),o["\u0275\u0275text"](11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](12," financial institute?"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"p"),o["\u0275\u0275text"](14,"All information associated to this user profile will be permanently deleted. "),o["\u0275\u0275elementStart"](15,"span",64),o["\u0275\u0275text"](16,"This operation can not be undone."),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"div",65),o["\u0275\u0275elementStart"](18,"button",66),o["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("cancel")})),o["\u0275\u0275text"](19,"Cancel"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](20,"button",67),o["\u0275\u0275listener"]("click",(function(){return t.$implicit.close("Ok")})),o["\u0275\u0275text"](21,"Ok"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](11),o["\u0275\u0275textInterpolate"](n.activeUser.name)}}function H(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span",53),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.name)}}function Y(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",58),o["\u0275\u0275elementStart"](1,"h4",59),o["\u0275\u0275text"](2,"All Roles"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"button",60),o["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("Cross click")})),o["\u0275\u0275elementStart"](4,"span",61),o["\u0275\u0275text"](5,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",62),o["\u0275\u0275template"](7,H,2,1,"span",43),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",65),o["\u0275\u0275elementStart"](9,"button",66),o["\u0275\u0275listener"]("click",(function(){return t.$implicit.dismiss("cancel")})),o["\u0275\u0275text"](10,"Cancel"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"button",67),o["\u0275\u0275listener"]("click",(function(){return t.$implicit.close("Ok")})),o["\u0275\u0275text"](12,"Ok"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngForOf",n.activeUser.roles)}}var X=function(){return{"w-100":!0}},G=function(e){function t(t,n,r,a,i,o){var l=e.call(this,r)||this;return l.service=t,l.router=n,l.constants=r,l.modalService=a,l.toastr=i,l.route=o,l.activeUser=new s,l.showHistory=!0,l.loadingData=!1,l.resourceType="col-management",l.page=1,l.pageSize=l.constants.pageSize,l}return C(t,e),t.prototype.ngOnInit=function(){var e=this;this.loadingData=!0,this.route.params.subscribe((function(t){return e.userId=t.id})),this.userSelectedSub=this.service.onUserSelected.subscribe((function(t){t&&(e.activeUser=t.user,e.resourceId=e.activeUser.id.toString(),e.showHistory=!1,e.loadingData=!1)}))},t.prototype.ngOnDestroy=function(){this.userSelectedSub&&this.userSelectedSub.unsubscribe(),this.activeUser=null},t.prototype.edit=function(e){this.router.navigate(["edit",e.id],{relativeTo:this.route})},t.prototype.toggleShowAudit=function(e){this.showHistory=!e},t.prototype.clone=function(e){this.router.navigate(["clone",e.id],{relativeTo:this.route})},t.prototype.confirm=function(e){var t=this;this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",centered:!0}).result.then((function(e){t.loadingData=!0,t.service.delete(t.activeUser.id).subscribe((function(e){t.activeUser=null,t.service.refresh(t.page-1,t.pageSize),t.toastr.success("Company successfully deleted !","Success",{timeOut:4e3}),t.loadingData=!1}),(function(e){t.toastr.error(e.errorMessage,"Failed",{timeOut:3e4}),t.loadingData=!1}))}),(function(e){console.log("model reason : "+e)}))},t.prototype.showAllRoles=function(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",centered:!0}).result.then((function(e){console.log("result: "+e)}),(function(e){console.log("modal reason "+e)}))},t.prototype.getLanguageText=function(){var e="";switch(this.activeUser.language){case"en":e="English";break;case"fr":e="French"}return e},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](g),o["\u0275\u0275directiveInject"](i.h),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](S.m),o["\u0275\u0275directiveInject"](v.b),o["\u0275\u0275directiveInject"](i.a))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["user-content"]],features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:17,vars:9,consts:[[1,"d-flex","pl-3","pr-3","pt-2","pb-2","box-shadow-1","chat-topbar","content-header"],["appSidebarToggler","company-sidebar",1,"link-icon","d-md-none"],[1,"icon-regular","i-Right","ml-0","mr-3"],["class","d-flex align-items-center col-6",4,"ngIf"],["class","col-6",4,"ngIf"],[4,"ngIf"],["class","app-inro-circle",4,"ngIf"],["class","company-details-page",4,"ngIf"],["id","clientDetailModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalPreviewLabel","aria-hidden","true",1,"modal","fade","right"],[3,"ngClass"],["id","depotDetailModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalPreviewLabel","aria-hidden","true",1,"modal","fade","right"],["modalConfirm",""],["roles",""],[1,"d-flex","align-items-center","col-6"],[1,"m-0","text-title","text-16","flex-grow-1"],["class","badge badge-pill badge-success mr-1",4,"ngIf"],["class","badge badge-pill badge-light mr-1",4,"ngIf"],[1,"badge","badge-pill","badge-success","mr-1"],[1,"badge","badge-pill","badge-light","mr-1"],[1,"col-6"],[1,"float-right"],["type","buttton",1,"btn","btn-primary","m-1",3,"click"],["ngbDropdown","","role","group","aria-label","Select all","placement","bottom",1,"btn-group"],["ngbDropdownToggle","",1,"btn","btn-outline-primary","btn-rounded"],["ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[3,"showSpinner"],[1,"app-inro-circle"],[1,"border","rounded-circle","big-bubble"],[1,"i-Financial"],[1,"text-16"],[1,"company-details-page"],[1,"row","no-margin"],[1,"col-md-8"],[1,"card","mb-4"],[1,"card-header","text-center","text-16"],[1,"card-body"],[1,"padding-10"],[1,"group"],[1,"row"],[1,"col-lg-4","items-label","text-gray"],[1,"col-lg-6","text-muted","font-weight-500"],["class","col-lg-8 no-margin",4,"ngIf"],["class","badge badge-pill badge-light p-2 mr-1 mb-1",4,"ngFor","ngForOf"],["class","pointer text-muted",3,"click",4,"ngIf"],["class","badge badge-pill badge-light p-2 mr-1 mb-1",4,"ngIf"],[1,"col-md-4"],["class","row no-margin justify-content-end",4,"ngIf"],["class","card mb-4",4,"ngIf"],[1,"col-lg-8","no-margin"],[1,"col-lg-8","text-mutedfont-weight-500","mb-0","pl-0"],[1,"col-lg-8","text-muted","font-weight-500","mb-0","pl-0"],[1,"col-lg-6","text-muted","font-weight-500","mb-0","pl-0"],[1,"badge","badge-pill","badge-light","p-2","mr-1","mb-1"],[1,"pointer","text-muted",3,"click"],[1,"row","no-margin","justify-content-end"],[1,"btn",3,"click"],[3,"resourceType","resourceId","closeIt"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","btn-rounded",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger","btn-rounded",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementStart"](1,"div",0),o["\u0275\u0275elementStart"](2,"a",1),o["\u0275\u0275element"](3,"i",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](4,A,5,3,"div",3),o["\u0275\u0275template"](5,O,12,0,"div",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](6,k,2,1,"div",5),o["\u0275\u0275template"](7,M,5,8,"div",6),o["\u0275\u0275template"](8,R,70,16,"div",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"div",8),o["\u0275\u0275element"](10,"app-client-details",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",10),o["\u0275\u0275element"](12,"app-depot-details",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](13,B,22,1,"ng-template",null,11,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](15,Y,13,1,"ng-template",null,12,o["\u0275\u0275templateRefExtractor"])),2&e&&(o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngIf",null==t.activeUser?null:t.activeUser.id),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==t.activeUser?null:t.activeUser.id),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.activeUser&&t.service.loadingData),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.activeUser.id&&!t.service.loadingCollection),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.activeUser.id),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction0"](7,X)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction0"](8,X)))},directives:[l.d,a.p,x.a,a.n,y.a,S.i,S.k,S.j,E.a,a.o,w.a],styles:[".dropdown-menu.show[_ngcontent-%COMP%]{transform:translate(-65px,33px)!important;will-change:auto!important}.company-details-page[_ngcontent-%COMP%]{padding-top:30px}.item-details-page.items-label[_ngcontent-%COMP%]{font-weight:300;color:#777}.text-black[_ngcontent-%COMP%]{color:transparent}.group[_ngcontent-%COMP%]{padding-bottom:10px}.no-margin[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}.app-inro-circle[_ngcontent-%COMP%]{top:calc(40vh - 150px)!important}.on-top[_ngcontent-%COMP%]{z-index:1000!important}.modal[_ngcontent-%COMP%]   .modal-dialog.modal-right[_ngcontent-%COMP%]{right:0}.modal[_ngcontent-%COMP%]   .modal-full-height[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;width:400px;height:auto;min-height:100%;margin:0}"]}),t}(h.a),J=n("QJY3"),W=n("Gi3i"),q=n("h2Ha");function Q(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",20),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit;return o["\u0275\u0275nextContext"]().filter(e)})),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](r.display)}}function K(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",21),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit;return o["\u0275\u0275nextContext"]().selectUser(e)})),o["\u0275\u0275elementStart"](1,"div",22),o["\u0275\u0275elementStart"](2,"h6",23),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate2"]("",r.firstName,"\xa0",r.lastName,"")}}function Z(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275element"](1,"app-spinner-wrapper",24),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("showSpinner",!0))}var ee=function(){return{suppressScrollX:!0}},te=function(){function e(e,t,n,r,a,i){this.service=e,this.router=t,this.route=n,this.modalService=r,this.constants=a,this.fb=i,this.selectedAction="All",this.loadingCollection=!1,this.advancedSearchApplied=!1,this.page=1,this.pageSize=this.constants.pageSize,this.searchControl=new J.FormControl,this.filterAction=[{value:"All",display:"All"},{value:"ACTIVE",display:"Active"},{value:"INACTIVE",display:"Inactive"}]}return e.prototype.ngOnInit=function(){var e=this;this.loadingCollection=!0,this.setAdvancedSearchForm(),this.loadDataSub=this.service.loadUserData(this.page,this.pageSize).subscribe((function(t){e.users=t.content,e.collectionSize=t.totalElements,e.loadingCollection=!1})),this.searchControl.valueChanges.pipe(Object(W.a)(200)).subscribe((function(t){e.filerData(t)})),this.advancedSearchSub=this.service.onAdvancedSearchApplied.subscribe((function(t){t&&(e.users=t.clients.content,e.collectionSize=t.clients.totalElements)}))},e.prototype.filerData=function(e){var t="?name="+e;"all"!=this.selectedAction.toLocaleLowerCase()&&(t=t+"&workflowStatus="+this.selectedAction.toUpperCase()),this.service.performAdvancedSearch(this.page-1,this.pageSize,t)},e.prototype.filerDataWithStatus=function(e){var t="";"all"!=this.selectedAction.toLocaleLowerCase()&&(t=t+"?status="+e.toUpperCase()),this.service.performAdvancedSearch(this.page-1,this.pageSize,t)},e.prototype.selectUser=function(e){this.service.onUserSelected.next({user:e})},e.prototype.getPageFromService=function(e){var t=this;this.loadingCollection=!0,this.service.loadUserData(e,this.pageSize).subscribe((function(n){t.users=n.content,t.collectionSize=n.totalElements,t.loadingCollection=!1,t.page=e}))},e.prototype.filter=function(e){this.selectedAction=e.display,this.filerDataWithStatus(e.value)},e.prototype.add=function(){this.router.navigate(["add"],{relativeTo:this.route})},e.prototype.setAdvancedSearchForm=function(){this.advancedSearchForm=this.fb.group({name:"",registrationNumber:"",status:""})},e.prototype.open=function(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then((function(e){console.log(e)}),(function(e){console.log("Err!",e)}))},e.prototype.performAdvancedSearch=function(e){this.loadingCollection=!0,this.modalService.dismissAll("close clicked"),this.advancedSearchApplied=!0},e.prototype.clearSearchCriteria=function(){this.advancedSearchApplied=!1,this.filerData("")},e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](g),o["\u0275\u0275directiveInject"](i.h),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](S.m),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](J.FormBuilder))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["user-left-pane"]],decls:23,vars:12,consts:[[1,"border-right"],[1,"pt-2","pb-2","pl-3","pr-3","d-flex","align-items-center","box-shadow-1","chat-topbar"],[1,"col-sm-6","pl-0","pr-0"],["ngbDropdown","","role","group","placement","bottom",1,"btn-group"],["ngbDropdownToggle","",1,"btn","btn-outline-light","btn-rounded"],["ngbDropdownMenu","",1,"dropdown-menu"],["class","dropdown-item","value","action.value",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","float-right"],["type","button",1,"btn","btn-primary",3,"click"],[1,"pt-2","pb-2","pl-3","pr-3","d-flex","o-hidden","align-items-center","box-shadow-1","chat-topbar"],["appSidebarToggler","company-sidebar",1,"link-icon","d-md-none"],[1,"icon-regular","ml-0","mr-3","i-Left"],[1,"form-group","m-0","flex-grow-1"],["id","search","placeholder","Search user",1,"form-control","form-control-rounded",3,"formControl"],[1,"left-pane-container","contacts-scrollable","rtl-ps-none",3,"perfectScrollbar"],[1,"mt-3","pb-2","pl-3","pr-3","font-weight-bold","text-muted","border-bottom"],["class","p-3 pb-0 border-bottom align-items-center contact no-dot list-item",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row","no-margin","pagination-div","card-footer","border-rightr"],["aria-label","Default pagination",3,"collectionSize","page","pageSize","maxSize","ellipses","pageChange"],["value","action.value",1,"dropdown-item",3,"click"],[1,"p-3","pb-0","border-bottom","align-items-center","contact","no-dot","list-item",3,"click"],[1,"row","no-margin"],[1,"mb-3"],[3,"showSpinner"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"div",2),o["\u0275\u0275elementStart"](3,"div",3),o["\u0275\u0275elementStart"](4,"button",4),o["\u0275\u0275text"](5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",5),o["\u0275\u0275template"](7,Q,2,1,"button",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",2),o["\u0275\u0275elementStart"](9,"div",7),o["\u0275\u0275elementStart"](10,"button",8),o["\u0275\u0275listener"]("click",(function(){return t.add()})),o["\u0275\u0275text"](11,"New"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"a",10),o["\u0275\u0275element"](14,"i",11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"div",12),o["\u0275\u0275element"](16,"input",13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"div",14),o["\u0275\u0275element"](18,"div",15),o["\u0275\u0275template"](19,K,4,2,"div",16),o["\u0275\u0275template"](20,Z,2,1,"div",17),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"div",18),o["\u0275\u0275elementStart"](22,"ngb-pagination",19),o["\u0275\u0275listener"]("pageChange",(function(e){return t.page=e}))("pageChange",(function(e){return t.getPageFromService(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](t.selectedAction),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.filterAction),o["\u0275\u0275advance"](9),o["\u0275\u0275property"]("formControl",t.searchControl),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("perfectScrollbar",o["\u0275\u0275pureFunction0"](11,ee)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.users),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.loadingCollection),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("collectionSize",t.collectionSize)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("ellipses",!0))},directives:[S.i,S.k,S.j,a.o,l.d,J.DefaultValueAccessor,J.NgControlStatus,J.FormControlDirective,q.a,a.p,S.o,E.a],styles:[".no-dot[_ngcontent-%COMP%]:before{background:none!important}.dropdown-menu.show[_ngcontent-%COMP%]{transform:translateY(33px)!important}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin-left:5px}.show-on-top[_ngcontent-%COMP%]{z-index:1000;position:absolute;top:200px;left:80px}.left-pane-container[_ngcontent-%COMP%]{height:calc(100vh - 320px)!important}.pagination-div[_ngcontent-%COMP%]{align-items:center;justify-content:center;width:100%}.sidebar-container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{bottom:0!important}"]}),e}(),ne=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user"]],decls:8,vars:0,consts:[[1,"breadcrumb","space-between"],["appSidebarContainer","",1,"card","chat-sidebar-container"],["appSidebarContent","",1,"chat-content-wrap"],["appSidebar","company-sidebar",1,"chat-sidebar-wrap"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"h1"),o["\u0275\u0275text"](2,"User"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"div",2),o["\u0275\u0275element"](5,"user-content"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275element"](7,"user-left-pane"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())},directives:[l.a,l.b,G,l.c,te],styles:[""]}),e}(),re=n("4iqE"),ae=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-editor"]],inputs:{action:"action"},decls:2,vars:0,template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p"),o["\u0275\u0275text"](1,"user-editor works!"),o["\u0275\u0275elementEnd"]())},styles:[""]}),e}(),ie=[{path:"",component:ne},{path:"add",component:function(){function e(){this.action=re.a.ADD}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add"]],decls:1,vars:1,consts:[[3,"action"]],template:function(e,t){1&e&&o["\u0275\u0275element"](0,"app-user-editor",0),2&e&&o["\u0275\u0275property"]("action",t.action)},directives:[ae],styles:[""]}),e}()}],oe=function(){function e(){}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.l.forChild(ie)],i.l]}),e}(),le=n("mnDI"),ce=n("aYsj"),de=n("jASi"),se=n("1PnN"),pe=n("oOf3"),me=n("jgPy"),ue=n("H2Tg"),fe=n("o8Qb");n.d(t,"UserModule",(function(){return ve}));var ve=function(){function e(){}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,oe,q.b,le.a,ce.a,J.FormsModule,S.n,J.ReactiveFormsModule,de.AppFormsModule,se.b,pe.a,me.a,ue.a,fe.b]]}),e}()}}]);