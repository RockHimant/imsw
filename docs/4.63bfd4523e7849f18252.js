(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{BOF4:function(e,t,n){"use strict";var o=n("evrj");function r(e){this.message=e}(r.prototype=new Error).name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(o(e.split(".")[n]))}catch(i){throw new r("Invalid token specified: "+i.message)}},e.exports.InvalidTokenError=r},VVaf:function(e,t,n){"use strict";n.r(t);var o=n("Valr"),r=n("DUip"),i=n("rXAn"),a=n("TYT/"),l=n("QJY3"),m=function(){return{y:"120px",opacity:"0",delay:"100ms",duration:"400ms"}},s=function(e){return{value:"*",params:e}},d=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-signup"]],decls:41,vars:4,consts:[[1,"card","o-hidden"],[1,"row"],[1,"col-md-6","text-center",2,"background-size","cover","background-image","url(./assets/images/photo-long-3.jpg)"],[1,"pl-3","auth-right"],[1,"auth-logo","text-center","mt-4"],["src","assets/images/logo.png","alt",""],[1,"flex-grow-1"],[1,"w-100","mb-4"],["routerLink","/sessions/signin",1,"btn","btn-outline-primary","btn-outline-email","btn-block","btn-icon-text","btn-rounded"],[1,"i-Mail-with-At-Sign"],[1,"btn","btn-outline-primary","btn-outline-google","btn-block","btn-icon-text","btn-rounded"],[1,"i-Google-Plus"],[1,"btn","btn-outline-primary","btn-outline-facebook","btn-block","btn-icon-text","btn-rounded"],[1,"i-Facebook-2"],[1,"col-md-6"],[1,"p-4"],[1,"mb-3","text-18"],["action",""],[1,"form-group"],["for","username"],["id","username","type","text",1,"form-control","form-control-rounded"],["for","email"],["id","email","type","email",1,"form-control","form-control-rounded"],["for","password"],["id","password","type","password",1,"form-control","form-control-rounded"],["for","repassword"],["id","repassword","type","password",1,"form-control","form-control-rounded"],[1,"btn","btn-primary","btn-block","btn-rounded","mt-3"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275element"](5,"img",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](6,"div",6),a["\u0275\u0275elementStart"](7,"div",7),a["\u0275\u0275elementStart"](8,"button",8),a["\u0275\u0275element"](9,"i",9),a["\u0275\u0275text"](10," Sign in with Email "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"button",10),a["\u0275\u0275element"](12,"i",11),a["\u0275\u0275text"](13," Sign in with Google "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",12),a["\u0275\u0275element"](15,"i",13),a["\u0275\u0275text"](16," Sign in with Facebook "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](17,"div",6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",14),a["\u0275\u0275elementStart"](19,"div",15),a["\u0275\u0275elementStart"](20,"h1",16),a["\u0275\u0275text"](21,"Sign Up"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"form",17),a["\u0275\u0275elementStart"](23,"div",18),a["\u0275\u0275elementStart"](24,"label",19),a["\u0275\u0275text"](25,"Your name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"input",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",18),a["\u0275\u0275elementStart"](28,"label",21),a["\u0275\u0275text"](29,"Email address"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](30,"input",22),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"div",18),a["\u0275\u0275elementStart"](32,"label",23),a["\u0275\u0275text"](33,"Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](34,"input",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"div",18),a["\u0275\u0275elementStart"](36,"label",25),a["\u0275\u0275text"](37,"Retype password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](38,"input",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"button",27),a["\u0275\u0275text"](40,"Sign Up"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("@animate",a["\u0275\u0275pureFunction1"](2,s,a["\u0275\u0275pureFunction0"](1,m)))},directives:[r.i,l["\u0275angular_packages_forms_forms_y"],l.NgControlStatusGroup,l.NgForm],styles:[""],data:{animation:[i.a]}}),e}(),u=n("IYfF"),c=n("0o5J"),p=function(){function e(e){this.webApiProvider=e}return e.prototype.getUserToken=function(e,t){return this.webApiProvider.postAuth("auth/v1/signin",{username:e,password:t},!0)},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](c.c))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),g=n("BOF4"),f=n("tZUg"),b=n("vMEl"),v=function(){return{y:"120px",opacity:"0",delay:"100ms",duration:"400ms"}},S=function(e){return{value:"*",params:e}},h=function(){function e(e,t,n,o,r){this.fb=e,this.auth=t,this.loginService=n,this.router=o,this.localStorage=r,this.error=null,this.errorMessage=null}return e.prototype.ngOnInit=function(){var e=this;this.signinForm=this.fb.group({userName:"",password:""}),this.router.events.subscribe((function(t){(t instanceof r.g||t instanceof r.e)&&(e.loadingText="Loading Dashboard Module...",e.loading=!0),(t instanceof r.f||t instanceof r.d)&&(e.loading=!1)}))},e.prototype.signin=function(){this.loading=!0,this.loadingText="Sigining in...",this.getUserToken()},e.prototype.getUserToken=function(){var e=this;this.loginService.getUserToken(this.signinForm.controls.userName.value,this.signinForm.controls.password.value).subscribe((function(t){if(t){e.loading=!1,e.token=t.accessToken;var n=g(e.token);console.log(n),n&&(e.localStorage.setItem("userName",n.sub),e.localStorage.setItem("isAuthenticated",!0)),e.localStorage.setItem("token",e.token),console.log(e.token),e.router.navigate(["/dashboard"])}else e.router.navigate(["/login"]),e.errorMessage=t.details}),(function(t){e.loading=!1,t.status>400&&t.status<500?e.errorMessage="Invalid username/password. Please try again.":(t.status="500",e.errorMessage="Something went wrong ! Please try again."),e.error=t,e.router.navigate(["/login",{error:e.error,errorMessage:e.errorMessage}])}))},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](l.FormBuilder),a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](p),a["\u0275\u0275directiveInject"](r.h),a["\u0275\u0275directiveInject"](f.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-signin"]],decls:23,vars:7,consts:[[1,"card","o-hidden","width-400","m-auto"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"p-4"],[1,"auth-logo","text-center","mb-4"],["src","assets/images/optimal.png","alt",""],[1,"mb-3","text-18"],[3,"formGroup"],[1,"form-group"],["for","email"],["id","email","formControlName","userName",1,"form-control","form-control-rounded"],["for","password"],["id","password","formControlName","password","type","password",1,"form-control","form-control-rounded"],["btnClass","btn-primary btn-rounded btn-block mt-3",3,"loadingText","loading","click"],[1,"mt-3","text-center"],["href","","routerLink","/sessions/forgot",1,"text-muted"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275element"](5,"img",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"h1",6),a["\u0275\u0275text"](7,"Sign In"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"form",7),a["\u0275\u0275elementStart"](9,"div",8),a["\u0275\u0275elementStart"](10,"label",9),a["\u0275\u0275text"](11,"User name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](12,"input",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",8),a["\u0275\u0275elementStart"](14,"label",11),a["\u0275\u0275text"](15,"Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](16,"input",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"btn-loading",13),a["\u0275\u0275listener"]("click",(function(){return t.signin()})),a["\u0275\u0275text"](18," Sign In "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"div",14),a["\u0275\u0275elementStart"](20,"a",15),a["\u0275\u0275elementStart"](21,"u"),a["\u0275\u0275text"](22,"Forgot Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275property"]("@animate",a["\u0275\u0275pureFunction1"](5,S,a["\u0275\u0275pureFunction0"](4,v))),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("formGroup",t.signinForm),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("loadingText",t.loadingText)("loading",t.loading))},directives:[l["\u0275angular_packages_forms_forms_y"],l.NgControlStatusGroup,l.FormGroupDirective,l.DefaultValueAccessor,l.NgControlStatus,l.FormControlName,b.a,r.k],styles:[".width-400[_ngcontent-%COMP%]{width:400px}.m-auto[_ngcontent-%COMP%]{margin:auto}"],data:{animation:[i.a]}}),e}(),w=function(){return{y:"120px",opacity:"0",delay:"100ms",duration:"400ms"}},E=function(e){return{value:"*",params:e}},y=[{path:"",component:h},{path:"signup",component:d},{path:"signin",component:h},{path:"forgot",component:function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-forgot"]],decls:30,vars:4,consts:[[1,"card","o-hidden"],[1,"row"],[1,"col-md-6"],[1,"p-4"],[1,"auth-logo","text-center","mb-4"],["src","assets/images/logo.png","alt",""],[1,"mb-3","text-18"],["action",""],[1,"form-group"],["for","email"],["id","email","type","email",1,"form-control","form-control-rounded"],[1,"btn","btn-primary","btn-block","btn-rounded","mt-3"],[1,"mt-3","text-center"],["href","","routerLink","/sessions/signin",1,"text-muted"],[1,"col-md-6","text-center",2,"background-size","cover","background-image","url(./assets/images/photo-long-3.jpg)"],[1,"pr-3","auth-right"],["routerLink","/sessions/signup",1,"btn","btn-outline-primary","btn-outline-email","btn-block","btn-icon-text","btn-rounded"],[1,"i-Mail-with-At-Sign"],[1,"btn","btn-outline-primary","btn-outline-google","btn-block","btn-icon-text","btn-rounded"],[1,"i-Google-Plus"],[1,"btn","btn-outline-primary","btn-outline-facebook","btn-block","btn-icon-text","btn-rounded"],[1,"i-Facebook-2"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275element"](5,"img",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"h1",6),a["\u0275\u0275text"](7,"Forgot Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"form",7),a["\u0275\u0275elementStart"](9,"div",8),a["\u0275\u0275elementStart"](10,"label",9),a["\u0275\u0275text"](11,"Email address"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](12,"input",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"button",11),a["\u0275\u0275text"](14,"Reset Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",12),a["\u0275\u0275elementStart"](16,"a",13),a["\u0275\u0275elementStart"](17,"u"),a["\u0275\u0275text"](18,"Sign in"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"div",14),a["\u0275\u0275elementStart"](20,"div",15),a["\u0275\u0275elementStart"](21,"button",16),a["\u0275\u0275element"](22,"i",17),a["\u0275\u0275text"](23," Sign up with Email "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"button",18),a["\u0275\u0275element"](25,"i",19),a["\u0275\u0275text"](26," Sign in with Google "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"button",20),a["\u0275\u0275element"](28,"i",21),a["\u0275\u0275text"](29," Sign in with Facebook "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("@animate",a["\u0275\u0275pureFunction1"](2,E,a["\u0275\u0275pureFunction0"](1,w)))},directives:[l["\u0275angular_packages_forms_forms_y"],l.NgControlStatusGroup,l.NgForm,r.k,r.i],styles:[""],data:{animation:[i.a]}}),e}()}],x=function(){function e(){}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.l.forChild(y)],r.l]}),e}(),k=n("jgPy");n.d(t,"SessionsModule",(function(){return F}));var F=function(){function e(){}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,l.FormsModule,l.ReactiveFormsModule,k.a,x]]}),e}()},evrj:function(e,t,n){var o=n("m4GZ");e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(o(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(n){return o(t)}}},m4GZ:function(e,t){function n(e){this.message=e}(n.prototype=new Error).name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,r,i=0,a=0,l="";r=t.charAt(a++);~r&&(o=i%4?64*o+r:r,i++%4)?l+=String.fromCharCode(255&o>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return l}}}]);