(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{EKcg:function(e,t,n){"use strict";n.r(t);var r=n("Valr"),o=n("DUip"),a=n("7o2P"),i=n("TYT/"),l=n("o8Qb"),p=n("MnXN"),s=n("4cXr"),d=n("cUzu"),c=n("qT8p"),u=function(){function e(e,t,n){this.http=e,this.toastr=t,this.webApiProvider=n}return e.prototype.getEodJobStatusForDepot=function(e){return this.webApiProvider.get("eod/v1/job/status/"+e,!0)},e.prototype.searchJobHisotry=function(e,t,n){return this.webApiProvider.get("eod/v1/history/list/"+e+"/"+t+n,!0)},e.prototype.searchEodBalance=function(e,t,n){return this.webApiProvider.get("eod/v1/balance/list/"+e+"/"+t+n,!0)},e.prototype.run=function(e,t){return this.webApiProvider.get("eod/v1/run/"+e+"?forDate="+t)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](d.c),i["\u0275\u0275inject"](c.b),i["\u0275\u0275inject"](s.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),m=n("Jq/4"),v=n("QJY3"),f=n("efOB"),h=function(){function e(e,t){this.ts=e,this.activeModal=t,this.eodDate=new v.FormControl}return e.prototype.ngOnInit=function(){},e.prototype.confirm=function(){this.activeModal.close({status:!0,eodDate:this.eodDate.value})},e.prototype.cancel=function(){this.activeModal.close({status:!1})},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](l.d),i["\u0275\u0275directiveInject"](p.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-date-modal"]],features:[i["\u0275\u0275ProvidersFeature"]([{provide:p.g,useClass:f.a}])],decls:23,vars:13,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"form-group"],["for","picker1"],[1,"input-group"],["id","picker1","placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"formControl"],["dp","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"icon-regular","i-Calendar-4"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","btn-rounded",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger","btn-rounded",3,"click"]],template:function(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h4",1),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",2),i["\u0275\u0275elementStart"](5,"form"),i["\u0275\u0275elementStart"](6,"div",3),i["\u0275\u0275elementStart"](7,"label",4),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",5),i["\u0275\u0275element"](11,"input",6,7),i["\u0275\u0275elementStart"](13,"div",8),i["\u0275\u0275elementStart"](14,"button",9),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275reference"](12).toggle()})),i["\u0275\u0275element"](15,"i",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",11),i["\u0275\u0275elementStart"](17,"button",12),i["\u0275\u0275listener"]("click",(function(){return t.cancel()})),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"button",13),i["\u0275\u0275listener"]("click",(function(){return t.confirm()})),i["\u0275\u0275text"](21),i["\u0275\u0275pipe"](22,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,5,"eod.modal.title")),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](9,7,"eod.modal.eodDateLabel")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formControl",t.eodDate),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](19,9,"common.button.cancel")),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](22,11,"common.button.ok")))},directives:[v["\u0275angular_packages_forms_forms_y"],v.NgControlStatusGroup,v.NgForm,p.l,v.DefaultValueAccessor,v.NgControlStatus,v.FormControlDirective],pipes:[l.c],styles:[""]}),e}(),y=n("1PnN"),g=n("3rkx");function b(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"button",9),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().executeRun()})),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,1,"eod.button.runLabel")))}var S=function(e){return{"text-success":e}};function E(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",14),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td"),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.name," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](11,S,"SUCCESS"===n.jobStatus)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.jobStatus," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](7,5,n.startedAt,"medium")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](10,8,n.completedAt,"medium")," ")}}function C(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275elementStart"](1,"table",11),i["\u0275\u0275elementStart"](2,"thead"),i["\u0275\u0275elementStart"](3,"tr"),i["\u0275\u0275elementStart"](4,"th",12),i["\u0275\u0275text"](5,"Job"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",12),i["\u0275\u0275text"](7,"Status"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",12),i["\u0275\u0275text"](9,"Started At"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",12),i["\u0275\u0275text"](11,"Completed At"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"tbody"),i["\u0275\u0275template"](13,E,11,13,"tr",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngForOf",n.statuses)}}function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"app-spinner-wrapper",15),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("showSpinner",n.showProgress)}}var D=function(){function e(e,t,n,r,o){this.eodService=e,this.depotService=t,this.modalService=n,this.ts=r,this.toastr=o,this.showProgress=!1,this.statuses=[],this.depots=[]}return e.prototype.ngOnInit=function(){var e=this;this.showProgress=!0,this.depotService.getAllDepotsNoPagination().subscribe((function(t){e.depots=t.data.depots,e.showProgress=!1}),(function(t){e.showProgress=!1,console.log(t)}))},e.prototype.loadJobStatusForDepot=function(e){var t,n=this;(null===(t=e)||void 0===t?void 0:t.id)?(this.selectedDepot=e.id,this.showProgress=!0,this.eodService.getEodJobStatusForDepot(e.id).subscribe((function(e){n.statuses=e,n.showProgress=!1}),(function(e){console.log(e),n.showProgress=!1}))):this.statuses=[]},e.prototype.executeRun=function(){var e=this;this.modalService.open(h,{ariaLabelledBy:"modal-basic-title",centered:!0}).result.then((function(t){t.status?(e.showProgress=!0,e.eodService.run(e.selectedDepot,t.eodDate.toString()).subscribe((function(t){e.toastr.success("{{'eod.run.submitSuccessMsg'|translate}}","Success",{timeOut:4e3}),e.showProgress=!1}),(function(t){var n=JSON.parse(t.error);e.toastr.error(n.errorMessage,"Failed",{timeOut:4e3}),e.showProgress=!1}))):console.log("Modal closed")}))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](u),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](p.m),i["\u0275\u0275directiveInject"](l.d),i["\u0275\u0275directiveInject"](c.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["eod-run"]],decls:9,vars:8,consts:[[1,"row","mt-3"],[1,"card","card-body"],[1,"row","mb-3","pl-10"],[1,"col-md-3"],["bindLabel","name","bindValue","id",3,"items","multiple","placeholder","change"],["class","col-6",4,"ngIf"],["class","col-md-12 mt-5",4,"ngIf"],[4,"ngIf"],[1,"col-6"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-12","mt-5"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"ngClass"],[3,"showSpinner"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"ng-select",4),i["\u0275\u0275listener"]("change",(function(e){return t.loadJobStatusForDepot(e)})),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,b,4,3,"div",5),i["\u0275\u0275template"](7,C,14,1,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,A,2,1,"div",7),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](5,6,"common.placeHolder.selectDepot")),i["\u0275\u0275property"]("items",t.depots)("multiple",!1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.selectedDepot),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.statuses.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showProgress))},directives:[y.a,r.p,r.o,r.n,g.a],pipes:[l.c,r.f],styles:[""]}),e}(),x=n("he9t"),I=n("kJ0Q"),w=function(e){return{"text-success":e}};function P(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",24),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td"),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"td"),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"td"),i["\u0275\u0275text"](14),i["\u0275\u0275pipe"](15,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",r.getJobTypeText(n.jobType)," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](16,w,"SUCCESS"===n.jobStatus)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.jobStatus," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](9,7,n.startedAt,"medium")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](12,10,n.completedAt,"medium")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](15,13,n.eodDate,"medium")," ")}}function T(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",17),i["\u0275\u0275elementStart"](1,"table",18),i["\u0275\u0275elementStart"](2,"thead"),i["\u0275\u0275elementStart"](3,"tr"),i["\u0275\u0275elementStart"](4,"th",19),i["\u0275\u0275text"](5,"Job name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",19),i["\u0275\u0275text"](7,"Job type"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",19),i["\u0275\u0275text"](9,"Status"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",19),i["\u0275\u0275text"](11,"Started At"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",19),i["\u0275\u0275text"](13,"Completed At"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",19),i["\u0275\u0275text"](15,"EOD date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"tbody"),i["\u0275\u0275template"](17,P,16,18,"tr",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](18,"div",21),i["\u0275\u0275elementStart"](19,"div",22),i["\u0275\u0275elementStart"](20,"ngb-pagination",23),i["\u0275\u0275listener"]("pageChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().page=e}))("pageChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().getPageFromService(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](17),i["\u0275\u0275property"]("ngForOf",r.jobHistories),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("collectionSize",r.collectionSize)("page",r.page)("pageSize",r.pageSize)("maxSize",4)("ellipses",!0)("boundaryLinks",!0)}}function N(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"p",25),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"common.messages.noRecordFound")," "))}function R(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"app-spinner-wrapper",26),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("showSpinner",n.showProgress)}}var F=function(){function e(e,t,n,r){this.constants=e,this.depotService=t,this.eodService=n,this.ts=r,this.showProgress=!1,this.noRecordFound=!1,this.page=1,this.pageSize=this.constants.pageSize,this.depots=[],this.jobHistories=[],this.jobTypes=this.constants.eodJobTypes,this.depotControl=new v.FormControl,this.eodDateControl=new v.FormControl,this.jobControl=new v.FormControl}return e.prototype.ngOnInit=function(){var e=this;this.showProgress=!0,this.depotService.getAllDepotsNoPagination().subscribe((function(t){e.depots=t.data.depots,e.showProgress=!1}),(function(t){e.showProgress=!1,console.log(t)}))},e.prototype.search=function(){var e=this;this.showProgress=!0;var t=this.getQueryParam(this.depotControl.value,this.eodDateControl.value,this.jobControl.value);this.eodService.searchJobHisotry(this.page-1,this.pageSize,t).subscribe((function(t){e.jobHistories=t.content,e.noRecordFound=0==e.jobHistories.length,e.collectionSize=t.totalElements,e.showProgress=!1}),(function(t){e.showProgress=!1,console.log(t)}))},e.prototype.clear=function(){this.depotControl.setValue(null),this.jobControl.setValue(null),this.eodDateControl.setValue(null),this.noRecordFound=!1},e.prototype.getPageFromService=function(e){var t=this;this.showProgress=!0;var n=this.getQueryParam(this.depotControl.value,this.eodDateControl.value,this.jobControl.value);this.eodService.searchJobHisotry(e-1,this.pageSize,n).subscribe((function(e){t.jobHistories=e.content,t.collectionSize=e.totalElements,t.showProgress=!1}),(function(e){console.log(e.error),t.showProgress=!1}))},e.prototype.getJobTypeText=function(e){var t="";return this.jobTypes.forEach((function(n){n.value===e&&(t=n.display)})),t},e.prototype.getQueryParam=function(e,t,n){var r="?depotId="+(e||"");return t&&(r=r+"&eodDate="+(t?t.toString():"")),n&&(r=r+"&jobType="+(n||"")),r},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](x.a),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](u),i["\u0275\u0275directiveInject"](l.d))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["eod-history"]],features:[i["\u0275\u0275ProvidersFeature"]([{provide:p.g,useClass:I.a}])],decls:27,vars:25,consts:[[1,"row","mt-3"],[1,"card","card-body"],[1,"row","mb-3","pl-10"],[1,"col-md-3"],["bindLabel","name","bindValue","id",3,"items","formControl","multiple","placeholder"],["bindLabel","display","bindValue","value",3,"items","formControl","multiple","placeholder"],[1,"col-md-3","input-group"],["id","picker2","name","dp2","ngbDatepicker","",1,"form-control",3,"placeholder","formControl"],["dp2","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"icon-regular","i-Calendar-4"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-search"],["type","button",1,"btn","btn-outline-primary","ml-3",3,"click"],["class","col-md-12 mt-5",4,"ngIf"],[4,"ngIf"],[1,"col-md-12","mt-5"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"separator-breadcrumb","border-top"],[1,"row","no-margin","pagination-div","border-rightr","justify-content-center"],["aria-label","Default pagination",3,"collectionSize","page","pageSize","maxSize","ellipses","boundaryLinks","pageChange"],[3,"ngClass"],[1,"text-primary"],[3,"showSpinner"]],template:function(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275element"](4,"ng-select",4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",3),i["\u0275\u0275element"](7,"ng-select",5),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275element"](10,"input",7,8),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementStart"](13,"div",9),i["\u0275\u0275elementStart"](14,"button",10),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275reference"](11).toggle()})),i["\u0275\u0275element"](15,"i",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",6),i["\u0275\u0275elementStart"](17,"button",12),i["\u0275\u0275listener"]("click",(function(){return t.search()})),i["\u0275\u0275element"](18,"i",13),i["\u0275\u0275text"](19),i["\u0275\u0275pipe"](20,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"button",14),i["\u0275\u0275listener"]("click",(function(){return t.clear()})),i["\u0275\u0275text"](22),i["\u0275\u0275pipe"](23,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](24,T,21,7,"div",15),i["\u0275\u0275template"](25,N,4,3,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](26,R,2,1,"div",16),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](5,15,"common.placeHolder.selectDepot")),i["\u0275\u0275property"]("items",t.depots)("formControl",t.depotControl)("multiple",!1),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](8,17,"common.placeHolder.selectJobType")),i["\u0275\u0275property"]("items",t.jobTypes)("formControl",t.jobControl)("multiple",!1),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](12,19,"eod.placeHolder.selectEODDate")),i["\u0275\u0275property"]("formControl",t.eodDateControl),i["\u0275\u0275advance"](9),i["\u0275\u0275textInterpolate1"]("\xa0\xa0",i["\u0275\u0275pipeBind1"](20,21,"common.button.search"),""),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](23,23,"common.button.clear")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.jobHistories.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.noRecordFound),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showProgress))},directives:[y.a,v.NgControlStatus,v.FormControlDirective,p.l,v.DefaultValueAccessor,r.p,r.o,p.o,r.n,g.a],pipes:[l.c,r.f],styles:[""]}),e}(),B=n("oR8h"),L=n("EbFV");function M(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td"),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td"),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td"),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"td"),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"td"),i["\u0275\u0275text"](16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"td"),i["\u0275\u0275text"](18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"td"),i["\u0275\u0275text"](20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"td"),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"td"),i["\u0275\u0275text"](24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",r.getClientName(n.clientId)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",r.getProductName(n.productId)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.openingBalance?n.openingBalance:0," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.closingBalance," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.totalTruckDelivery," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.totalTruckSales," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.totalSwapDelivery," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.totalTruckReceipt," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.totalBargeReceipt," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.totalPipelineReceipt," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.totalVesselReceipt," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.totalSwapReceipt," ")}}function k(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275elementStart"](1,"table",17),i["\u0275\u0275elementStart"](2,"thead"),i["\u0275\u0275elementStart"](3,"tr"),i["\u0275\u0275elementStart"](4,"th",18),i["\u0275\u0275text"](5,"Client"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",18),i["\u0275\u0275text"](7,"Product"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",18),i["\u0275\u0275text"](9,"Opening balance(Ltr)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",18),i["\u0275\u0275text"](11,"Closing balance (Ltr)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",18),i["\u0275\u0275text"](13,"Total truck delivery(Ltr)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",18),i["\u0275\u0275text"](15,"Total truck sales(Ltr)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"th",18),i["\u0275\u0275text"](17,"Total swap delivery(Ltr)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"th",18),i["\u0275\u0275text"](19,"Total truck receipt(Ltr)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"th",18),i["\u0275\u0275text"](21,"Total barge receipt(Ltr)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"th",18),i["\u0275\u0275text"](23,"Total pipeline receipt(Ltr)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"th",18),i["\u0275\u0275text"](25,"Total vessel receipt(Ltr)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"th",18),i["\u0275\u0275text"](27,"Total swap release(Ltr)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"tbody"),i["\u0275\u0275template"](29,M,25,12,"tr",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](30,"div",20),i["\u0275\u0275elementStart"](31,"div",21),i["\u0275\u0275elementStart"](32,"ngb-pagination",22),i["\u0275\u0275listener"]("pageChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().page=e}))("pageChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().getPageFromService(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](29),i["\u0275\u0275property"]("ngForOf",r.balances),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("collectionSize",r.collectionSize)("page",r.page)("pageSize",r.pageSize)("maxSize",4)("ellipses",!0)("boundaryLinks",!0)}}function j(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"app-spinner-wrapper",23),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("showSpinner",n.showProgress)}}var V=function(){function e(e,t,n,r,o,a){this.constants=e,this.depotService=t,this.eodService=n,this.ts=r,this.clientService=o,this.productService=a,this.showProgress=!1,this.balances=[],this.depotControl=new v.FormControl,this.eodDateControl=new v.FormControl,this.clientControl=new v.FormControl,this.page=1,this.pageSize=this.constants.pageSize,this.depots=[],this.clients=[],this.clientMaps={},this.prouductMaps={}}return e.prototype.ngOnInit=function(){var e=this;this.showProgress=!0,setTimeout((function(){e.loadRequiredDetails(),e.showProgress=!1}))},e.prototype.search=function(){var e=this;this.showProgress=!0;var t=this.getQueryParam(this.depotControl.value,this.eodDateControl.value,this.clientControl.value);this.eodService.searchEodBalance(this.page-1,this.pageSize,t).subscribe((function(t){e.balances=t.content,e.collectionSize=t.totalElements,e.showProgress=!1}),(function(t){e.showProgress=!1,console.log(t)}))},e.prototype.clear=function(){this.depotControl.setValue(null),this.clientControl.setValue(null),this.eodDateControl.setValue(null),this.balances=[]},e.prototype.getClientName=function(e){return this.clientMaps[e]},e.prototype.getProductName=function(e){return this.prouductMaps[e]},e.prototype.getPageFromService=function(e){var t=this;this.showProgress=!0;var n=this.getQueryParam(this.depotControl.value,this.eodDateControl.value,this.clientControl.value);this.eodService.searchEodBalance(e-1,this.pageSize,n).subscribe((function(e){t.balances=e.content,t.collectionSize=e.totalElements,t.showProgress=!1}),(function(e){console.log(e.error),t.showProgress=!1}))},e.prototype.getQueryParam=function(e,t,n){var r="?depotId="+(e||"");return t&&(r=r+"&eodDate="+(t?t.toString():"")),n&&(r=r+"&clientId="+(n||"")),r},e.prototype.loadRequiredDetails=function(){var e=this;this.depotService.getAllDepotsNoPagination().subscribe((function(t){e.depots=t.data.depots}),(function(e){console.log(e)})),this.clientService.getAllClientsNoPagination().subscribe((function(t){e.clients=t,e.clients.forEach((function(t){e.clientMaps[t.id]=t.name}))}),(function(e){console.log(e)})),this.productService.getProductTypes().subscribe((function(t){t.forEach((function(t){e.prouductMaps[t.id]=t.name}))}))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](x.a),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](u),i["\u0275\u0275directiveInject"](l.d),i["\u0275\u0275directiveInject"](B.a),i["\u0275\u0275directiveInject"](L.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["eod-balance"]],features:[i["\u0275\u0275ProvidersFeature"]([{provide:p.g,useClass:I.a}])],decls:25,vars:21,consts:[[1,"row","mt-3"],[1,"card","card-body"],[1,"row","mb-3","pl-10"],[1,"col-md-3"],["bindLabel","name","bindValue","id",3,"items","formControl","multiple","placeholder"],[1,"col-md-3","input-group"],["id","picker2","placeholder","yyyy-mm-dd","name","dp2","ngbDatepicker","","required","",1,"form-control",3,"formControl"],["dp2","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"icon-regular","i-Calendar-4"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-search"],["type","button",1,"btn","btn-outline-primary","ml-3",3,"click"],["class","col-md-12 mt-5",4,"ngIf"],[4,"ngIf"],[1,"col-md-12","mt-5"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"separator-breadcrumb","border-top"],[1,"row","no-margin","pagination-div","border-rightr","justify-content-center"],["aria-label","Default pagination",3,"collectionSize","page","pageSize","maxSize","ellipses","boundaryLinks","pageChange"],[3,"showSpinner"]],template:function(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275element"](4,"ng-select",4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",3),i["\u0275\u0275element"](7,"ng-select",4),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",5),i["\u0275\u0275element"](10,"input",6,7),i["\u0275\u0275elementStart"](12,"div",8),i["\u0275\u0275elementStart"](13,"button",9),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275reference"](11).toggle()})),i["\u0275\u0275element"](14,"i",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",5),i["\u0275\u0275elementStart"](16,"button",11),i["\u0275\u0275listener"]("click",(function(){return t.search()})),i["\u0275\u0275element"](17,"i",12),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"button",13),i["\u0275\u0275listener"]("click",(function(){return t.clear()})),i["\u0275\u0275text"](21),i["\u0275\u0275pipe"](22,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](23,k,33,7,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](24,j,2,1,"div",15),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](5,13,"common.placeHolder.selectDepot")),i["\u0275\u0275property"]("items",t.depots)("formControl",t.depotControl)("multiple",!1),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](8,15,"common.placeHolder.selectClient")),i["\u0275\u0275property"]("items",t.clients)("formControl",t.clientControl)("multiple",!1),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formControl",t.eodDateControl),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate1"]("\xa0\xa0",i["\u0275\u0275pipeBind1"](19,17,"common.button.search"),""),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](22,19,"common.button.clear")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.balances.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showProgress))},directives:[y.a,v.NgControlStatus,v.FormControlDirective,p.l,v.DefaultValueAccessor,v.RequiredValidator,r.p,r.o,p.o,g.a],pipes:[l.c],styles:[""]}),e}();function O(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,"eod.tabs.run")))}function U(e,t){1&e&&i["\u0275\u0275element"](0,"eod-run")}function _(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,"eod.tabs.history")))}function J(e,t){1&e&&i["\u0275\u0275element"](0,"eod-history")}function z(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,"eod.tabs.balance")))}function Y(e,t){1&e&&i["\u0275\u0275element"](0,"eod-balance")}var H=[{path:"",component:function(){function e(e,t){this.ts=e,this.commonService=t}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](l.d),i["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-eod"]],decls:23,vars:6,consts:[[1,"breadcrumb","space-between"],[1,"separator-breadcrumb","border-top"],[1,"row","no-margin","mt-3"],[1,"card","mb-4","w-100"],[1,"card-header","text-13","content-header"],[1,"m-0","text-title","text-muted","text-md","d-flex","align-items-center"],[1,"fa","fa-info","text-14"],[1,"card","card-body"],["ngbTabTitle",""],["ngbTabContent",""],[1,"text-primary","active"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h1"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"div",1),i["\u0275\u0275elementStart"](5,"div",2),i["\u0275\u0275elementStart"](6,"div",3),i["\u0275\u0275elementStart"](7,"div",4),i["\u0275\u0275elementStart"](8,"p",5),i["\u0275\u0275element"](9,"i",6),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",7),i["\u0275\u0275elementStart"](13,"ngb-tabset"),i["\u0275\u0275elementStart"](14,"ngb-tab"),i["\u0275\u0275template"](15,O,3,3,"ng-template",8),i["\u0275\u0275template"](16,U,1,0,"ng-template",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"ngb-tab"),i["\u0275\u0275template"](18,_,3,3,"ng-template",8),i["\u0275\u0275template"](19,J,1,0,"ng-template",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"ngb-tab"),i["\u0275\u0275template"](21,z,3,3,"ng-template",8),i["\u0275\u0275template"](22,Y,1,0,"ng-template",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,2,"eod.title")),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate1"]("\xa0\xa0",i["\u0275\u0275pipeBind1"](11,4,"eod.infoMsg"),""))},directives:[p.z,p.w,p.y,p.x,D,F,V],pipes:[l.c],styles:[".content-header[_ngcontent-%COMP%]{background:#dee2e6!important}"]}),e}()}],G=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.l.forChild(H)],o.l]}),e}(),W=n("PCNd"),Q=n("jASi"),q=n("jgPy");n.d(t,"EodModule",(function(){return X}));var X=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,G,W.a,p.n,l.b,y.b,Q.AppFormsModule,q.a,v.FormsModule,v.ReactiveFormsModule]]}),e}()},EbFV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("0o5J"),o=n("TYT/"),a=function(){function e(e){this.webApiProvier=e}return e.prototype.getProductTypes=function(){return this.webApiProvier.get("product/v1/list",!0)},e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](r.c))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"Jq/4":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("26FU"),o=n("67Y/"),a=n("0o5J"),i=n("TYT/"),l=n("qT8p"),p=function(){function e(e,t){this.toastr=e,this.webApiProvider=t,this.onDepotSelected=new r.a(null),this.onAdvancedSearchApplied=new r.a(null),this.onClearSearchApplied=new r.a(null)}return e.prototype.loadDepotData=function(e,t){return this.loadDepotDataNoPagination(e,t)},e.prototype.loadDepotDataNoPagination=function(e,t){return this.getAllDepotsNoPagination()},e.prototype.create=function(e){return this.webApiProvider.post("depot/v1/",e,!0)},e.prototype.update=function(e){return this.webApiProvider.put("depot/v1/"+e.id,e)},e.prototype.delete=function(e){return this.webApiProvider.delete("depot/v1/"+e,!0)},e.prototype.getAllDepots=function(e,t){return this.webApiProvider.get("depot/v1/allDepots/",!0)},e.prototype.getAllDepotsPaginated=function(e,t){return this.webApiProvider.get("depot/v1/list/"+e+"/"+t,!0)},e.prototype.getAllDepotsNoPagination=function(){return this.webApiProvider.get("depot/v1/allDepots",!0)},e.prototype.getAllTanksForDepot=function(e){return this.webApiProvider.post("depot/v1/depottanks/"+e,null,!0)},e.prototype.selectDepot=function(e){this.loadingCollection=!0,this.loadingData=!0,this.delay(500),this.onDepotSelected.next({depot:e}),this.loadingData=!1},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.loadDepotById=function(e){var t=this;return this.loadingData=!0,this.getDepotById(e).pipe(Object(o.a)((function(e){return t.onDepotSelected.next({depot:e}),t.loadingData=!1,e})))},e.prototype.getDepotById=function(e){return this.webApiProvider.get("depot/v1/"+e)},e.prototype.performAdvancedSearch=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.get("depot/v1/list/0/6"+e,!0).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({depots:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.performAdvancedSearchPost=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.postwithSearchParam("depot/v1/depots",e.params).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({depots:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.getProductsForDepot=function(e){return this.webApiProvider.post("depot/v1/depotprods?depotId="+e,null,!0)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](l.b),i["\u0275\u0275inject"](a.c))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},he9t:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("TYT/"),o=function(){function e(){this.crudStatus=[{code:"ACTIVE",display:"Active"},{code:"INACTIVE",display:"Inactive"}],this.clientTypes=[{code:"MAIN_CLIENT",display:"Main client"},{code:"SUB_CLIENT",display:"Sub client"},{code:"MAIN_SUB_CLIENT",display:"Main and sub client"}],this.yesNoConstants=[{code:!0,display:"Yes"},{code:!1,display:"No"}],this.waybillStatus=[{code:"CREATED",display:"Created"},{code:"CANCELED",display:"Cancelled"},{code:"DELIVERED ",display:"Delivered"}],this.filterAction=[{value:"ALL",display:"All"},{value:"OPEN",display:"Open"},{value:"SUBMITTED",display:"Submitted"},{value:"APPROVED",display:"Approved"},{value:"REJECTED",display:"Rejected"},{value:"CANCELLED",display:"Cancelled"},{value:"PARTIALLY_EXECUTED",display:"Partially Executed"},{value:"EXECUTED",display:"Executed"},{value:"DISCARDED",display:"Discarded"},{value:"REOPENED",display:"Reopened"},{value:"SUBMIT_SYS_CANCELLED",display:"Submit sys cancelled"},{value:"APPROVE_SYS_CANCELLED",display:"Approve sys cancelled"},{value:"PARTIAL_SYS_CANCELLED",display:"Partial sys cancelled"}],this.transferTypes=[{value:"SWAP",display:"Inter Depot Swap"},{value:"INTRASWAP",display:"Intra Depot Swap"},{value:"RELEASE",display:"Release"}],this.eodJobTypes=[{value:"BALANCEUPDATE",display:"Update Actual Balances"},{value:"RESETBALANCE",display:"Reset Available Balances"},{value:"DISPATCHSTATUS",display:"Update Dispatch Status"},{value:"DAILYTXNBALANCE",display:"Capture Daily Txn Balances"}],this.weekDays=[{value:"MONDAY",display:"Monday"},{value:"TUESDAY",display:"Tuesday"},{value:"WEDNESDAY",display:"Wednesday"},{value:"THURSDAY",display:"Thursday"},{value:"FRIDAY",display:"Friday"},{value:"SATURDAY",display:"Saturday"},{value:"SUNDAY",display:"Sunday"}],this.monthsOfYear=[{value:"JANUARY",display:"January"},{value:"FEBRUARY",display:"February"},{value:"MARCH",display:"March"},{value:"APRIL",display:"April"},{value:"MAY",display:"May"},{value:"JUNE",display:"June"},{value:"JULY",display:"July"},{value:"AUGUST",display:"August"},{value:"SEPTEMBER",display:"September"},{value:"OCTOBER",display:"October"},{value:"NOVEMBER",display:"November"},{value:"DECEMBER",display:"December"}],this.transferStatus=[{value:"OPEN",display:"Open"},{value:"SUBMITTED",display:"Submitted"},{value:"APPROVED",display:"Approved"},{value:"REJECTED",display:"Rejected"},{value:"CANCELLED",display:"Cancelled"},{value:"EXECUTED",display:"Executed"},{value:"DISCARDED",display:"Discarded"},{value:"REOPENED",display:"Reopened"}],this.depotDates=[{value:0,display:"Same Day"},{value:1,display:"Next Day"}],this.vesselTypes=[{value:"UNSPECIFIEDSHIPS",display:"Unspecified Ships"},{value:"NAVIDATION_AIDS",display:"Navigation Aids"},{value:"FISHING",display:"Fishing"},{value:"TUGS_SPECIAL_CRAFT",display:"Tugs And Special Craft"},{value:"HIGHSPEED_CRAFT",display:"High Speed Craft"},{value:"CARGO_VESSEL",display:"Cargo Vessel"},{value:"TANKERS_PLESURE_CRAFT",display:"Tankers And Pleasure Craft"}],this.vesselStatus=[{value:"EN_ROUTE_TO_PORT",display:"En route to port"},{value:"DOCKED_AT_PORT",display:"Docked At Port"},{value:"ANCHORED",display:"At Anchorage"},{value:"LEFT_DEPOT",display:"Left Depot"}],this.receiptTypes=[{value:"BARGE",display:"Barge"},{value:"PIPELINE",display:"Pipeline"},{value:"TRUCK",display:"Truck"},{value:"VESSEL",display:"Vessel"}],this.receiptVesselCountry=[{value:1,display:"Nigeria"},{value:2,display:"Ghana"}],this.receiptGhanaPorts=[{value:7,display:"Tema Port"},{value:8,display:"Tarkoradi Port"}],this.receiptNigeriaPorts=[{value:1,display:"Lagos Port"},{value:2,display:"Tin Can Port"},{value:3,display:"Delta Port"},{value:4,display:"Calabar Port"},{value:5,display:"Onne Port"},{value:6,display:"Rivers Port"}],this.receiptTankFields=[{label:"Gross Dip in MM",appendText:"MM",beforeFormControlName:"grossDipMMBeforeReceipt",aftrFormControlName:"grossDipMMAfterReceipt",type:"number"},{label:"Gross Volume in Liters",appendText:"Litre",beforeFormControlName:"grossDipBeforeReceipt",aftrFormControlName:"grossDipAfterReceipt",type:"number"},{label:"Water Dip in MM",appendText:"MM",beforeFormControlName:"waterDipMMBeforeReceipt",aftrFormControlName:"waterDipMMAfterReceipt",type:"number"},{label:"Water Volume in Litres",appendText:"Litre",beforeFormControlName:"waterDipBeforeReceipt",aftrFormControlName:"waterDipAfterReceipt",type:"number"},{label:"Net Volume",appendText:"Litre",beforeFormControlName:"netVolumeBeforeReceipt",aftrFormControlName:"netVolumeAfterReceipt",type:"number"},{label:"Tank Temperature",appendText:"Deg Cel",beforeFormControlName:"tankTemperatureBeforeReceipt",aftrFormControlName:"tankTemperatureAfterReceipt",type:"number"},{label:"Product Sample Temperature",appendText:"Deg Cel",beforeFormControlName:"sampleTemperatureBeforeReceipt",aftrFormControlName:"sampleTemperatureAfterReceipt",type:"number"},{label:"Product Sample Density",appendText:null,beforeFormControlName:"sampleDenistyBeforeReceipt",aftrFormControlName:"sampleDenistyAfterReceipt",type:"number"},{label:"Roof Weight",appendText:"KGs",beforeFormControlName:"roofWeightBeforeReceipt",aftrFormControlName:"roofWeightAfterReceipt",type:"number"},{label:"Density at 15\xb0C",appendText:null,beforeFormControlName:"densityAt15CBeforeReceipt",aftrFormControlName:"densityAt15CAfterReceipt",type:"number"},{label:"VCF54B",appendText:null,beforeFormControlName:"vcf54BBeforeReceipt",aftrFormControlName:"vcf54BAfterReceipt",type:"number"},{label:"WRF",appendText:null,beforeFormControlName:"wrfbeforeReceipt",aftrFormControlName:"wrfafterReceipt",type:"number"},{label:"Volume at Natural",appendText:"Litre",beforeFormControlName:"volumeAtNaturalBeforeReceipt",aftrFormControlName:"volumeAtNaturalAfterReceipt",type:"number"},{label:"Volume at 15\xb0C",appendText:"Litre",beforeFormControlName:"volumeAt15CBeforeReceipt",aftrFormControlName:"volumeAt15CAfterReceipt",type:"number"},{label:"Weight in Air",appendText:"Metric Ton",beforeFormControlName:"metricTonBeforeReceipt",aftrFormControlName:"metricTonAfterReceipt",type:"number"},{label:"Weight in Vacuum",appendText:"Metric Ton",beforeFormControlName:"metricTonVaccBeforeReceipt",aftrFormControlName:"metricTonVaccAfterReceipt",type:"number"},{label:"Roof Displacement",appendText:"Litre",beforeFormControlName:"roofDisplacementBeforeReceipt",aftrFormControlName:"roofDisplacementAfterReceipt",type:"number"}],this.receiptWorkFlowStatus=[{value:"OPEN",display:"Open"},{value:"SUBMITTED",display:"Submitted"},{value:"APPROVED",display:"Approved"},{value:"REJECTED",display:"Rejected"},{value:"CANCELLED",display:"Cancelled"},{value:"EXECUTED",display:"Executed"},{value:"DISCARDED",display:"Discarded"},{value:"REOPENED",display:"Reopened"}],this.readingPerfromed=[{value:"BEGIN_OF_DAY",display:"Beginning of the day"},{value:"END_OF_DAY",display:"End of day"},{value:"INTERMIDIATE",display:"Intraday"}],this.userTypes=[{value:"INTERNAL",display:"Internal User"},{value:"FINANCIAL",display:"Financier User"},{value:"CLIENT",display:"Client User"},{value:"SERVICE",display:"Service User"},{value:"TRANSPORTER",display:"Transporter User"}],this.languages=[{value:"en",display:"English"},{value:"fr",display:"French"}],this.pageSize=8,this.dispatchPageSize=8}return e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}()},kJ0Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,o=n("MnXN"),a=n("TYT/"),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DELIMITER="/",t}return i(t,e),t.prototype.fromModel=function(e){if(e){var t=e.split(this.DELIMITER);return{month:parseInt(t[0],10),day:parseInt(t[1],10),year:parseInt(t[2],10)}}return null},t.prototype.toModel=function(e){return e?e.month+this.DELIMITER+e.day+this.DELIMITER+e.year:null},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac=function(e){return p(e||t)}}),t}(o.g),p=a["\u0275\u0275getInheritedFactory"](l)},oR8h:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("26FU"),o=n("67Y/"),a=n("0o5J"),i=n("TYT/"),l=n("qT8p"),p=function(){function e(e,t){this.toastr=e,this.webApiProvider=t,this.onClientSelected=new r.a(null),this.onAdvancedSearchApplied=new r.a(null),this.onClearSearchApplied=new r.a(null)}return e.prototype.loadClientData=function(e,t){return this.getAllClients(e-1,t)},e.prototype.create=function(e){return this.webApiProvider.post("client/v1/",e,!0)},e.prototype.update=function(e){return this.webApiProvider.put("client/v1/"+e.id,e)},e.prototype.delete=function(e){return this.webApiProvider.delete("client/v1/"+e,!0)},e.prototype.getAllClients=function(e,t){return this.webApiProvider.get("client/v1/list/"+e+"/"+t,!0)},e.prototype.getMainAndSubClientsNoPagination=function(){return this.webApiProvider.get("client/v1/list?includeSubClients=true",!0)},e.prototype.getAllClientsNoPagination=function(){return this.webApiProvider.get("client/v1/list",!0)},e.prototype.getAllSubClientsForGivenMainClient=function(e){return this.webApiProvider.get("client/v1/list/"+e)},e.prototype.getDepotForClient=function(e){return this.webApiProvider.post("depot/v1/userdepots?clientId="+e,null,!0)},e.prototype.getClientLedger=function(e,t,n){return this.webApiProvider.getwithSearchParam("client/ledger/v1/list/"+e+"/"+t,n.params)},e.prototype.getClientById=function(e){var t=this;return this.loadingData=!0,this.getAllClienById(e).pipe(Object(o.a)((function(e){return t.onClientSelected.next({client:e}),t.loadingData=!1,e})))},e.prototype.selectClient=function(e){return t=this,void 0,r=function(){var t=this;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(l){a=[6,l],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(n){return this.loadingData=!0,this.getAllClienById(e.id).subscribe((function(e){t.onClientSelected.next({client:e}),t.loadingData=!1})),[2]}))},new((n=void 0)||(n=Promise))((function(e,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function i(e){try{l(r.throw(e))}catch(t){o(t)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,i)}l((r=r.apply(t,[])).next())}));var t,n,r},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.getAllClienById=function(e){return this.webApiProvider.get("client/v1/"+e)},e.prototype.getAllClientAssociationGroup=function(){return this.webApiProvider.get("client-assoc-grp/v1/list")},e.prototype.performAdvancedSearch=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.getwithSearchParam("client/v1/list/0/6",e.params).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({clients:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.performAdvancedSearchWithQuery=function(e,t,n){var r=this;this.loadingCollection=!0,this.webApiProvider.get("client/v1/list/"+e+"/"+t+n,!0).subscribe((function(e){e&&(r.onAdvancedSearchApplied.next({clients:e}),r.loadingCollection=!1)}),(function(e){r.toastr.error(e.errorMessage,"Failed"),r.loadingCollection=!1}))},e.prototype.search=function(e,t,n){return this.webApiProvider.get("client/v1/list/"+(t-1)+"/"+n+e)},e.prototype.getAllMainClients=function(){return this.webApiProvider.get("client/v1/list",!0)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](l.b),i["\u0275\u0275inject"](a.c))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);