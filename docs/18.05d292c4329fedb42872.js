(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"4iqE":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e){return e[e.ADD=0]="ADD",e[e.EDIT=1]="EDIT",e[e.READ_ONLY=2]="READ_ONLY",e[e.CLONE=3]="CLONE",e}({}),a=function(e){return e[e.CREATE=0]="CREATE",e[e.UPDATE=1]="UPDATE",e[e.SUBMIT=2]="SUBMIT",e[e.APPROVE=3]="APPROVE",e[e.REJECT=4]="REJECT",e[e.DELETE=5]="DELETE",e[e.CANCEL=6]="CANCEL",e[e.DISCARD=7]="DISCARD",e}({})},EbFV:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("0o5J"),a=n("TYT/"),i=function(){function e(e){this.webApiProvier=e}return e.prototype.getProductTypes=function(){return this.webApiProvier.get("product/v1/list",!0)},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](r.c))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"Jq/4":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("26FU"),a=n("67Y/"),i=n("0o5J"),o=n("TYT/"),l=n("qT8p"),p=function(){function e(e,t){this.toastr=e,this.webApiProvider=t,this.onDepotSelected=new r.a(null),this.onAdvancedSearchApplied=new r.a(null),this.onClearSearchApplied=new r.a(null)}return e.prototype.loadDepotData=function(e,t){return this.loadDepotDataNoPagination(e,t)},e.prototype.loadDepotDataNoPagination=function(e,t){return this.getAllDepotsNoPagination()},e.prototype.create=function(e){return this.webApiProvider.post("depot/v1/",e,!0)},e.prototype.update=function(e){return this.webApiProvider.put("depot/v1/"+e.id,e)},e.prototype.delete=function(e){return this.webApiProvider.delete("depot/v1/"+e,!0)},e.prototype.getAllDepots=function(e,t){return this.webApiProvider.get("depot/v1/allDepots/",!0)},e.prototype.getAllDepotsPaginated=function(e,t){return this.webApiProvider.get("depot/v1/list/"+e+"/"+t,!0)},e.prototype.getAllDepotsNoPagination=function(){return this.webApiProvider.get("depot/v1/allDepots",!0)},e.prototype.getAllTanksForDepot=function(e){return this.webApiProvider.post("depot/v1/depottanks/"+e,null,!0)},e.prototype.selectDepot=function(e){this.loadingCollection=!0,this.loadingData=!0,this.delay(500),this.onDepotSelected.next({depot:e}),this.loadingData=!1},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.loadDepotById=function(e){var t=this;return this.loadingData=!0,this.getDepotById(e).pipe(Object(a.a)((function(e){return t.onDepotSelected.next({depot:e}),t.loadingData=!1,e})))},e.prototype.getDepotById=function(e){return this.webApiProvider.get("depot/v1/"+e)},e.prototype.performAdvancedSearch=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.get("depot/v1/list/0/6"+e,!0).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({depots:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.performAdvancedSearchPost=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.postwithSearchParam("depot/v1/depots",e.params).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({depots:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.getProductsForDepot=function(e){return this.webApiProvider.post("depot/v1/depotprods?depotId="+e,null,!0)},e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](l.b),o["\u0275\u0275inject"](i.c))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},TkLX:function(e,t,n){"use strict";n.r(t);var r=n("Valr"),a=n("jpmr"),i=n("TYT/"),o=n("he9t"),l=n("EbFV"),p=n("Jq/4"),c=n("oR8h"),s=function(){return function(e){Object.assign(this,e)}}(),d=n("DUip"),u=n("o8Qb"),m=n("QJY3"),v=n("MnXN"),f=n("qT8p"),h=n("1PnN"),b=n("1ziV"),y=n("3rkx");function g(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",32),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](),i["\u0275\u0275reference"](66).click()})),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,"inventoryBal.form.button.clickToAdd")))}function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.fileName," ")}}function E(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"i",33),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().attachedFile=null})),i["\u0275\u0275elementEnd"]()}}function C(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"app-spinner-wrapper",34),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("showSpinner",n.showProgress)}}var A=function(){return{"w-100":!0}},I=function(){function e(e,t,n,r,a,i,o,l,p,c,d){this.clientService=e,this.balanceService=t,this.depotService=n,this.productService=r,this.router=a,this.constants=i,this.route=o,this.ts=l,this.fb=p,this.modalService=c,this.toastr=d,this.clients=[],this.depots=[],this.products=[],this.showProgress=!1,this.navigationUrl="inventory/balance",this.fileName="",this.adjustmentTypes=[{value:"DEBIT",display:"Debit"},{value:"CREDIT",display:"Credit"}],this.balanceAdjustmentRequest=new s}return e.prototype.ngOnInit=function(){this.showProgress=!0,this.header="Adjust balance",this.prepareObj(),this.loadBasicDetails(),this.setForm(this.balanceAdjustmentRequest),this.balAdjustForm.controls.clientId.disable(),this.balAdjustForm.controls.depotId.disable(),this.balAdjustForm.controls.productId.disable(),this.showProgress=!1},e.prototype.loadBasicDetails=function(){var e=this;this.clientService.getMainAndSubClientsNoPagination().subscribe((function(t){e.clients=t})),this.depotService.getAllDepotsNoPagination().subscribe((function(t){e.depots=t.data.depots})),this.productService.getProductTypes().subscribe((function(t){e.products=t}))},e.prototype.prepareObj=function(){this.balanceAdjustmentRequest.clientId=this.balance.clientId,this.balanceAdjustmentRequest.depotId=this.balance.depotId,this.balanceAdjustmentRequest.productId=this.balance.productId},e.prototype.setForm=function(e){this.balAdjustForm=this.fb.group({clientId:e.clientId,depotId:e.depotId,productId:e.productId,agreement:null,quantity:0,referenceNo:null,adjustmentType:null,currentBalance:this.balance.actualBalance})},e.prototype.onFileChange=function(e){var t=this;this.fileName="";var n=new FileReader;if(e.target.files&&e.target.files.length>0){var r=e.target.files[0];this.attachedFile=r,this.fileName=r.name,n.readAsDataURL(r),n.onload=function(){t.balAdjustForm.get("agreement").setValue({id:null,name:r.name,content:n.result.split(",")[1]})}}},e.prototype.save=function(){var e=this;this.showProgress=!0,this.balanceAdjustmentRequest=this.balAdjustForm.value,this.balanceService.update(this.balanceAdjustmentRequest).subscribe((function(t){e.toastr.success("Balance adjusted successfully !","Success",{timeOut:4e3}),e.showProgress=!1}),(function(t){JSON.parse(t.error),e.toastr.error("Something went wrong !","Failed",{timeOut:4e3}),e.showProgress=!1}))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](c.a),i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](p.a),i["\u0275\u0275directiveInject"](l.a),i["\u0275\u0275directiveInject"](d.h),i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](d.a),i["\u0275\u0275directiveInject"](u.d),i["\u0275\u0275directiveInject"](m.FormBuilder),i["\u0275\u0275directiveInject"](v.m),i["\u0275\u0275directiveInject"](f.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-balance-adjustment-editor"]],inputs:{balance:"balance"},decls:83,vars:68,consts:[[1,"breadcrumb"],[1,"row"],[1,"col-lg-9"],[3,"formGroup"],[1,"border-top","mb-5"],[1,"form-group","row"],["for","client",1,"col-md-3","col-form-label","required"],[1,"col-md-4","input-group"],["bindLabel","name","bindValue","id","formControlName","clientId",3,"items","multiple","ngClass","placeholder"],["for","depot",1,"col-md-3","col-form-label","required"],["bindLabel","name","bindValue","id","formControlName","depotId",3,"items","multiple","ngClass","placeholder"],["bindLabel","name","bindValue","id","formControlName","productId",3,"items","multiple","ngClass","placeholder"],["for","client",1,"col-md-3","col-form-label"],[1,"col-md-4","input-group","mb-3"],["type","text","formControlName","currentBalance","disabled","",1,"form-control"],[1,"input-group-append"],["id","basic-addon1",1,"input-group-text"],["bindLabel","display","bindValue","value","formControlName","adjustmentType","required","",3,"items","multiple","ngClass","placeholder"],["type","text","formControlName","quantity",1,"form-control"],["type","nubmer","formControlName","referenceNo",1,"form-control"],["for","attachment",1,"col-md-3","col-form-label"],[1,"col-md-3"],["hidden","","type","file",3,"change"],["attachmentFileInput","","fileInput",""],["color","primary","class","btn btn-light",3,"click",4,"ngIf"],[4,"ngIf"],["class","fas fa-trash pull-right justify-content-center pointer pt-1",3,"click",4,"ngIf"],[1,"col-sm-10","btn-toolbar"],["type","submit","placement","top","placement","top","ngbTooltip","Save the dispatch","triggers","mouseenter:mouseleave",1,"btn","btn-primary","mr-2",3,"click"],["aria-hidden","true",1,"fa","fa-floppy-o","mr-2"],["type","button","appConfirmation","","placement","top","ngbTooltip","Cancel the dispatch","triggers","mouseenter:mouseleave",1,"btn","btn-outline-primary","mr-2",3,"navigationUrl"],["aria-hidden","true",1,"fa","fa-times"],["color","primary",1,"btn","btn-light",3,"click"],[1,"fas","fa-trash","pull-right","justify-content-center","pointer","pt-1",3,"click"],[3,"showSpinner"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h1"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",1),i["\u0275\u0275elementStart"](4,"div",2),i["\u0275\u0275elementStart"](5,"form",3),i["\u0275\u0275element"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275elementStart"](8,"label",6),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",7),i["\u0275\u0275element"](12,"ng-select",8),i["\u0275\u0275pipe"](13,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",5),i["\u0275\u0275elementStart"](15,"label",9),i["\u0275\u0275text"](16),i["\u0275\u0275pipe"](17,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",7),i["\u0275\u0275element"](19,"ng-select",10),i["\u0275\u0275pipe"](20,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",5),i["\u0275\u0275elementStart"](22,"label",6),i["\u0275\u0275text"](23),i["\u0275\u0275pipe"](24,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"div",7),i["\u0275\u0275element"](26,"ng-select",11),i["\u0275\u0275pipe"](27,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",5),i["\u0275\u0275elementStart"](29,"label",12),i["\u0275\u0275text"](30),i["\u0275\u0275pipe"](31,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"div",13),i["\u0275\u0275element"](33,"input",14),i["\u0275\u0275elementStart"](34,"div",15),i["\u0275\u0275elementStart"](35,"span",16),i["\u0275\u0275text"](36),i["\u0275\u0275pipe"](37,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](38,"div",5),i["\u0275\u0275elementStart"](39,"label",6),i["\u0275\u0275text"](40),i["\u0275\u0275pipe"](41,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"div",7),i["\u0275\u0275element"](43,"ng-select",17),i["\u0275\u0275pipe"](44,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](45,"div",5),i["\u0275\u0275elementStart"](46,"label",6),i["\u0275\u0275text"](47),i["\u0275\u0275pipe"](48,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"div",13),i["\u0275\u0275element"](50,"input",18),i["\u0275\u0275elementStart"](51,"div",15),i["\u0275\u0275elementStart"](52,"span",16),i["\u0275\u0275text"](53,"Liters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](54,"div",5),i["\u0275\u0275elementStart"](55,"label",6),i["\u0275\u0275text"](56),i["\u0275\u0275pipe"](57,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](58,"div",7),i["\u0275\u0275element"](59,"input",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](60,"div",5),i["\u0275\u0275elementStart"](61,"label",20),i["\u0275\u0275text"](62),i["\u0275\u0275pipe"](63,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](64,"div",21),i["\u0275\u0275elementStart"](65,"input",22,23),i["\u0275\u0275listener"]("change",(function(e){return t.onFileChange(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](68,g,3,3,"button",24),i["\u0275\u0275template"](69,S,2,1,"span",25),i["\u0275\u0275template"](70,E,1,0,"i",26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](71,"div",4),i["\u0275\u0275elementStart"](72,"div",5),i["\u0275\u0275elementStart"](73,"div",27),i["\u0275\u0275elementStart"](74,"button",28),i["\u0275\u0275listener"]("click",(function(){return t.save()})),i["\u0275\u0275element"](75,"i",29),i["\u0275\u0275text"](76),i["\u0275\u0275pipe"](77,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](78,"button",30),i["\u0275\u0275element"](79,"i",31),i["\u0275\u0275text"](80),i["\u0275\u0275pipe"](81,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](82,C,2,1,"div",25),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.header),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formGroup",t.balAdjustForm),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](10,34,"common.label.client")," *"),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](13,36,"common.placeHolder.client")),i["\u0275\u0275property"]("items",t.clients)("multiple",!1)("ngClass",i["\u0275\u0275pureFunction0"](64,A)),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](17,38,"common.label.depot")," *"),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](20,40,"common.placeHolder.depot")),i["\u0275\u0275property"]("items",t.depots)("multiple",!1)("ngClass",i["\u0275\u0275pureFunction0"](65,A)),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](24,42,"common.label.productType")," *"),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](27,44,"common.placeHolder.productType")),i["\u0275\u0275property"]("items",t.products)("multiple",!1)("ngClass",i["\u0275\u0275pureFunction0"](66,A)),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](31,46,"inventoryBal.form.label.currentBal")),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](37,48,"inventoryBal.form.litres")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](41,50,"inventoryBal.form.label.adjustType")),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](44,52,"inventoryBal.form.placeHolder.selectAdjustType")),i["\u0275\u0275property"]("items",t.adjustmentTypes)("multiple",!1)("ngClass",i["\u0275\u0275pureFunction0"](67,A)),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](48,54,"inventoryBal.form.label.adjustQuant")),i["\u0275\u0275advance"](9),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](57,56,"common.label.referenceNo")),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](63,58,"inventoryBal.form.label.agreement")),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",!t.attachedFile),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.attachedFile),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.attachedFile),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](77,60,"common.button.save")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("navigationUrl",t.navigationUrl),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](81,62,"common.button.cancel"),""),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.showProgress))},directives:[m["\u0275angular_packages_forms_forms_y"],m.NgControlStatusGroup,m.FormGroupDirective,h.a,m.NgControlStatus,m.FormControlName,r.n,m.DefaultValueAccessor,m.RequiredValidator,r.p,v.A,b.a,y.a],pipes:[u.c],styles:[""]}),e}(),D=function(){function e(e){this.balanceService=e}return e.prototype.ngOnInit=function(){var e=this;this.selectBalanceSub=this.balanceService.onBalanceSelected.subscribe((function(t){e.balance=t.balance}))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-adjust"]],decls:1,vars:1,consts:[[3,"balance"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"app-balance-adjustment-editor",0),2&e&&i["\u0275\u0275property"]("balance",t.balance)},directives:[I],styles:[""]}),e}(),T=n("mB2O"),w=n("Gi3i"),N=n("cUzu"),P=n("9uVP");function x(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td"),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td"),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td"),i["\u0275\u0275elementStart"](12,"button",23),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);var e=t.$implicit;return i["\u0275\u0275nextContext"](2).adjustBalance(e)})),i["\u0275\u0275element"](13,"i",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",r.clientName," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",r.depotName," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",r.productName," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",r.availableBalance," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",r.actualBalance," ")}}function F(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tbody"),i["\u0275\u0275template"](1,x,14,5,"tr",22),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",n.balances)}}function R(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"app-spinner-wrapper",25),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("showSpinner",n.showProgress)}}function B(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",26),i["\u0275\u0275text"](1,"No record found!"),i["\u0275\u0275elementEnd"]())}var j=function(){function e(e,t,n,r,a,i,o){var l=this;this.productService=e,this.balanceService=t,this.productTypeService=n,this.constants=r,this.router=a,this.route=i,this.toastr=o,this.showProgress=!1,this.balances=[],this.page=1,this.pageSize=this.constants.pageSize,this.clientControl=new m.FormControl,this.depotControl=new m.FormControl,this.productControl=new m.FormControl,this.availableControl=new m.FormControl,this.actualControl=new m.FormControl,this.clientId=null,this.depotId=null,this.productId=null,this.productTypeService.getProductTypes().subscribe((function(e){l.products=e}))}return e.prototype.ngOnInit=function(){var e=this;this.showProgress=!0,this.balanceService.getAllBalances(this.page-1,this.pageSize).subscribe((function(t){e.balances=t.content,e.collectionSize=t.totalElements,e.showProgress=!1})),this.clientControl.valueChanges.pipe(Object(w.a)(200)).subscribe((function(t){e.filterData()})),this.depotControl.valueChanges.pipe(Object(w.a)(200)).subscribe((function(t){e.filterData()})),this.productControl.valueChanges.pipe(Object(w.a)(200)).subscribe((function(t){e.filterData()})),this.productControl.valueChanges.pipe(Object(w.a)(200)).subscribe((function(t){e.filterData()}))},e.prototype.filterData=function(){var e=this;this.showProgress=!0;var t=this.clientControl.value,n=this.depotControl.value,r=this.productControl.value,a={params:(new N.f).set("clientName",t||"").set("depotName",n||"").set("productId",r||"")};this.balanceService.search(this.page-1,this.pageSize,a).subscribe((function(t){e.balances=t.content,e.collectionSize=t.totalElements,e.showProgress=!1}),(function(t){e.toastr.error(P.a.getErrorMessage(t),"Failed",{timeOut:4e3}),e.showProgress=!1}))},e.prototype.getPageFromService=function(e){var t=this;this.showProgress=!0,this.balanceService.getAllBalances(e-1,this.pageSize).subscribe((function(e){t.balances=e.content,t.collectionSize=e.totalElements,t.showProgress=!1}),(function(e){console.log(e.error),t.showProgress=!1}))},e.prototype.newOpeningBalance=function(){this.router.navigate(["add"],{relativeTo:this.route})},e.prototype.adjustBalance=function(e){this.balanceService.selectBalance(e),this.router.navigate(["adjust"],{relativeTo:this.route})},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](T.a),i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](l.a),i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](d.h),i["\u0275\u0275directiveInject"](d.a),i["\u0275\u0275directiveInject"](f.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-balance"]],decls:46,vars:16,consts:[[1,""],[1,"breadcrumb"],[1,"separator-breadcrumb","border-top"],[1,"row","no-margin","mt-3"],[1,"card","card-body"],[1,"row","justify-content-end","mb-3","pl-10"],["type","button",1,"btn","btn-primary",3,"click"],[1,"table","table-striped"],["scope","col"],[1,"pl-0"],[1,"form-group","m-0","flex-grow-1","pl-0"],["id","search","placeholder","Search client name",1,"form-control",3,"formControl"],[1,"form-group","m-0","flex-grow-1"],["id","search","placeholder","Search depot name",1,"form-control",3,"formControl"],["bindLabel","name","bindValue","id","placeholder","Select product",3,"items","multiple","formControl"],["id","search","placeholder","Search avilable balance",1,"form-control",3,"formControl"],["id","search","placeholder","Search actual balance",1,"form-control",3,"formControl"],[4,"ngIf"],[1,"row","no-margin","w-100","d","justify-content-center","mb-3"],["class","item-label text-muted font-14",4,"ngIf"],[1,"row","no-margin","pagination-div","border-rightr","justify-content-center"],["aria-label","Default pagination",3,"collectionSize","page","pageSize","maxSize","ellipses","boundaryLinks","pageChange"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-sliders"],[3,"showSpinner"],[1,"item-label","text-muted","font-14"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"h1"),i["\u0275\u0275text"](3,"Inventory balance"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"div",2),i["\u0275\u0275elementStart"](5,"div",3),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275elementStart"](8,"button",6),i["\u0275\u0275listener"]("click",(function(){return t.newOpeningBalance()})),i["\u0275\u0275text"](9,"New"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"table",7),i["\u0275\u0275elementStart"](11,"thead"),i["\u0275\u0275elementStart"](12,"tr"),i["\u0275\u0275elementStart"](13,"th",8),i["\u0275\u0275text"](14,"Client"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"th",8),i["\u0275\u0275text"](16,"Depot"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"th",8),i["\u0275\u0275text"](18,"Product"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"th",8),i["\u0275\u0275text"](20,"Available balance"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"th",8),i["\u0275\u0275text"](22,"Actual balance"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](23,"th",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"tr"),i["\u0275\u0275elementStart"](25,"td",9),i["\u0275\u0275elementStart"](26,"div",10),i["\u0275\u0275element"](27,"input",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"td",9),i["\u0275\u0275elementStart"](29,"div",12),i["\u0275\u0275element"](30,"input",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"td",9),i["\u0275\u0275elementStart"](32,"div",12),i["\u0275\u0275element"](33,"ng-select",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"td",9),i["\u0275\u0275elementStart"](35,"div",12),i["\u0275\u0275element"](36,"input",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"td",9),i["\u0275\u0275elementStart"](38,"div",12),i["\u0275\u0275element"](39,"input",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](40,F,2,1,"tbody",17),i["\u0275\u0275template"](41,R,2,1,"div",17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"div",18),i["\u0275\u0275template"](43,B,2,0,"p",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"div",20),i["\u0275\u0275elementStart"](45,"ngb-pagination",21),i["\u0275\u0275listener"]("pageChange",(function(e){return t.page=e}))("pageChange",(function(e){return t.getPageFromService(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](27),i["\u0275\u0275property"]("formControl",t.clientControl),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formControl",t.depotControl),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("items",t.products)("multiple",!1)("formControl",t.productControl),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formControl",t.availableControl),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formControl",t.actualControl),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.balances.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showProgress),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",0==t.balances.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("collectionSize",t.collectionSize)("page",t.page)("pageSize",t.pageSize)("maxSize",4)("ellipses",!0)("boundaryLinks",!0))},directives:[m.DefaultValueAccessor,m.NgControlStatus,m.FormControlDirective,h.a,r.p,v.o,r.o,y.a],styles:[""]}),e}(),L=n("4iqE"),O=n("zDFo");function V(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",28),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](),i["\u0275\u0275reference"](46).click()})),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](2,1,"inventoryBal.form.button.clickToAdd")," "))}function M(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.fileName," ")}}function k(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"i",29),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().attachedFile=null})),i["\u0275\u0275elementEnd"]()}}function U(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"app-spinner-wrapper",30),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("showSpinner",n.showProgress)}}var _=function(){return{"w-100":!0}},Y=function(){function e(e,t,n,r,a,i,o,l,p,c,s){this.clientService=e,this.balanceService=t,this.depotService=n,this.productService=r,this.router=a,this.constants=i,this.ts=o,this.route=l,this.fb=p,this.modalService=c,this.toastr=s,this.showProgress=!1,this.fileName="",this.navigationUrl="inventory/balance",this.setForm()}return e.prototype.ngOnInit=function(){var e=this;this.showProgress=!0,this.header=this.action===L.a.ADD||this.action===L.a.CLONE?"New Opening Balance":"Adjust Balance",this.route.params.subscribe((function(t){return e.balanceId=t.id})),this.clientService.getMainAndSubClientsNoPagination().subscribe((function(t){e.clients=t})),this.depotService.getAllDepotsNoPagination().subscribe((function(t){e.depots=t.data.depots})),this.productService.getProductTypes().subscribe((function(t){e.productTypes=t})),this.showProgress=!1},e.prototype.loadDepot=function(e){var t=this;this.showProgress=!0;var n=e.id;""!==n&&this.clientService.getDepotForClient(n).subscribe((function(e){t.depots=e.data.depots.map((function(e){return{id:e.id,name:e.name}})),t.showProgress=!1})),this.showProgress=!1},e.prototype.openClientSearch=function(){var e=this,t=this.modalService.open(O.a,{ariaLabelledBy:"modal-basic-title",centered:!0,size:"md"});t.componentInstance.modalTitle="Select client",t.componentInstance.clientType="MAIN_CLIENT",t.result.then((function(t){t.status?e.balanceForm.get("client").setValue(t.client.id):console.log("Modal closed")}))},e.prototype.onFileChange=function(e){var t=this;this.fileName="";var n=new FileReader;if(e.target.files&&e.target.files.length>0){var r=e.target.files[0];this.attachedFile=r,this.fileName=r.name,n.readAsDataURL(r),n.onload=function(){t.balanceForm.get("agreement").setValue({id:null,name:r.name,content:n.result.split(",")[1]})}}},e.prototype.save=function(){var e=this;this.showProgress=!0,this.balanceService.create(this.balanceForm.value).subscribe((function(t){e.toastr.success("Opening balance successfully created","Success",{timeOut:4e3}),e.showProgress=!1}),(function(t){var n=JSON.parse(t.error);e.toastr.error(n.errorMessage,"Failed",{timeOut:4e3}),e.showProgress=!1}))},e.prototype.setForm=function(){this.balanceForm=this.fb.group({clientId:null,depotId:null,agreement:null,openingBalance:0,productId:null})},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](c.a),i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](p.a),i["\u0275\u0275directiveInject"](l.a),i["\u0275\u0275directiveInject"](d.h),i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](u.d),i["\u0275\u0275directiveInject"](d.a),i["\u0275\u0275directiveInject"](m.FormBuilder),i["\u0275\u0275directiveInject"](v.m),i["\u0275\u0275directiveInject"](f.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-balance-editor"]],inputs:{action:"action",balanceId:"balanceId"},decls:61,vars:52,consts:[[1,"breadcrumb"],[1,"row"],[1,"col-lg-9"],[3,"formGroup"],[1,"border-top","mb-5"],[1,"form-group","row"],["for","client",1,"col-md-2","col-form-label","required"],[1,"col-md-4","input-group"],["bindLabel","name","bindValue","id","formControlName","clientId","required","",3,"items","multiple","ngClass","placeholder"],[1,"col-md-1","no-margin","pointer","p-0",3,"click"],[1,"fa","fa-search","mt-2"],["for","depot",1,"col-md-2","col-form-label","required"],["bindLabel","name","bindValue","id","formControlName","depotId","required","",3,"items","multiple","ngClass","placeholder"],["bindLabel","name","bindValue","id","formControlName","productId","required","",3,"items","multiple","ngClass","placeholder"],[1,"col-md-4","input-group","mb-3"],["type","number","formControlName","openingBalance",1,"form-control"],[1,"input-group-append"],["id","basic-addon1",1,"input-group-text"],["for","attachment",1,"col-md-2","col-form-label"],[1,"col-md-3"],["hidden","","type","file",3,"change"],["attachmentFileInput","","fileInput",""],["color","primary","class","btn btn-light",3,"click",4,"ngIf"],[4,"ngIf"],["class","fas fa-trash pull-right justify-content-center pointer pt-1",3,"click",4,"ngIf"],[1,"col-sm-10","btn-toolbar"],["type","submit","placement","top","placement","top","ngbTooltip","Save the dispatch","triggers","mouseenter:mouseleave",1,"btn","btn-primary","mr-2",3,"click"],["type","button","appConfirmation","","placement","top","ngbTooltip","Cancel the dispatch","triggers","mouseenter:mouseleave",1,"btn","btn-outline-primary","mr-2",3,"navigationUrl"],["color","primary",1,"btn","btn-light",3,"click"],[1,"fas","fa-trash","pull-right","justify-content-center","pointer","pt-1",3,"click"],[3,"showSpinner"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h1"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",1),i["\u0275\u0275elementStart"](4,"div",2),i["\u0275\u0275elementStart"](5,"form",3),i["\u0275\u0275element"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275elementStart"](8,"label",6),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",7),i["\u0275\u0275element"](12,"ng-select",8),i["\u0275\u0275pipe"](13,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",9),i["\u0275\u0275listener"]("click",(function(){return t.openClientSearch()})),i["\u0275\u0275element"](15,"i",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",5),i["\u0275\u0275elementStart"](17,"label",11),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"div",7),i["\u0275\u0275element"](21,"ng-select",12),i["\u0275\u0275pipe"](22,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"div",5),i["\u0275\u0275elementStart"](24,"label",6),i["\u0275\u0275text"](25),i["\u0275\u0275pipe"](26,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"div",7),i["\u0275\u0275element"](28,"ng-select",13),i["\u0275\u0275pipe"](29,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",5),i["\u0275\u0275elementStart"](31,"label",6),i["\u0275\u0275text"](32),i["\u0275\u0275pipe"](33,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"div",14),i["\u0275\u0275element"](35,"input",15),i["\u0275\u0275elementStart"](36,"div",16),i["\u0275\u0275elementStart"](37,"span",17),i["\u0275\u0275text"](38),i["\u0275\u0275pipe"](39,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"div",5),i["\u0275\u0275elementStart"](41,"label",18),i["\u0275\u0275text"](42),i["\u0275\u0275pipe"](43,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"div",19),i["\u0275\u0275elementStart"](45,"input",20,21),i["\u0275\u0275listener"]("change",(function(e){return t.onFileChange(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](48,V,3,3,"button",22),i["\u0275\u0275template"](49,M,2,1,"span",23),i["\u0275\u0275template"](50,k,1,0,"i",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](51,"div",4),i["\u0275\u0275elementStart"](52,"div",5),i["\u0275\u0275elementStart"](53,"div",25),i["\u0275\u0275elementStart"](54,"button",26),i["\u0275\u0275listener"]("click",(function(){return t.save()})),i["\u0275\u0275text"](55),i["\u0275\u0275pipe"](56,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](57,"button",27),i["\u0275\u0275text"](58),i["\u0275\u0275pipe"](59,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](60,U,2,1,"div",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.header),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formGroup",t.balanceForm),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](10,27,"common.label.client")," *"),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](13,29,"common.placeHolder.selectClient")),i["\u0275\u0275property"]("items",t.clients)("multiple",!1)("ngClass",i["\u0275\u0275pureFunction0"](49,_)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](19,31,"common.label.depot")," *"),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](22,33,"common.placeHolder.selectDepot")),i["\u0275\u0275property"]("items",t.depots)("multiple",!1)("ngClass",i["\u0275\u0275pureFunction0"](50,_)),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](26,35,"common.label.client")," *"),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](29,37,"common.placeHolder.productType")),i["\u0275\u0275property"]("items",t.productTypes)("multiple",!1)("ngClass",i["\u0275\u0275pureFunction0"](51,_)),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](33,39,"inventoryBal.form.label.openingBal")),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](39,41,"inventoryBal.form.litres")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](43,43,"common.label.attachment")," *"),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",!t.attachedFile),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.attachedFile),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.attachedFile),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](56,45,"common.button.save"),""),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("navigationUrl",t.navigationUrl),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](59,47,"common.button.cancel"),""),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.showProgress))},directives:[m["\u0275angular_packages_forms_forms_y"],m.NgControlStatusGroup,m.FormGroupDirective,h.a,m.NgControlStatus,m.FormControlName,m.RequiredValidator,r.n,m.NumberValueAccessor,m.DefaultValueAccessor,r.p,v.A,b.a,y.a],pipes:[u.c],styles:[""]}),e}(),q=[{path:"",component:j},{path:"add",component:function(){function e(){this.action=L.a.ADD}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add"]],decls:1,vars:1,consts:[[3,"action"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"app-balance-editor",0),2&e&&i["\u0275\u0275property"]("action",t.action)},directives:[Y],styles:[""]}),e}()},{path:"adjust",component:D}],G=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[d.l.forChild(q)],d.l]}),e}(),z=n("oOf3"),J=n("X2FZ"),H=n("jgPy"),W=n("jASi");n.d(t,"InventoryModule",(function(){return X}));var X=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,G,m.FormsModule,m.ReactiveFormsModule,z.a,J.e,v.n,h.b,H.a,h.b,W.AppFormsModule]]}),e}()},he9t:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("TYT/"),a=function(){function e(){this.crudStatus=[{code:"ACTIVE",display:"Active"},{code:"INACTIVE",display:"Inactive"}],this.clientTypes=[{code:"MAIN_CLIENT",display:"Main client"},{code:"SUB_CLIENT",display:"Sub client"},{code:"MAIN_SUB_CLIENT",display:"Main and sub client"}],this.yesNoConstants=[{code:!0,display:"Yes"},{code:!1,display:"No"}],this.waybillStatus=[{code:"CREATED",display:"Created"},{code:"CANCELED",display:"Cancelled"},{code:"DELIVERED ",display:"Delivered"}],this.filterAction=[{value:"ALL",display:"All"},{value:"OPEN",display:"Open"},{value:"SUBMITTED",display:"Submitted"},{value:"APPROVED",display:"Approved"},{value:"REJECTED",display:"Rejected"},{value:"CANCELLED",display:"Cancelled"},{value:"PARTIALLY_EXECUTED",display:"Partially Executed"},{value:"EXECUTED",display:"Executed"},{value:"DISCARDED",display:"Discarded"},{value:"REOPENED",display:"Reopened"},{value:"SUBMIT_SYS_CANCELLED",display:"Submit sys cancelled"},{value:"APPROVE_SYS_CANCELLED",display:"Approve sys cancelled"},{value:"PARTIAL_SYS_CANCELLED",display:"Partial sys cancelled"}],this.transferTypes=[{value:"SWAP",display:"Inter Depot Swap"},{value:"INTRASWAP",display:"Intra Depot Swap"},{value:"RELEASE",display:"Release"}],this.eodJobTypes=[{value:"BALANCEUPDATE",display:"Update Actual Balances"},{value:"RESETBALANCE",display:"Reset Available Balances"},{value:"DISPATCHSTATUS",display:"Update Dispatch Status"},{value:"DAILYTXNBALANCE",display:"Capture Daily Txn Balances"}],this.weekDays=[{value:"MONDAY",display:"Monday"},{value:"TUESDAY",display:"Tuesday"},{value:"WEDNESDAY",display:"Wednesday"},{value:"THURSDAY",display:"Thursday"},{value:"FRIDAY",display:"Friday"},{value:"SATURDAY",display:"Saturday"},{value:"SUNDAY",display:"Sunday"}],this.monthsOfYear=[{value:"JANUARY",display:"January"},{value:"FEBRUARY",display:"February"},{value:"MARCH",display:"March"},{value:"APRIL",display:"April"},{value:"MAY",display:"May"},{value:"JUNE",display:"June"},{value:"JULY",display:"July"},{value:"AUGUST",display:"August"},{value:"SEPTEMBER",display:"September"},{value:"OCTOBER",display:"October"},{value:"NOVEMBER",display:"November"},{value:"DECEMBER",display:"December"}],this.transferStatus=[{value:"OPEN",display:"Open"},{value:"SUBMITTED",display:"Submitted"},{value:"APPROVED",display:"Approved"},{value:"REJECTED",display:"Rejected"},{value:"CANCELLED",display:"Cancelled"},{value:"EXECUTED",display:"Executed"},{value:"DISCARDED",display:"Discarded"},{value:"REOPENED",display:"Reopened"}],this.depotDates=[{value:0,display:"Same Day"},{value:1,display:"Next Day"}],this.vesselTypes=[{value:"UNSPECIFIEDSHIPS",display:"Unspecified Ships"},{value:"NAVIDATION_AIDS",display:"Navigation Aids"},{value:"FISHING",display:"Fishing"},{value:"TUGS_SPECIAL_CRAFT",display:"Tugs And Special Craft"},{value:"HIGHSPEED_CRAFT",display:"High Speed Craft"},{value:"CARGO_VESSEL",display:"Cargo Vessel"},{value:"TANKERS_PLESURE_CRAFT",display:"Tankers And Pleasure Craft"}],this.vesselStatus=[{value:"EN_ROUTE_TO_PORT",display:"En route to port"},{value:"DOCKED_AT_PORT",display:"Docked At Port"},{value:"ANCHORED",display:"At Anchorage"},{value:"LEFT_DEPOT",display:"Left Depot"}],this.receiptTypes=[{value:"BARGE",display:"Barge"},{value:"PIPELINE",display:"Pipeline"},{value:"TRUCK",display:"Truck"},{value:"VESSEL",display:"Vessel"}],this.receiptVesselCountry=[{value:1,display:"Nigeria"},{value:2,display:"Ghana"}],this.receiptGhanaPorts=[{value:7,display:"Tema Port"},{value:8,display:"Tarkoradi Port"}],this.receiptNigeriaPorts=[{value:1,display:"Lagos Port"},{value:2,display:"Tin Can Port"},{value:3,display:"Delta Port"},{value:4,display:"Calabar Port"},{value:5,display:"Onne Port"},{value:6,display:"Rivers Port"}],this.receiptTankFields=[{label:"Gross Dip in MM",appendText:"MM",beforeFormControlName:"grossDipMMBeforeReceipt",aftrFormControlName:"grossDipMMAfterReceipt",type:"number"},{label:"Gross Volume in Liters",appendText:"Litre",beforeFormControlName:"grossDipBeforeReceipt",aftrFormControlName:"grossDipAfterReceipt",type:"number"},{label:"Water Dip in MM",appendText:"MM",beforeFormControlName:"waterDipMMBeforeReceipt",aftrFormControlName:"waterDipMMAfterReceipt",type:"number"},{label:"Water Volume in Litres",appendText:"Litre",beforeFormControlName:"waterDipBeforeReceipt",aftrFormControlName:"waterDipAfterReceipt",type:"number"},{label:"Net Volume",appendText:"Litre",beforeFormControlName:"netVolumeBeforeReceipt",aftrFormControlName:"netVolumeAfterReceipt",type:"number"},{label:"Tank Temperature",appendText:"Deg Cel",beforeFormControlName:"tankTemperatureBeforeReceipt",aftrFormControlName:"tankTemperatureAfterReceipt",type:"number"},{label:"Product Sample Temperature",appendText:"Deg Cel",beforeFormControlName:"sampleTemperatureBeforeReceipt",aftrFormControlName:"sampleTemperatureAfterReceipt",type:"number"},{label:"Product Sample Density",appendText:null,beforeFormControlName:"sampleDenistyBeforeReceipt",aftrFormControlName:"sampleDenistyAfterReceipt",type:"number"},{label:"Roof Weight",appendText:"KGs",beforeFormControlName:"roofWeightBeforeReceipt",aftrFormControlName:"roofWeightAfterReceipt",type:"number"},{label:"Density at 15\xb0C",appendText:null,beforeFormControlName:"densityAt15CBeforeReceipt",aftrFormControlName:"densityAt15CAfterReceipt",type:"number"},{label:"VCF54B",appendText:null,beforeFormControlName:"vcf54BBeforeReceipt",aftrFormControlName:"vcf54BAfterReceipt",type:"number"},{label:"WRF",appendText:null,beforeFormControlName:"wrfbeforeReceipt",aftrFormControlName:"wrfafterReceipt",type:"number"},{label:"Volume at Natural",appendText:"Litre",beforeFormControlName:"volumeAtNaturalBeforeReceipt",aftrFormControlName:"volumeAtNaturalAfterReceipt",type:"number"},{label:"Volume at 15\xb0C",appendText:"Litre",beforeFormControlName:"volumeAt15CBeforeReceipt",aftrFormControlName:"volumeAt15CAfterReceipt",type:"number"},{label:"Weight in Air",appendText:"Metric Ton",beforeFormControlName:"metricTonBeforeReceipt",aftrFormControlName:"metricTonAfterReceipt",type:"number"},{label:"Weight in Vacuum",appendText:"Metric Ton",beforeFormControlName:"metricTonVaccBeforeReceipt",aftrFormControlName:"metricTonVaccAfterReceipt",type:"number"},{label:"Roof Displacement",appendText:"Litre",beforeFormControlName:"roofDisplacementBeforeReceipt",aftrFormControlName:"roofDisplacementAfterReceipt",type:"number"}],this.receiptWorkFlowStatus=[{value:"OPEN",display:"Open"},{value:"SUBMITTED",display:"Submitted"},{value:"APPROVED",display:"Approved"},{value:"REJECTED",display:"Rejected"},{value:"CANCELLED",display:"Cancelled"},{value:"EXECUTED",display:"Executed"},{value:"DISCARDED",display:"Discarded"},{value:"REOPENED",display:"Reopened"}],this.readingPerfromed=[{value:"BEGIN_OF_DAY",display:"Beginning of the day"},{value:"END_OF_DAY",display:"End of day"},{value:"INTERMIDIATE",display:"Intraday"}],this.userTypes=[{value:"INTERNAL",display:"Internal User"},{value:"FINANCIAL",display:"Financier User"},{value:"CLIENT",display:"Client User"},{value:"SERVICE",display:"Service User"},{value:"TRANSPORTER",display:"Transporter User"}],this.languages=[{value:"en",display:"English"},{value:"fr",display:"French"}],this.pageSize=8,this.dispatchPageSize=8}return e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}()},oR8h:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("26FU"),a=n("67Y/"),i=n("0o5J"),o=n("TYT/"),l=n("qT8p"),p=function(){function e(e,t){this.toastr=e,this.webApiProvider=t,this.onClientSelected=new r.a(null),this.onAdvancedSearchApplied=new r.a(null),this.onClearSearchApplied=new r.a(null)}return e.prototype.loadClientData=function(e,t){return this.getAllClients(e-1,t)},e.prototype.create=function(e){return this.webApiProvider.post("client/v1/",e,!0)},e.prototype.update=function(e){return this.webApiProvider.put("client/v1/"+e.id,e)},e.prototype.delete=function(e){return this.webApiProvider.delete("client/v1/"+e,!0)},e.prototype.getAllClients=function(e,t){return this.webApiProvider.get("client/v1/list/"+e+"/"+t,!0)},e.prototype.getMainAndSubClientsNoPagination=function(){return this.webApiProvider.get("client/v1/list?includeSubClients=true",!0)},e.prototype.getAllClientsNoPagination=function(){return this.webApiProvider.get("client/v1/list",!0)},e.prototype.getAllSubClientsForGivenMainClient=function(e){return this.webApiProvider.get("client/v1/list/"+e)},e.prototype.getDepotForClient=function(e){return this.webApiProvider.post("depot/v1/userdepots?clientId="+e,null,!0)},e.prototype.getClientLedger=function(e,t,n){return this.webApiProvider.getwithSearchParam("client/ledger/v1/list/"+e+"/"+t,n.params)},e.prototype.getClientById=function(e){var t=this;return this.loadingData=!0,this.getAllClienById(e).pipe(Object(a.a)((function(e){return t.onClientSelected.next({client:e}),t.loadingData=!1,e})))},e.prototype.selectClient=function(e){return t=this,void 0,r=function(){var t=this;return function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(l){i=[6,l],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(n){return this.loadingData=!0,this.getAllClienById(e.id).subscribe((function(e){t.onClientSelected.next({client:e}),t.loadingData=!1})),[2]}))},new((n=void 0)||(n=Promise))((function(e,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,o)}l((r=r.apply(t,[])).next())}));var t,n,r},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.getAllClienById=function(e){return this.webApiProvider.get("client/v1/"+e)},e.prototype.getAllClientAssociationGroup=function(){return this.webApiProvider.get("client-assoc-grp/v1/list")},e.prototype.performAdvancedSearch=function(e){var t=this;this.loadingCollection=!0,this.webApiProvider.getwithSearchParam("client/v1/list/0/6",e.params).subscribe((function(e){e&&(t.onAdvancedSearchApplied.next({clients:e}),t.loadingCollection=!1)}),(function(e){t.toastr.error(e.errorMessage,"Failed"),t.loadingCollection=!1}))},e.prototype.performAdvancedSearchWithQuery=function(e,t,n){var r=this;this.loadingCollection=!0,this.webApiProvider.get("client/v1/list/"+e+"/"+t+n,!0).subscribe((function(e){e&&(r.onAdvancedSearchApplied.next({clients:e}),r.loadingCollection=!1)}),(function(e){r.toastr.error(e.errorMessage,"Failed"),r.loadingCollection=!1}))},e.prototype.search=function(e,t,n){return this.webApiProvider.get("client/v1/list/"+(t-1)+"/"+n+e)},e.prototype.getAllMainClients=function(){return this.webApiProvider.get("client/v1/list",!0)},e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](l.b),o["\u0275\u0275inject"](i.c))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);